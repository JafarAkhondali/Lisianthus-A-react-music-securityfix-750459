!function(o){function e(e){for(var t,n,r=e[0],a=e[1],i=e[2],l=0,u=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&u.push(c[n][0]),c[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);u.length;)u.shift()();return f.push.apply(f,i||[]),s()}function s(){for(var e,t=0;t<f.length;t++){for(var n=f[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(r=!1)}r&&(f.splice(t--,1),e=l(l.s=n[0]))}return e}var n={},c={1:0},f=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=o,l.c=n,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),a=0;a<r.length;a++)e(r[a]);var d=t;f.push([445,0,2]),s()}({113:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLyric=t.songDetail=t.songComment=void 0;var l=i(n(74));t.songComment=function(e){return(0,l.default)("/comment/music?id="+e)};t.songDetail=function(e){return(0,l.default)("/song/detail?ids="+e.join())};t.getLyric=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,l.default)("/lyric?id="+t)]})})}},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["/Album","/Discovery","/MySongList","/PersonalFM","/Playlist","/Search","/Singer","/Song","/User","/Video"]},122:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),d=n(41),m=l(n(407)),p=n(38),h=n(51);t.default=function(e){var t=e.data,u=t.length,o=(0,d.useHistory)(),s=(r=(0,f.useState)(0))[0],n=r[1],r=(e=(0,f.useState)(!0))[0],a=e[1],i=(0,p.debounce)(a,5e3);(0,h.useInterval)(function(){n((s+1)%u)},r?5e3:null);var c=function(e){n(e),a(!1),i(!0)};return f.default.createElement("div",{className:m.default.carousel},f.default.createElement("div",{className:"card-container"},t.map(function(e,t){var n,r=e.imageUrl,a=e.targetId,i=e.targetType,l=e.url;return f.default.createElement("div",{className:"card",key:t,onClick:function(){return function(e,t,n,r){if(s===e)switch(n){case 1:o.push("/Song?id="+t);break;case 10:o.push("/Album?id="+t);break;case 1e3:o.push("SongList?id="+t);break;case 1004:o.push("/Video?id="+t);break;case 3e3:window.open(r);break;default:return}else c(e)}(t,a,i,l)},style:(n=0<(e=(n=t)-s)?e-u:e+u,n=Math.abs(e)>Math.abs(n)?n:e,e={},0===n?(e.left="33.3%",e.zIndex=999,e.opacity=1,e.transform="scale(1)"):e.left=0<n?16.7+40*n+"%":50+40*n+"%",2<=Math.abs(n)&&(e.opacity=0,e.transform="scale(0)"),e)},f.default.createElement("img",{src:(0,p.replaceHttpToHttps)(r)+"?param=500y200"}))})),f.default.createElement("div",{className:"rects"},t.map(function(e,t){return f.default.createElement("div",{key:t,className:s===t?"rect-active":"rect",onClick:function(){return c(t)}})})))}},123:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(0)),a=r(n(408)),u=n(41),o=n(44),s=n(38),c=function(e){return 1e4<=e?(1e-4*e>>0)+" 万":e};t.default=function(e){var t=e.data,i=e.onPlayAll,e=function(e){return l.default.createElement("div",{className:"playlist"},e.map(function(e){var n=e.id,t=e.name,r=e.copywriter,a=e.picUrl,e=e.playCount;return l.default.createElement("div",{className:"listitem",key:n},l.default.createElement(u.Link,{className:"image",to:"/Playlist?id="+n},l.default.createElement("img",{src:(0,s.replaceHttpToHttps)(a)+"?param=240y240",loading:"lazy"}),l.default.createElement("div",{className:"copywriter"},r),l.default.createElement("div",{className:"play-count"},l.default.createElement(o.CustomerServiceOutlined,null),c(e)),l.default.createElement("div",{className:"play-button",onClick:function(e){return t=n,e.preventDefault(),void i(t);var t}},l.default.createElement(o.CaretRightOutlined,null))),l.default.createElement(u.Link,{className:"description",to:"/Playlist?id="+n},t))}))};return l.default.createElement("div",{className:a.default["recommend-playlist"]},e(t.slice(0,5)),e(t.slice(5,10)))}},124:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=l(n(409)),c=n(53),f=n(41),d=n(44);t.default=function(e){var l=e.data,u=(0,o.useContext)(c.FuncContext).playSong,e=function(e,i){return e.map(function(e,n){var t=e.id,r=e.name,a=e.cover,e=e.singers;return o.default.createElement("div",{className:"item",key:t},o.default.createElement("div",{className:"order"},(n+1+i).toString().padStart(2,"0")),o.default.createElement(f.Link,{className:"image",to:"/Song?id="+t},o.default.createElement("img",{src:a+"?param=50y50",loading:"lazy"}),o.default.createElement("div",{className:"play-button",onClick:function(e){return t=n+i,e.preventDefault(),void u(l[t]);var t}},o.default.createElement(d.CaretRightOutlined,null))),o.default.createElement("div",{className:"information"},o.default.createElement(f.Link,{className:"song-title",to:"/Song?id="+t},r),o.default.createElement("div",{className:"singer"},e.map(function(e){return e.name}).join("/"))))})};return o.default.createElement("div",{className:s.default["recent-songlist"]},o.default.createElement("div",{className:s.default.left},e(l.slice(0,5),0)),o.default.createElement("div",{className:s.default.right},e(l.slice(5,10),5)))}},127:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(224));t.default=function(e){return e=e.data,a.default.createElement(i.default,null,e.map(function(e){var t=e.id,n=e.name,r=e.singer,e=e.picUrl,r=a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,n),a.default.createElement("div",null,r.map(function(e){return e.name}).join(" / ")));return a.default.createElement(i.default.Item,{key:t,linkTo:"/Album?id="+t,src:e,text:r})}))}},128:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(224));t.default=function(e){return e=e.data,a.default.createElement(i.default,null,e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return a.default.createElement(i.default.Item,{key:t,linkTo:"/Singer?id="+t,src:e,text:n})}))}},129:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(224));t.default=function(e){return e=e.data,a.default.createElement(i.default,null,e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return a.default.createElement(i.default.Item,{key:t,linkTo:"/Playlist?id="+t,src:e,text:n})}))}},130:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(436)),l=n(38);t.default=function(e){var t=(n=e.data).name,e=n.alias,n=n.cover;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:i.default.title},t,a.default.createElement("span",null,e.join(";"))),a.default.createElement("div",{className:i.default.image},a.default.createElement("img",{src:(0,l.replaceHttpToHttps)(n)+"?param=640y300"})))}},131:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(437));t.default=function(e){var e=(t=e.data).briefDesc,t=t.intro;return a.default.createElement("div",{className:i.default.intro},a.default.createElement("div",{className:"block"},a.default.createElement("h2",null,"歌手简介"),a.default.createElement("span",null,e)),t.map(function(e,t){var n=e.ti,e=e.txt;return a.default.createElement("div",{className:"block",key:t},a.default.createElement("h2",null,n),a.default.createElement("span",null,e))}))}},155:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},u=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(596),f=n(51),d=n(69),m=o(n(214));t.default=function(){var e=this,a=(0,f.useQuery)("id");if(!a)return s.default.createElement("div",null,"id错误");var t=(0,s.useState)(null),n=t[0],i=t[1];return(0,s.useEffect)(function(){i(null),l(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,c.album)(a)];case 1:return r=e.sent(),t=(0,d.resolveDetail)(r),n=(0,d.resolveSongs)(r.songs,"detail"),[4,(0,c.albumComment)(a)];case 2:return r=e.sent(),i({detail:t,songList:n,comment:r}),[2]}})})},[a]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),s.default.createElement(m.default,{pageState:n})}},156:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},b=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},_=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=i(n(0)),w=l(n(601)),u=l(n(64)),o=l(n(405)),j=n(41),O=n(53),S=n(66),x=n(44),P=n(89),k=n(38),M=n(51),N=n(113),C=n(69),D=l(n(86));t.default=(0,E.memo)(function(e){var t=this,n=e.songList,r=e.songIds,s=e.isCreator,a=(0,E.useContext)(O.StateContext),c=(e=(0,E.useContext)(O.FuncContext)).playSong,f=e.collectSong,d=e.setPlaylist,m=(0,M.useQuery)("id"),p=a.playingItem,h=a.playlist,v=(a=(0,E.useState)(n||[]))[0],y=a[1],g=(a=(0,E.useState)(1))[0],a=a[1];return(0,E.useEffect)(function(){r&&b(t,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:return y([]),t=50*(g-1),t=r.slice(t,50+t),[4,(0,N.songDetail)(t)];case 1:return t=e.sent(),y((0,C.resolveSongs)(t.songs,"detail")),[2]}})})},[r,g]),0===v.length?E.default.createElement(u.default,null):E.default.createElement("div",{className:w.default.songlist},E.default.createElement("div",{className:"title"},"歌曲列表",E.default.createElement("span",null,(n||r).length,"首歌")),E.default.createElement("table",null,E.default.createElement("thead",null,E.default.createElement("tr",null,E.default.createElement("th",{scope:"col"}),E.default.createElement("th",{scope:"col"},"歌曲标题"),E.default.createElement("th",{scope:"col"},"时长"),E.default.createElement("th",{scope:"col"},"歌手"),E.default.createElement("th",{scope:"col"},"专辑"))),E.default.createElement("tbody",null,v.map(function(n,e){var t=n.id,r=n.name,a=n.singers,i=n.duration,l=n.isFree,u=n.albumId,o=n.albumName;return E.default.createElement("tr",{key:t,className:l?"":"fee"},E.default.createElement("td",null,E.default.createElement("span",null,50*(g-1)+e+1),E.default.createElement(x.CaretRightOutlined,{className:p.id===t?"play-btn-playing":"play-btn",onClick:function(){var t,e;c(t=n),h.find(function(e){return e.id===t.id})||((e=h.slice()).push(t),d(e))}})),E.default.createElement("td",null,E.default.createElement(j.Link,{to:"/Song?id="+t,title:r},r),E.default.createElement("div",{className:"icons"},l&&E.default.createElement(E.default.Fragment,null,E.default.createElement(x.PlusOutlined,{title:"添加到播放列表",onClick:function(){var t,e;t=n,h.find(function(e){return e.id===t.id})||((e=h.slice()).push(t),d(e))}}),E.default.createElement(x.HeartOutlined,{title:"收藏到歌单",onClick:function(){f(t)}}),E.default.createElement(x.DownloadOutlined,{title:"下载",onClick:function(){var e,t;e=n,t=n.id,e=n.name,(0,D.default)().download(t,e)}})),s&&E.default.createElement(x.DeleteOutlined,{title:"删除",onClick:function(){var r;r=n,S.Modal.confirm({title:"删除歌曲",content:"是否要删除歌曲 "+r.name+" ？",okText:"是",cancelText:"否",onOk:function(){return b(this,void 0,void 0,function(){var t,n;return _(this,function(e){switch(e.label){case 0:return[4,(0,P.songlistTracks)("del",m,r.id)];case 1:return e.sent(),S.message.success("已删除"),t=v.slice(),n=v.findIndex(function(e){return e.id===r.id}),t.splice(n,1),y(t),[2]}})})}})}}))),E.default.createElement("td",null,(0,k.convertTime)(i)),E.default.createElement("td",null,a.map(function(e,t){var n=e.id,e=e.name;return E.default.createElement(E.default.Fragment,{key:t},E.default.createElement(j.Link,{to:"/Singer?id="+n,title:e,className:w.default.singer},e),t!==a.length-1&&E.default.createElement("span",null," / "))})),E.default.createElement("td",null,E.default.createElement(j.Link,{to:"/Album?id="+u,title:o},o)))}))),E.default.createElement(o.default,{currentPage:g,total:(null==r?void 0:r.length)||0,pageSize:50,onChange:a}))})},157:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},o=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=l(n(217)),f=n(53),d=n(69),m=n(604),p=n(113),h=n(89);t.default=function(){var e=this,t=(0,s.useState)(null),n=t[0],a=t[1],i=(t=(0,s.useContext)(f.FuncContext)).setPlaylist,l=t.playSong;return(0,s.useEffect)(function(){document.title="发现音乐"},[]),(0,s.useEffect)(function(){u(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.banner)()];case 1:return t=e.sent(),[4,(0,m.recommendPlaylist)()];case 2:return n=e.sent(),[4,(0,m.topSong)()];case 3:return r=e.sent(),a({banner:t.banners,recommendPlaylist:n.result,recentSong:(0,d.resolveSongs)(r.data,"topSong")}),[2]}})})},[]),s.default.createElement(c.default,{pageState:n,onPlayAll:function(r){return u(e,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:return[4,(0,h.playlistDetail)(r)];case 1:return n=e.sent(),t=n.playlist.trackIds.map(function(e){return e.id}),[4,(0,p.songDetail)(t)];case 2:return n=e.sent(),t=(0,d.resolveSongs)(n.songs,"detail"),n=t.filter(function(e){return e.isFree}),i(n),l(t[0]),[2]}})})}})}},158:function(e,t,n){"use strict";n.r(t);n(239),n(605),n(606),n(607),n(608),n(609),n(610),n(613),n(614),n(616),n(415),n(620),n(622),n(422),n(623),n(626),n(391),n(641),n(642),n(643),n(645),n(646),n(647);var a=n(0),u=n.n(a),o=n(89),s=n(185),c=n(169),f=n(38);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function m(e,t,n,r,a,i,l){try{var u=e[i](l),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var r=window.localStorage.getItem("userid");if(!r||!Object(f.hasToken)())return u.a.createElement("div",null,"需要登录使用");var e=p(Object(a.useState)(null),2),i=e[0],l=e[1];Object(a.useEffect)(function(){document.title="我的歌单"}),Object(a.useEffect)(function(){(function(){var u,e=(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.userPlaylist)(r);case 2:n=e.sent,t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),l({create:t,subscribe:n});case 6:case"end":return e.stop()}},e)}),function(){var e=this,l=arguments;return new Promise(function(t,n){var r=u.apply(e,l);function a(e){m(r,t,n,a,i,"next",e)}function i(e){m(r,t,n,a,i,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()()},[]);return u.a.createElement(c.default,{state:i,onDelete:function(r,a){s.a.confirm({maskClosable:!0,title:"删除歌单",content:"是否要删除该歌单？",okText:"是",cancelText:"否",onOk:function(){var e,t,n=1===a?(e=i.create.findIndex(function(e){return e.id===r}),(t=i.create.slice()).splice(e,1),d(d({},i),{},{create:t})):(t=i.subscribe.findIndex(function(e){return e.id===r}),(n=i.subscribe.slice()).splice(t,1),d(d({},i),{},{subscribe:n}));return l(n),Object(o.deleteSonglist)(r)},onCancel:function(){s.a.destroyAll()}})}})}},162:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},g=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},b=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=i(n(0)),E=l(n(431)),w=l(n(211)),j=n(41),O=n(44),S=l(n(64)),x=n(53),P=n(649),k=n(38),M=n(69);t.default=function(){var e=this;if(!(0,k.hasToken)())return _.default.createElement("div",null,"私人 FM 需要登录使用");var t=(0,_.useContext)(x.FuncContext),a=t.pauseSong,n=t.collectSong;(0,_.useEffect)(function(){document.title="私人FM"},[]),(0,_.useEffect)(function(){var e=document.getElementsByClassName(w.default.middle)[0],t=document.getElementsByClassName(w.default.bottom)[0];e.style.height="calc(100% - 64px)",e.style.transition="height 1s",t.style.display="none";var n=document.getElementById("toggleList");n.checked&&n.click(),a();var r=null;return navigator.mediaSession&&(r=navigator.mediaSession.metadata),function(){e.style.height="calc(100% - 128px)",t.style.display="block",setTimeout(function(){e.style.transition=""},1e3),r&&(navigator.mediaSession.metadata=r)}},[]);var r=(0,_.useState)(!1),i=r[0],l=r[1],u=(0,_.useState)(null),o=u[0],s=u[1],c=(t=(0,_.useState)([]))[0],f=t[1],d=(r=(0,_.useState)(!1))[0],m=r[1],p=(0,_.useRef)(null),h=(0,_.useRef)(null),v=(0,_.useRef)(null);(0,_.useEffect)(function(){0<c.length||g(e,void 0,void 0,function(){var t,n;return b(this,function(e){switch(e.label){case 0:return[4,(0,P.getFMList)()];case 1:return n=e.sent(),t=(0,M.resolveSongs)(n.data,"fm"),o||(n=t.pop(),s(n)),f(t),[2]}})})},[c]);var y=function(){var e,t;0!==c.length&&(t=(e=c.slice()).pop(),s(t),f(e),l(!1))};return(0,_.useEffect)(function(){var e,t,n,r;o&&navigator.mediaSession&&MediaMetadata&&(e=o.name,t=o.singers,n=o.cover,r=o.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[o]),(0,_.useEffect)(function(){o&&navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){p.current.play(),m(!0)}),navigator.mediaSession.setActionHandler("pause",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("stop",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",y))},[o,y]),o?(u=o.id,t=o.name,r=o.cover,_.default.createElement("div",{className:E.default["personal-fm"]},_.default.createElement("div",{className:"title"},"私人FM"),_.default.createElement("div",{className:"music-box"},_.default.createElement("div",{className:"image"},_.default.createElement("img",{src:r+"?param=300y300"})),_.default.createElement(j.Link,{className:"song",to:"/Song?id="+u,target:"_blank",title:t},t),_.default.createElement("div",{className:"progress-container",ref:h},_.default.createElement("div",{className:"progress",ref:v,onClick:function(e){var t=v.current,t=(e.pageX-t.offsetLeft)/t.clientWidth;p.current.currentTime=t*o.duration}})),_.default.createElement("div",{className:"btn-container"},_.default.createElement("div",{className:"icon",title:d?"暂停":"播放",onClick:function(){d?p.current.pause():p.current.play(),m(!d)}},d?_.default.createElement(O.PauseOutlined,null):_.default.createElement(O.CaretRightOutlined,null)),_.default.createElement("div",{className:"icon",title:"喜欢",onClick:function(){l(!0),n(o.id)}},i?_.default.createElement(O.HeartFilled,{style:{color:"#c62f2f"}}):_.default.createElement(O.HeartOutlined,null)),_.default.createElement("div",{className:"icon",title:"不喜欢",onClick:function(){(0,P.unlike)(o.id),y()}},_.default.createElement(O.DeleteOutlined,null)),_.default.createElement("div",{className:"icon",title:"下一首",onClick:y},_.default.createElement(O.StepForwardOutlined,null)))),_.default.createElement("audio",{ref:p,src:"https://music.163.com/song/media/outer/url?id="+u,onEnded:y,onCanPlay:function(){d&&p.current.play()},onTimeUpdate:function(e){var t=e.target.currentTime/o.duration*100+"%",e="-"+(0,k.convertTime)(o.duration-e.target.currentTime);h.current.style.setProperty("--time","'"+e+"'"),v.current.style.setProperty("--progress",t)}}))):_.default.createElement(S.default,null)}},163:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},u=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(51),f=n(69),d=n(89),m=o(n(222));t.default=function(){var e=this,a=(0,c.useQuery)("id");if(!/\d+/.test(a))return s.default.createElement("div",null,"id 错误");var t=(0,s.useState)(null),n=t[0],i=t[1];return(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,s.useEffect)(function(){i(null),l(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,d.playlistDetail)(a)];case 1:return r=e.sent(),t=(0,f.resolveDetail)(r),n=r.playlist.trackIds.map(function(e){return e.id}),[4,(0,d.playlistComment)(a)];case 2:return r=e.sent(),i({detail:t,songIds:n,comment:r}),[2]}})})},[a]),s.default.createElement(m.default,{pageState:n})}},164:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},s=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(0)),f=l(n(223)),d=n(403),m=n(38),p=n(69),h=n(51),v={currentPage:1,total:0,type:"song",loading:!0,data:[]},y={song:"1",album:"10",singer:"100",playlist:"1000"};t.default=function(){var e=this,l=(0,h.useQuery)("keyword");if(!l)return c.default.createElement("div",null,"请输入搜索内容");var t=(0,h.useSetState)(v),n=t[0],u=t[1];return(0,c.useEffect)(function(){var a=n.currentPage,i=n.type;u({loading:!0});o(e,void 0,void 0,function(){var t,n,r;return s(this,function(e){switch(e.label){case 0:return t=30*(a-1),[4,(0,d.search)(l,y[i],t)];case 1:return t=e.sent(),"song"===i?(n=(0,p.resolveSongs)(t.result.songs,"search"),r=t.result.songCount):"album"===i?(n=t.result.albums.map(function(e){var t=e.id,n=e.name,r=e.artists;return{id:t,name:n,picUrl:(0,m.replaceHttpToHttps)(e.picUrl),singer:r.map(function(e){return{id:e.id,name:e.name}})}}),r=t.result.albumCount):"singer"===i?(n=t.result.artists.map(function(e){return{id:e.id,name:e.name,picUrl:(0,m.replaceHttpToHttps)(e.picUrl)}}),r=t.result.artistCount):"playlist"===i&&(n=t.result.playlists.map(function(e){var t=e.id,n=e.name,r=e.description;return{id:t,name:n,picUrl:(0,m.replaceHttpToHttps)(e.coverImgUrl),description:r}}),r=t.result.playlistCount),u({loading:!1,total:r,data:n}),[2]}})})},[l,n.currentPage,n.type]),c.default.createElement(f.default,{pageState:n,setPageState:u})}},165:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},o=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(51),f=n(69),d=n(652),m=l(n(225));t.default=function(){var e=this,i=(0,c.useQuery)("id"),t=(0,s.useState)(null),n=t[0],l=t[1];return(0,s.useEffect)(function(){l(null),u(e,void 0,void 0,function(){var t,n,r,a;return o(this,function(e){switch(e.label){case 0:return[4,(0,d.singerInfo)(i)];case 1:return t=e.sent(),[4,(0,d.singerDesc)(i)];case 2:return a=e.sent(),n={name:t.artist.name,alias:t.artist.alias,cover:t.artist.picUrl},r=(0,f.resolveSongs)(t.hotSongs,"detail"),a={intro:a.introduction,briefDesc:a.briefDesc},l({header:n,songList:r,intro:a}),[2]}})})},[i]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.name;e&&(document.title=e+"的音乐")},[n]),s.default.createElement(m.default,{pageState:n})}},166:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},s=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(0)),f=n(113),d=n(51),m=n(69),p=l(n(226));t.default=function(){var e=this,l=(0,d.useQuery)("id");if(!l)return c.default.createElement("div",null,"歌曲id错误");var t=(0,c.useState)(null),n=t[0],u=t[1];return(0,c.useEffect)(function(){u(null),o(e,void 0,void 0,function(){var t,n,r,a,i;return s(this,function(e){switch(e.label){case 0:return[4,(0,f.songDetail)([l])];case 1:return t=e.sent(),[4,(0,f.getLyric)(l)];case 2:return i=e.sent(),n=(0,m.resolveDetail)(t),r=(0,m.resolveSongs)(t.songs,"detail"),a=(0,m.resolveLyric)(i),[4,(0,f.songComment)(l)];case 3:return i=e.sent(),u({detail:n,songList:r,lyric:a,comment:i}),[2]}})})},[l]),(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),c.default.createElement(p.default,{pageState:n})}},167:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(170);t.default=function(){return a.a.createElement(i.default,null)}},168:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(171);t.default=function(){return a.a.createElement(i.default,null)}},169:function(e,t,n){"use strict";n.r(t);n(648),n(422);var r=n(0),u=n.n(r),o=n(59),s=n(41),c=n(190),r=n(64),a=n.n(r),f=n(38);t.default=function(e){var t=e.state,r=e.onDelete;if(!t)return u.a.createElement(a.a,null);function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;e.preventDefault(),r(t,n)}return u.a.createElement("div",{className:o.default["my-songlist"]},u.a.createElement("div",{className:o.default.title},"我创建的歌单"),t.create.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,i=e.id;return u.a.createElement(s.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(i)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(c.a,{className:o.default.delete,onClick:function(e){return l(e,i)}}))}),u.a.createElement("div",{className:o.default.title},"我收藏的歌单"),t.subscribe.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,i=e.id;return u.a.createElement(s.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(i)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(c.a,{className:o.default.delete,onClick:function(e){return l(e,i,2)}}))}))}},170:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(51);t.default=function(){var e=Object(i.useQuery)("id");return a.a.createElement("div",{className:"user"},"User Id=",e)}},171:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(51);t.default=function(){var e=Object(i.useQuery)("id");return a.a.createElement("div",{className:"video"},"Video Id=",e)}},198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(i.prototype.save=function(e,t){var n,r=this.cache,a=this.cacheIds;30<=a.length&&(n=a.shift(),r.delete(n));e={id:e};r.set(e,t),a.push(e)},i.prototype.get=function(t){var e=this.cacheIds.find(function(e){return e.id===t});return e?this.cache.get(e):null},i.prototype.del=function(t){var e=this.cache,n=this.cacheIds,r=n.findIndex(function(e){return e.id===t});-1!==r&&(r=n.splice(r,1)[0],e.delete(r))},i.prototype.delAll=function(){for(var e=this.cache,t=0,n=this.cacheIds;t<n.length;t++){var r=n[t];e.delete(r)}this.cacheIds=[]},i);function i(){this.cacheIds=[],this.cache=new WeakMap}t.default=function(){return r=r||new a}},211:function(e,t,n){"use strict";n.r(t),t.default={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}},214:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(404)),l=r(n(215)),u=r(n(156)),o=r(n(216)),s=r(n(64));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(s.default,null);var t=n.detail,e=n.songList,n=n.comment;return a.default.createElement("div",{className:i.default.album},a.default.createElement(l.default,{data:{detail:t,songList:e}}),a.default.createElement(u.default,{songList:e}),a.default.createElement(o.default,{data:n}))}},215:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=r(n(597)),s=r(n(598)),c=r(n(599)),f=r(n(600));t.default=function(e){var t=(l=e.data).detail,n=l.songList,r=l.songIds,a=l.lyric,i=t.isPlaylist,e=t.isAlbum,l=t.isSong;return u.default.createElement("div",{className:o.default.detail},i&&u.default.createElement(s.default,{detailData:t,songList:n,songIds:r}),e&&u.default.createElement(c.default,{detailData:t,songList:n}),l&&u.default.createElement(f.default,{detailData:t,songData:n[0],lyric:a}))}},216:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(603)),s=n(41),c=n(44),f=n(38);t.default=(0,u.memo)(function(e){var t=(r=e.data).hotComments,n=r.comments,e=r.total,r=function(e,t){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"sub-title"},e),t.map(function(e,t){var n=e.beReplied,r=e.content,a=e.user,i=e.time,e=e.likedCount;return u.default.createElement("div",{className:"comment",key:t},u.default.createElement("div",{className:"image"},u.default.createElement("img",{src:(0,f.replaceHttpToHttps)(a.avatarUrl)+"?param=50y50",loading:"lazy"})),u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"content"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+a.userId},a.nickname,"："),r),n[0]&&u.default.createElement("div",{className:"reply"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+n[0].user.userId},n[0].user.nickname,"："),n[0].content))),u.default.createElement("div",{className:"footer"},u.default.createElement("span",{className:"date"},(0,f.convertDate)(i)),u.default.createElement("span",{className:"like"},u.default.createElement(c.LikeOutlined,{style:{color:"#1890ff"}}),"(",e,")"))))}))};return u.default.createElement("div",{className:o.default["comment-list"]},u.default.createElement("div",{className:"title"},"评论列表",u.default.createElement("span",{className:"total"},"共 ",e," 条")),0<t.length&&r("精彩评论",t),0<n.length&&r("最新评论",n))})},217:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(406)),l=r(n(64)),u=r(n(122)),o=r(n(123)),s=r(n(124));t.default=function(e){var t=e.pageState,n=e.onPlayAll;if(!t)return a.default.createElement(l.default,null);var r=t.banner,e=t.recommendPlaylist,t=t.recentSong;return a.default.createElement("div",{className:i.default.discovery},a.default.createElement("div",{className:"banner"},a.default.createElement(u.default,{data:r})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"推荐歌单"),a.default.createElement(o.default,{data:e,onPlayAll:n})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"最新音乐"),a.default.createElement(s.default,{data:t})))}},222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(432)),l=r(n(215)),u=r(n(156)),o=r(n(216)),s=r(n(64));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(s.default,null);var t=r.detail,n=r.songIds,e=r.comment,r=t.isCreator;return a.default.createElement("div",{className:i.default.playlist},a.default.createElement(l.default,{data:{detail:t,songIds:n}}),a.default.createElement(u.default,{songIds:n,isCreator:r}),a.default.createElement(o.default,{data:e}))}},223:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),l=r(n(433)),u=r(n(434)),o=r(n(405)),s=r(n(64)),c=r(n(156)),f=r(n(127)),d=r(n(128)),m=r(n(129));t.default=function(e){var t=e.pageState,n=e.setPageState,r=t.loading,a=t.data,e=t.currentPage,t=t.total;return i.default.createElement("div",{className:l.default.view},i.default.createElement(u.default,{onChange:function(e){n({type:e,loading:!0,currentPage:1})}},i.default.createElement(u.default.Pane,{key:"song",text:"单曲"},r?i.default.createElement(s.default,null):i.default.createElement(c.default,{songList:a})),i.default.createElement(u.default.Pane,{key:"album",text:"专辑"},r?i.default.createElement(s.default,null):i.default.createElement(f.default,{data:a})),i.default.createElement(u.default.Pane,{key:"singer",text:"歌手"},r?i.default.createElement(s.default,null):i.default.createElement(d.default,{data:a})),i.default.createElement(u.default.Pane,{key:"playlist",text:"歌单"},r?i.default.createElement(s.default,null):i.default.createElement(m.default,{data:a}))),i.default.createElement(o.default,{currentPage:e,total:t,pageSize:30,onChange:function(e){n({currentPage:e})}}))}},224:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(651)),l=n(41);function u(e){e=e.children;return a.default.createElement("div",{className:i.default["link-image-list"]},e)}u.Item=function(e){var t=e.src,n=e.linkTo,e=e.text;return a.default.createElement("div",{className:"item"},a.default.createElement(l.Link,{to:n,className:"item-image"},a.default.createElement("img",{src:t+"?param=240y240",loading:"lazy"})),a.default.createElement(l.Link,{to:n,className:"item-info"},e))},t.default=u},225:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(435)),l=r(n(64)),u=r(n(156)),o=r(n(130)),s=r(n(434)),c=r(n(131));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(l.default,null);var t=n.header,e=n.songList,n=n.intro;return a.default.createElement("div",{className:i.default.singer},a.default.createElement(o.default,{data:t}),a.default.createElement(s.default,null,a.default.createElement(s.default.Pane,{key:"0",text:"热门作品"},a.default.createElement(u.default,{songList:e})),a.default.createElement(s.default.Pane,{key:"1",text:"歌手介绍"},a.default.createElement(c.default,{data:n}))))}},226:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(438)),l=r(n(215)),u=r(n(216)),o=r(n(64));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(o.default,null);var t=r.detail,n=r.songList,e=r.lyric,r=r.comment;return a.default.createElement("div",{className:i.default.song},a.default.createElement(l.default,{data:{detail:t,songList:n,lyric:e}}),a.default.createElement(u.default,{data:r}))}},38:function(e,t,n){"use strict";var l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceHttpToHttps=t.debounce=t.throttle=t.convertDate=t.convertTime=t.hasToken=void 0;t.hasToken=function(){var e=Number(localStorage.getItem("timestampBefore"));return Date.now()>=e?(localStorage.removeItem("timestampBefore"),localStorage.removeItem("token"),!1):!!localStorage.getItem("token")};t.convertTime=function(e){var t=e%60>>0;return(e/60>>0).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")};t.convertDate=function(e){var t=Date.now()-e,e=new Date(t);return t<=6e4?"刚刚":t<=36e5?(t/6e4>>0)+" 分钟前":t<=864e5?(t/36e5>>0)+" 小时前":1970<e.getFullYear()?e.getFullYear()-1970+" 年前":e.getMonth()?e.getMonth()+" 月前":e.getDate()-1+" 天前"};t.throttle=function(n,r){var a=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&(a=!1,n.call.apply(n,l([this],e,!1)),setTimeout(function(){a=!0},r))}};t.debounce=function(r,a){var i;return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(i),i=setTimeout(function(){r.call.apply(r,l([e],t,!1))},a)}};t.replaceHttpToHttps=function(e){return e.replace(/http\:/,"https:")}},402:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.phoneLogin=t.emailLogin=void 0;var a=r(n(74)),i=r(n(568));t.emailLogin=function(e,t){return(0,a.default)("/login?email="+e+"&md5_password="+(0,i.default)(t),{method:"POST"})};t.phoneLogin=function(e,t){return(0,a.default)("/login/cellphone?phone="+e+"&md5_password="+(0,i.default)(t),{method:"POST"})};t.logout=function(){return(0,a.default)("/logout")}},403:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.searchSuggest=void 0;var a=r(n(74));t.searchSuggest=function(e){return(0,a.default)("/search/suggest?keywords="+e)};t.search=function(e,t,n){return(0,a.default)("/search?keywords="+e+"&type="+t+"&offset="+n)}},404:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},405:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=r(n(602)),s=r(n(211));t.default=function(e){var t=e.currentPage,n=e.total,r=e.pageSize,a=e.onChange,i=Math.ceil(n/r);return i<=1?null:u.default.createElement("div",{className:o.default.pagination},u.default.createElement("div",{className:"page-btn",onClick:function(){return l("prev")}},"<"),u.default.createElement("div",{className:"page"},t),u.default.createElement("div",{className:"page-btn",onClick:function(){return l("next")}},">"));function l(e){"prev"===e&&1<t?(document.getElementsByClassName(s.default.right)[0].scrollTop=0,a(t-1)):"next"===e&&t<i&&(document.getElementsByClassName(s.default.right)[0].scrollTop=0,a(t+1))}}},406:function(e,t,n){"use strict";n.r(t),t.default={discovery:"discovery_3WDUG"}},407:function(e,t,n){"use strict";n.r(t),t.default={carousel:"carousel_zTOnU"}},408:function(e,t,n){"use strict";n.r(t),t.default={"recommend-playlist":"recommend-playlist_oeGbV"}},409:function(e,t,n){"use strict";n.r(t),t.default={"recent-songlist":"recent-songlist_1kSQW"}},431:function(e,t,n){"use strict";n.r(t),t.default={"personal-fm":"personal-fm_27kHT"}},432:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_1gevM"}},433:function(e,t,n){"use strict";n.r(t),t.default={view:"view_ulEkr"}},434:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(650));function s(e){var n=e.children,r=e.onChange,t=(0,u.useMemo)(function(){var t=[];return u.default.Children.forEach(n,function(e){u.default.isValidElement(e)&&t.push({key:e.key,text:e.props.text,element:e})}),t},[n]),e=(0,u.useState)(t[0].key),a=e[0],i=e[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:o.default.tabs},t.map(function(e){var t=e.key,e=e.text;return u.default.createElement("div",{key:t,className:a===t?o.default["tab-active"]:o.default.tab,onClick:function(){i(t),r&&r(t)}},e)})),t.filter(function(e){return e.key===a})[0].element)}s.Pane=function(e){return e.children},t.default=s},435:function(e,t,n){"use strict";n.r(t),t.default={singer:"singer_C4mAo"}},436:function(e,t,n){"use strict";n.r(t),t.default={title:"title_-x2Xp",image:"image_vfSBc"}},437:function(e,t,n){"use strict";n.r(t),t.default={intro:"intro_3cW6L"}},438:function(e,t,n){"use strict";n.r(t),t.default={song:"song_3h_lc"}},445:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),t=r(n(32)),n=r(n(450));t.default.render(a.default.createElement(n.default,null),document.getElementById("root"))},450:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=n(41),l=r(n(53));n(653),t.default=function(){return a.default.createElement(i.HashRouter,null,a.default.createElement(l.default,null))}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useQuery=t.useSetState=t.useInterval=void 0;var r=n(0),a=n(41);t.useInterval=function(e,t){var n=(0,r.useRef)(function(){});(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t);return function(){return clearInterval(e)}}},[t])};t.useSetState=function(e){var t=(0,r.useState)(e=void 0===e?{}:e),e=t[0],n=t[1];return[e,(0,r.useCallback)(function(t){n(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]};t.useQuery=function(e){var t=(0,a.useLocation)().search,e=new RegExp("[?&]"+e+"=([\\w%]+)"),e=t.match(e);return e?e[1]:null}},522:function(e,t,n){var r={"./af":240,"./af.js":240,"./ar":241,"./ar-dz":242,"./ar-dz.js":242,"./ar-kw":243,"./ar-kw.js":243,"./ar-ly":244,"./ar-ly.js":244,"./ar-ma":245,"./ar-ma.js":245,"./ar-sa":246,"./ar-sa.js":246,"./ar-tn":247,"./ar-tn.js":247,"./ar.js":241,"./az":248,"./az.js":248,"./be":249,"./be.js":249,"./bg":250,"./bg.js":250,"./bm":251,"./bm.js":251,"./bn":252,"./bn-bd":253,"./bn-bd.js":253,"./bn.js":252,"./bo":254,"./bo.js":254,"./br":255,"./br.js":255,"./bs":256,"./bs.js":256,"./ca":257,"./ca.js":257,"./cs":258,"./cs.js":258,"./cv":259,"./cv.js":259,"./cy":260,"./cy.js":260,"./da":261,"./da.js":261,"./de":262,"./de-at":263,"./de-at.js":263,"./de-ch":264,"./de-ch.js":264,"./de.js":262,"./dv":265,"./dv.js":265,"./el":266,"./el.js":266,"./en-au":267,"./en-au.js":267,"./en-ca":268,"./en-ca.js":268,"./en-gb":269,"./en-gb.js":269,"./en-ie":270,"./en-ie.js":270,"./en-il":271,"./en-il.js":271,"./en-in":272,"./en-in.js":272,"./en-nz":273,"./en-nz.js":273,"./en-sg":274,"./en-sg.js":274,"./eo":275,"./eo.js":275,"./es":276,"./es-do":277,"./es-do.js":277,"./es-mx":278,"./es-mx.js":278,"./es-us":279,"./es-us.js":279,"./es.js":276,"./et":280,"./et.js":280,"./eu":281,"./eu.js":281,"./fa":282,"./fa.js":282,"./fi":283,"./fi.js":283,"./fil":284,"./fil.js":284,"./fo":285,"./fo.js":285,"./fr":286,"./fr-ca":287,"./fr-ca.js":287,"./fr-ch":288,"./fr-ch.js":288,"./fr.js":286,"./fy":289,"./fy.js":289,"./ga":290,"./ga.js":290,"./gd":291,"./gd.js":291,"./gl":292,"./gl.js":292,"./gom-deva":293,"./gom-deva.js":293,"./gom-latn":294,"./gom-latn.js":294,"./gu":295,"./gu.js":295,"./he":296,"./he.js":296,"./hi":297,"./hi.js":297,"./hr":298,"./hr.js":298,"./hu":299,"./hu.js":299,"./hy-am":300,"./hy-am.js":300,"./id":301,"./id.js":301,"./is":302,"./is.js":302,"./it":303,"./it-ch":304,"./it-ch.js":304,"./it.js":303,"./ja":305,"./ja.js":305,"./jv":306,"./jv.js":306,"./ka":307,"./ka.js":307,"./kk":308,"./kk.js":308,"./km":309,"./km.js":309,"./kn":310,"./kn.js":310,"./ko":311,"./ko.js":311,"./ku":312,"./ku.js":312,"./ky":313,"./ky.js":313,"./lb":314,"./lb.js":314,"./lo":315,"./lo.js":315,"./lt":316,"./lt.js":316,"./lv":317,"./lv.js":317,"./me":318,"./me.js":318,"./mi":319,"./mi.js":319,"./mk":320,"./mk.js":320,"./ml":321,"./ml.js":321,"./mn":322,"./mn.js":322,"./mr":323,"./mr.js":323,"./ms":324,"./ms-my":325,"./ms-my.js":325,"./ms.js":324,"./mt":326,"./mt.js":326,"./my":327,"./my.js":327,"./nb":328,"./nb.js":328,"./ne":329,"./ne.js":329,"./nl":330,"./nl-be":331,"./nl-be.js":331,"./nl.js":330,"./nn":332,"./nn.js":332,"./oc-lnc":333,"./oc-lnc.js":333,"./pa-in":334,"./pa-in.js":334,"./pl":335,"./pl.js":335,"./pt":336,"./pt-br":337,"./pt-br.js":337,"./pt.js":336,"./ro":338,"./ro.js":338,"./ru":339,"./ru.js":339,"./sd":340,"./sd.js":340,"./se":341,"./se.js":341,"./si":342,"./si.js":342,"./sk":343,"./sk.js":343,"./sl":344,"./sl.js":344,"./sq":345,"./sq.js":345,"./sr":346,"./sr-cyrl":347,"./sr-cyrl.js":347,"./sr.js":346,"./ss":348,"./ss.js":348,"./sv":349,"./sv.js":349,"./sw":350,"./sw.js":350,"./ta":351,"./ta.js":351,"./te":352,"./te.js":352,"./tet":353,"./tet.js":353,"./tg":354,"./tg.js":354,"./th":355,"./th.js":355,"./tk":356,"./tk.js":356,"./tl-ph":357,"./tl-ph.js":357,"./tlh":358,"./tlh.js":358,"./tr":359,"./tr.js":359,"./tzl":360,"./tzl.js":360,"./tzm":361,"./tzm-latn":362,"./tzm-latn.js":362,"./tzm.js":361,"./ug-cn":363,"./ug-cn.js":363,"./uk":364,"./uk.js":364,"./ur":365,"./ur.js":365,"./uz":366,"./uz-latn":367,"./uz-latn.js":367,"./uz.js":366,"./vi":368,"./vi.js":368,"./x-pseudo":369,"./x-pseudo.js":369,"./yo":370,"./yo.js":370,"./zh-cn":371,"./zh-cn.js":371,"./zh-hk":372,"./zh-hk.js":372,"./zh-mo":373,"./zh-mo.js":373,"./zh-tw":374,"./zh-tw.js":374};function a(e){e=i(e);return n(e)}function i(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=i,(e.exports=a).id=522},53:function(e,u,o){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0}),u.FuncContext=u.StateContext=void 0;var f=c(o(0)),d=o(41),m=o(51),p=o(66),h=t(o(86)),v=t(o(118)),y=t(o(564)),g=t(o(592));o(594);var t={id:776039,name:"ONE's hope",singers:[{id:18303,name:"やなぎなぎ"}],duration:369.72,cover:"https://p1.music.126.net/l22TRH7bs4VG6HMT2Iy56w==/2511284557902801.jpg",isFree:!0,albumId:76484,albumName:"Colorful Parade"},b={isPlaying:!1,playlist:[t],playMode:"list-loop",playingItem:s(s({},t),{lyric:null})};u.StateContext=f.default.createContext(null),u.FuncContext=f.default.createContext(null),u.default=function(){var e=(0,d.useLocation)().pathname,t=(0,d.useHistory)(),n=(0,m.useSetState)(b),a=n[0],r=n[1],i=(0,f.useRef)(null);v.default.includes(e)||t.replace("/Discovery");var t=(0,f.useMemo)(function(){return f.default.lazy(function(){return Promise.resolve().then(function(){return c(o(595)("./routes"+e))})})},[e]),l=(0,f.useMemo)(function(){return{getSong:function(e,t){var n=t.playlist,r=t.playingItem,t=t.playMode,a=n.length;if(a<=1||"single-cycle"===t)return r;var i,l=n.findIndex(function(e){return e.id===r.id});switch(t){case"list-loop":i="next"===e?(l+1)%a:(a+l-1)%a;break;case"random":(i=Math.random()*a>>0)===l&&(i=(l+1)%a)}return n[i]},playSong:function(e,t){var n=e.id;r({isPlaying:!0,playingItem:s(s({},e),{lyric:null})}),(0,h.default)().play(n,t).then(function(e){e?(i.current.play(),r({playingItem:(0,h.default)().getPlayingItem()})):p.message.error("加载歌曲失败，id:"+n)})},collectSong:function(e){p.Modal.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:f.default.createElement(g.default,{id:e})})},pauseSong:function(){i.current.pause(),(0,h.default)().pause(),r({isPlaying:!1})},setPlaylist:function(e){r({playlist:e})},setPlayMode:function(e){r({playMode:e})}}},[]);return(0,f.useEffect)(function(){var e,t,n,r;navigator.mediaSession&&MediaMetadata&&a.playingItem&&(e=(r=a.playingItem).name,t=r.singers,n=r.cover,r=r.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[a]),(0,f.useEffect)(function(){navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){var e=a.playingItem;l.playSong(e)}),navigator.mediaSession.setActionHandler("pause",function(){l.pauseSong()}),navigator.mediaSession.setActionHandler("previoustrack",function(){var e=l.getSong("prev",a);l.playSong(e)}),navigator.mediaSession.setActionHandler("nexttrack",function(){var e=l.getSong("next",a);l.playSong(e)}))},[a]),(0,f.useEffect)(function(){(0,h.default)().setOnEnded(function(){var e=l.getSong;(0,l.playSong)(e("next",a))})},[a]),f.default.createElement(u.FuncContext.Provider,{value:l},f.default.createElement(u.StateContext.Provider,{value:a},f.default.createElement(y.default,{TargetComponent:t}),f.default.createElement("audio",{ref:i,src:"./silence.mp3",loop:!0})))}},557:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(558)),u=r(n(86)),o=512,s=o/2+1,c=new Array(s).fill(0),f=function(e){return.54-.46*Math.cos(6.283185307179586*e/(o-1))},d=function(e){var t=new l.default(o),n=t.createComplexArray();t.realTransform(n,e);for(var r=0;r<s;++r){var a=n[2*r],i=n[2*r+1],i=Math.pow(Math.pow(a,2)+Math.pow(i,2),.5),i=20*Math.log10(i);isFinite(i)?i<c[r]?c[r]=.08*i+.92*c[r]:c[r]=.8*i+c[r]*(1-.8):c[r]=0}};t.default=function(e){for(var t=e.getChannelData(0),e=(0,u.default)().getCurrentTime()/e.duration*t.length>>0,n=t.slice(e,e+o),r=o-n.length,a=0;a<r;++a)n[n.length]=0;for(a=0;a<o;++a){var i=f(a);n[a]*=i}return d(n),c.map(function(e){return e?.0125*(e+20):0})}},558:function(e,t,n){"use strict";n.r(t);n(391);var r,a,i=(r=[function(e,t,n){function r(e){if(this.size=0|e,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(2*this.size),n=0;n<t.length;n+=2){var r=Math.PI*n/this.size;t[n]=Math.cos(r),t[n+1]=-Math.sin(r)}this.table=t;for(var a=0,i=1;this.size>i;i<<=1)a++;this._width=a%2==0?a-1:a,this._bitrev=new Array(1<<this._width);for(var l=0;l<this._bitrev.length;l++)for(var u=this._bitrev[l]=0;u<this._width;u+=2){var o=this._width-u-2;this._bitrev[l]|=(l>>>u&3)<<o}this._out=null,this._data=null,this._inv=0}(e.exports=r).prototype.fromComplexArray=function(e,t){for(var n=t||new Array(e.length>>>1),r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n},r.prototype.createComplexArray=function(){for(var e=new Array(this._csize),t=0;t<e.length;t++)e[t]=0;return e},r.prototype.toComplexArray=function(e,t){for(var n=t||this.createComplexArray(),r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n},r.prototype.completeSpectrum=function(e){for(var t=this._csize,n=t>>>1,r=2;r<n;r+=2)e[t-r]=e[r],e[t-r+1]=-e[r+1]},r.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,i=this._bitrev;if(4===a)for(e=f=0;f<n;f+=a,e++){var l=i[e];this._singleTransform2(f,l,r)}else for(e=f=0;f<n;f+=a,e++){var u=i[e];this._singleTransform4(f,u,r)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>2,f=0;f<n;f+=a)for(var d=f+c,m=f,p=0;m<d;m+=2,p+=r){var h=m,v=h+c,y=v+c,g=y+c,b=t[h],_=t[h+1],E=t[v],w=t[v+1],j=t[y],O=t[y+1],S=t[g],x=t[g+1],P=s[p],k=o*s[p+1],M=E*P-w*k,E=E*k+w*P,k=s[2*p],w=o*s[2*p+1],P=j*k-O*w,j=j*w+O*k,w=s[3*p],O=o*s[3*p+1],k=S*w-x*O,S=S*O+x*w,O=b+P,x=_+j,w=b-P,b=_-j,P=M+k,_=E+S,j=o*(M-k),M=o*(E-S),k=x+_,E=O-P,S=x-_,x=w+M,_=b-j,M=w-M,j=b+j;t[h]=O+P,t[h+1]=k,t[v]=x,t[v+1]=_,t[y]=E,t[y+1]=S,t[g]=M,t[g+1]=j}},r.prototype._singleTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],l=a[t+1],u=a[t+n],a=a[t+n+1],t=l+a,n=i-u,a=l-a;r[e]=i+u,r[e+1]=t,r[e+2]=n,r[e+3]=a},r.prototype._singleTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,l=2*n,u=3*n,o=a[t],s=a[t+1],c=a[t+n],f=a[t+n+1],d=a[t+l],m=a[t+l+1],n=a[t+u],l=a[t+u+1],a=o+d,t=s+m,u=o-d,o=s-m,d=c+n,s=f+l,m=i*(c-n),c=i*(f-l),n=t+s,i=u+c,f=o-m,l=a-d,s=t-s,c=u-c,m=o+m;r[e]=a+d,r[e+1]=n,r[e+2]=i,r[e+3]=f,r[e+4]=l,r[e+5]=s,r[e+6]=c,r[e+7]=m},r.prototype._realTransform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,i=this._bitrev;if(4===a)for(e=m=0;m<n;m+=a,e++){var l=i[e];this._singleRealTransform2(m,l>>>1,r>>>1)}else for(e=m=0;m<n;m+=a,e++){var u=i[e];this._singleRealTransform4(m,u>>>1,r>>>1)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>1,f=c>>>1,d=f>>>1,m=0;m<n;m+=a)for(var p=0,h=0;p<=d;p+=2,h+=r){var v=m+p,y=v+f,g=y+f,b=g+f,_=t[v],E=t[v+1],w=t[y],j=t[y+1],O=t[g],S=t[g+1],x=t[b],P=t[b+1],k=s[h],M=o*s[h+1],b=w*k-j*M,w=w*M+j*k,M=s[2*h],j=o*s[2*h+1],k=O*M-S*j,O=O*j+S*M,j=s[3*h],S=o*s[3*h+1],M=x*j-P*S,x=x*S+P*j,S=_+k,P=E+O,j=_-k,_=E-O,k=b+M,E=w+x,O=o*(b-M),b=o*(w-x),M=P+E,w=j+b,x=_-O;t[v]=S+k,t[v+1]=M,t[y]=w,t[y+1]=x,0!==p?p!==d&&(w=-_+-o*O,y=S+-o*k,x=-P- -o*E,_=m+c-p,t[O=m+f-p]=j+-o*b,t[1+O]=w,t[_]=y,t[1+_]=x):(E=P-E,t[g]=S-k,t[g+1]=E)}},r.prototype._singleRealTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],t=a[t+n],n=i-t;r[e]=i+t,r[e+1]=0,r[e+2]=n,r[e+3]=0},r.prototype._singleRealTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,l=a[t],u=a[t+n],o=a[t+2*n],a=a[t+3*n],t=l+o,n=l-o,l=u+a,o=i*(u-a),i=n,u=-o,a=t-l,n=n,o=o;r[e]=t+l,r[e+1]=0,r[e+2]=i,r[e+3]=u,r[e+4]=a,r[e+5]=0,r[e+6]=n,r[e+7]=o}}],a={},l.m=r,l.c=a,l.i=function(e){return e},l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0));function l(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}t.default=i},564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(211)),s=l(n(64)),c=l(n(566)),f=l(n(573)),d=l(n(575));t.default=(0,u.memo)(function(e){return e=e.TargetComponent,u.default.createElement("div",{className:o.default.layout},u.default.createElement("div",{className:o.default.top},u.default.createElement(c.default,null)),u.default.createElement("div",{className:o.default.middle},u.default.createElement("div",{className:o.default.left},u.default.createElement(f.default,null)),u.default.createElement("div",{className:o.default.right},u.default.createElement(u.Suspense,{fallback:u.default.createElement(s.default,null)},u.default.createElement(e,null)))),u.default.createElement("div",{className:o.default.bottom},u.default.createElement(d.default,null)))})},565:function(e,t,n){"use strict";n.r(t)},566:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},u=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=o(n(567)),f=n(66),d=n(44),m=n(38),p=n(402),h=o(n(571)),v=o(n(572));t.default=(0,s.memo)(function(){var e=this,t=(0,s.useState)({name:null,avatar:null}),n=t[0],r=t[1],a=(t=(0,s.useState)(!1))[0],i=t[1];return(0,s.useEffect)(function(){var e,t;(0,m.hasToken)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&r({name:e,avatar:t}))},[]),t=function(){null===n.name&&i(!a)},s.default.createElement("div",{className:c.default.header},s.default.createElement(f.Avatar,{onClick:t,size:40,icon:s.default.createElement(d.UserOutlined,null),src:n.avatar?n.avatar+"?param=80y80":null}),s.default.createElement("div",{className:"username"},n.name||"未登录"),n.name&&s.default.createElement("div",{className:"logout",onClick:function(){return l(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,(0,p.logout)()];case 1:return 200===e.sent().code&&(window.localStorage.clear(),r({name:null,avatar:null})),[2]}})})}},"退出登录"),s.default.createElement(v.default,null),a&&s.default.createElement(h.default,{onCancel:t,setUserInfo:r}))})},567:function(e,t,n){"use strict";n.r(t),t.default={header:"header_2ZE5y"}},568:function(e,t,n){"use strict";n.r(t);n(569);function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t,n,r,a,i){return f((i=f(f(t,e),f(r,i)))<<a|i>>>32-a,n)}function d(e,t,n,r,a,i,l){return u(t&n|~t&r,e,t,a,i,l)}function m(e,t,n,r,a,i,l){return u(t&r|n&~r,e,t,a,i,l)}function p(e,t,n,r,a,i,l){return u(t^n^r,e,t,a,i,l)}function h(e,t,n,r,a,i,l){return u(n^(t|~r),e,t,a,i,l)}function l(e,t){var n,r,a,i;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var l=1732584193,u=-271733879,o=-1732584194,s=271733878,c=0;c<e.length;c+=16)l=d(n=l,r=u,a=o,i=s,e[c],7,-680876936),s=d(s,l,u,o,e[c+1],12,-389564586),o=d(o,s,l,u,e[c+2],17,606105819),u=d(u,o,s,l,e[c+3],22,-1044525330),l=d(l,u,o,s,e[c+4],7,-176418897),s=d(s,l,u,o,e[c+5],12,1200080426),o=d(o,s,l,u,e[c+6],17,-1473231341),u=d(u,o,s,l,e[c+7],22,-45705983),l=d(l,u,o,s,e[c+8],7,1770035416),s=d(s,l,u,o,e[c+9],12,-1958414417),o=d(o,s,l,u,e[c+10],17,-42063),u=d(u,o,s,l,e[c+11],22,-1990404162),l=d(l,u,o,s,e[c+12],7,1804603682),s=d(s,l,u,o,e[c+13],12,-40341101),o=d(o,s,l,u,e[c+14],17,-1502002290),l=m(l,u=d(u,o,s,l,e[c+15],22,1236535329),o,s,e[c+1],5,-165796510),s=m(s,l,u,o,e[c+6],9,-1069501632),o=m(o,s,l,u,e[c+11],14,643717713),u=m(u,o,s,l,e[c],20,-373897302),l=m(l,u,o,s,e[c+5],5,-701558691),s=m(s,l,u,o,e[c+10],9,38016083),o=m(o,s,l,u,e[c+15],14,-660478335),u=m(u,o,s,l,e[c+4],20,-405537848),l=m(l,u,o,s,e[c+9],5,568446438),s=m(s,l,u,o,e[c+14],9,-1019803690),o=m(o,s,l,u,e[c+3],14,-187363961),u=m(u,o,s,l,e[c+8],20,1163531501),l=m(l,u,o,s,e[c+13],5,-1444681467),s=m(s,l,u,o,e[c+2],9,-51403784),o=m(o,s,l,u,e[c+7],14,1735328473),l=p(l,u=m(u,o,s,l,e[c+12],20,-1926607734),o,s,e[c+5],4,-378558),s=p(s,l,u,o,e[c+8],11,-2022574463),o=p(o,s,l,u,e[c+11],16,1839030562),u=p(u,o,s,l,e[c+14],23,-35309556),l=p(l,u,o,s,e[c+1],4,-1530992060),s=p(s,l,u,o,e[c+4],11,1272893353),o=p(o,s,l,u,e[c+7],16,-155497632),u=p(u,o,s,l,e[c+10],23,-1094730640),l=p(l,u,o,s,e[c+13],4,681279174),s=p(s,l,u,o,e[c],11,-358537222),o=p(o,s,l,u,e[c+3],16,-722521979),u=p(u,o,s,l,e[c+6],23,76029189),l=p(l,u,o,s,e[c+9],4,-640364487),s=p(s,l,u,o,e[c+12],11,-421815835),o=p(o,s,l,u,e[c+15],16,530742520),l=h(l,u=p(u,o,s,l,e[c+2],23,-995338651),o,s,e[c],6,-198630844),s=h(s,l,u,o,e[c+7],10,1126891415),o=h(o,s,l,u,e[c+14],15,-1416354905),u=h(u,o,s,l,e[c+5],21,-57434055),l=h(l,u,o,s,e[c+12],6,1700485571),s=h(s,l,u,o,e[c+3],10,-1894986606),o=h(o,s,l,u,e[c+10],15,-1051523),u=h(u,o,s,l,e[c+1],21,-2054922799),l=h(l,u,o,s,e[c+8],6,1873313359),s=h(s,l,u,o,e[c+15],10,-30611744),o=h(o,s,l,u,e[c+6],15,-1560198380),u=h(u,o,s,l,e[c+13],21,1309151649),l=h(l,u,o,s,e[c+4],6,-145523070),s=h(s,l,u,o,e[c+11],10,-1120210379),o=h(o,s,l,u,e[c+2],15,718787259),u=h(u,o,s,l,e[c+9],21,-343485551),l=f(l,n),u=f(u,r),o=f(o,a),s=f(s,i);return[l,u,o,s]}function o(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function s(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function r(e){for(var t,n="0123456789abcdef",r="",a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function a(e){return unescape(encodeURIComponent(e))}function i(e){return o(l(s(e=a(e)),8*e.length))}function c(e,t){return function(e,t){var n,r=s(e),a=[],i=[];for(a[15]=i[15]=void 0,16<r.length&&(r=l(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],i[n]=1549556828^r[n];return t=l(a.concat(s(t)),512+8*t.length),o(l(i.concat(t),640))}(a(e),a(t))}t.default=function(e,t,n){return t?n?c(t,e):r(c(t,e)):n?i(e):r(i(e))}},571:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},d=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},m=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),p=n(66),h=n(402),v=n(38),y={labelCol:{span:4},wrapperCol:{span:20}},g={wrapperCol:{offset:18,span:4}};t.default=function(e){var t=this,o=e.onCancel,s=e.setUserInfo,c=(e=(0,u.useState)(!1))[0],f=e[1];return u.default.createElement(p.Modal,{title:"登录",visible:!0,onCancel:o,footer:null},u.default.createElement(p.Form,r({},y,{onFinish:function(u){return d(t,void 0,void 0,function(){var t,n,r,a,i,l;return m(this,function(e){switch(e.label){case 0:if(console.info("values",u),t=u.username,n=u.password,!t||!n)return[2];if(/^[\w-.]+@[\w-.]+\.\w+$/.test(t))r="email";else{if(!/^1[3-9]\d{9}$/.test(t))return[2];r="phone"}return c?[2]:(f(!0),"email"!==r?[3,2]:[4,(0,h.emailLogin)(t,n)]);case 1:return i=e.sent(),[3,4];case 2:return[4,(0,h.phoneLogin)(t,n)];case 3:i=e.sent(),e.label=4;case 4:return a=i,window.localStorage.setItem("username",a.profile.nickname),window.localStorage.setItem("avatar",(0,v.replaceHttpToHttps)(a.profile.avatarUrl)),window.localStorage.setItem("userid",a.account.id),window.localStorage.setItem("token",a.token),l=Number(a.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1]),window.localStorage.setItem("timestampBefore",String(Date.now()+1e3*l)),s({name:a.profile.nickname,avatar:(0,v.replaceHttpToHttps)(a.profile.avatarUrl)}),o(),[2]}})})}}),u.default.createElement(p.Form.Item,{label:"账号",name:"username",rules:[{required:!0,message:"请输入账号"}]},u.default.createElement(p.Input,{placeholder:"输入手机号或邮箱"})),u.default.createElement(p.Form.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},u.default.createElement(p.Input,{type:"password",placeholder:"输入密码",autoComplete:"on"})),u.default.createElement(p.Form.Item,r({},g),u.default.createElement(p.Button,{type:"primary",htmlType:"submit",loading:c},"登录"))))}},572:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},f=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},d=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var m=i(n(0)),p=n(41),h=n(66),v=n(44),y=n(38),g=n(403);t.default=function(){var e=this,t=(0,p.useHistory)(),n=(0,m.useState)(""),r=n[0],a=n[1],i=(o=(0,m.useState)(!1))[0],l=o[1],u=(0,m.useRef)(null),o=(n=(0,m.useState)({}))[0],s=n[1],c=(0,m.useCallback)((0,y.debounce)(function(r){return f(e,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,(0,g.searchSuggest)(r)];case 1:return t=e.sent().result,n={},Array.isArray(t.songs)&&(n.songs=t.songs.map(function(e){return{path:"/Song?id="+e.id,text:e.name+" - "+e.artists.map(function(e){return e.name}).join("/")}})),Array.isArray(t.albums)&&(n.albums=t.albums.map(function(e){return{path:"/Album?id="+e.id,text:e.name+" - "+e.artist.name}})),Array.isArray(t.artists)&&(n.singers=t.artists.map(function(e){return{path:"/Singer?id="+e.id,text:e.name}})),Array.isArray(t.playlists)&&(n.playlists=t.playlists.map(function(e){return{path:"/Playlist?id="+e.id,text:e.name}})),s(n),[2]}})})},800),[]);return(0,m.useEffect)(function(){r&&c(r)},[r]),m.default.createElement("div",{className:"search-container"},m.default.createElement(h.Input,{className:"search-input",placeholder:"搜索音乐",suffix:m.default.createElement(v.SearchOutlined,null),ref:u,onFocus:function(){return l(!0)},onBlur:function(){return setTimeout(l,100,!1)},value:r,onChange:function(e){return a(e.target.value)},onPressEnter:function(){u.current&&u.current.blur(),t.push("/Search?keyword="+r),a(""),s({})},style:{width:i?320:160}}),i&&m.default.createElement("div",{className:"search-suggest"},o.songs&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"单曲"),m.default.createElement("div",{className:"search-suggest-list"},o.songs.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.albums&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"专辑"),m.default.createElement("div",{className:"search-suggest-list"},o.albums.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.singers&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"歌手"),m.default.createElement("div",{className:"search-suggest-list"},o.singers.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.playlists&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"歌单"),m.default.createElement("div",{className:"search-suggest-list"},o.playlists.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)})))))}},573:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(574)),s=n(41),c=n(44);t.default=(0,u.memo)(function(){var e=(0,u.useState)("Discovery"),r=e[0],t=e[1],n=(0,s.useLocation)().pathname;return(0,u.useEffect)(function(){t(n.slice(1))},[n]),u.default.createElement("div",{className:o.default.container},u.default.createElement("input",{type:"checkbox",id:"toggle",className:"input-toggle"}),u.default.createElement("div",{className:"sidebar"},u.default.createElement("div",{className:"category"},"推荐"),[{text:"发现音乐",Icon:c.SearchOutlined,key:"Discovery"},{text:"私人FM",Icon:c.CustomerServiceOutlined,key:"PersonalFM"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"我的音乐"),[{text:"我的歌单",Icon:c.HeartOutlined,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"GitHub"),u.default.createElement("a",{className:"item",href:"https://github.com/lisianthus-a/react-music",target:"_blank"},u.default.createElement(c.GithubOutlined,null)," 项目地址"),u.default.createElement("a",{className:"item",href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},u.default.createElement(c.FileTextOutlined,null)," API文档")),u.default.createElement("label",{htmlFor:"toggle"},u.default.createElement("div",{className:"toggle"})))})},574:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3Mt4v"}},575:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(576)),s=n(53),c=n(51),f=l(n(86)),d=l(n(577)),m=l(n(579)),p=l(n(581)),h=l(n(590));t.default=(0,u.memo)(function(){var e=(0,u.useContext)(s.StateContext),t=(i=(0,u.useState)(0))[0],n=i[1],r=e.isPlaying,a=e.playMode,i=e.playlist,e=e.playingItem;return(0,c.useInterval)(function(){var e=(0,f.default)().getCurrentTime();n(e)},300),u.default.createElement("div",{className:o.default["music-player"]},u.default.createElement(d.default,{playingItem:e,currentTime:t}),u.default.createElement(m.default,null),u.default.createElement(p.default,{isPlaying:r,playingItem:e,playlist:i,playMode:a,currentTime:t}),u.default.createElement(h.default,{playingItem:e,currentTime:t,setCurrentTime:n}))})},576:function(e,t,n){"use strict";n.r(t),t.default={"music-player":"music-player_39d43"}},577:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(578)),s=n(41),c=n(38);t.default=function(e){var t=e.playingItem,n=e.currentTime,r=t.id,a=t.name,i=t.cover,l=t.singers,e=t.duration,t=(0,u.useMemo)(function(){return l.map(function(e){return e.name}).join("/")},[l]),e=(0,c.convertTime)(n)+" / "+(0,c.convertTime)(e);return u.default.createElement("div",{className:o.default.container},u.default.createElement("img",{src:i+"?param=50y50"}),u.default.createElement("div",{className:"information"},u.default.createElement("div",{className:"song"},u.default.createElement(s.Link,{to:"/Song?id="+r},a)," - ",u.default.createElement("span",{className:"singer",title:t},t)),u.default.createElement("div",{className:"time"},e)))}},578:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3o_Fk"}},579:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=l(n(580)),c=n(44),f=n(53);t.default=(0,o.memo)(function(){function e(e){e=n(e,i),r(e)}var t=(0,o.useContext)(f.FuncContext),n=t.getSong,r=t.playSong,a=t.pauseSong,i=(0,o.useContext)(f.StateContext),l=i.isPlaying,u=i.playingItem;return o.default.createElement("div",{className:s.default.container},o.default.createElement("div",{className:"prev",title:"上一首",onClick:function(){return e("prev")}},o.default.createElement(c.StepBackwardOutlined,null)),o.default.createElement("div",{className:"play-or-pause",onClick:function(){l?a():r(u)},title:"播放/暂停"},l?o.default.createElement(c.PauseOutlined,null):o.default.createElement(c.CaretRightOutlined,null)),o.default.createElement("div",{className:"next",title:"下一首",onClick:function(){return e("next")}},o.default.createElement(c.StepForwardOutlined,null)))})},580:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3ew1h"}},581:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),l=r(n(582)),u=r(n(583)),o=r(n(585)),s=r(n(588));t.default=function(e){var t=e.isPlaying,n=e.playingItem,r=e.playlist,a=e.playMode,e=e.currentTime;return i.default.createElement("div",{className:l.default["other-button"]},i.default.createElement(u.default,{isPlaying:t,playingItem:n,playlist:r,currentTime:e}),i.default.createElement(o.default,{playMode:a}),i.default.createElement(s.default,null))}},582:function(e,t,n){"use strict";n.r(t),t.default={"other-button":"other-button_1-Ybf"}},583:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},h=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},v=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=i(n(0)),g=l(n(584)),b=n(44),_=n(38),E=n(51),w=l(n(86)),j=l(n(198)),O=n(53);t.default=function(e){var u=this,o=e.isPlaying,s=e.playlist,c=e.playingItem,i=e.currentTime,f=(t=(0,y.useContext)(O.FuncContext)).playSong,l=t.collectSong,d=t.setPlaylist,t=(e=(0,y.useState)(c.lyric))[0],n=e[1],r=(0,y.useRef)(null),m=(0,y.useRef)(null),p=(0,y.useRef)(null),a=(0,y.useRef)(c.id);return(0,E.useInterval)(function(){if(toggleList.checked){var a=m.current.getElementsByClassName("lyric");if(0!==a.length){var e=Number(a[0].dataset.time);if(Number(a[a.length-1].dataset.time)<=i)t=a[a.length-1];else{if(i<=e)return;var e=function(){for(var e=0,t=a.length-1;e<=t;){var n=e+t>>1,r=Number(a[n].dataset.time);i<r?t=n-1:e=1+n}return e-1}(),t=a[e]}p.current!==t&&(p.current&&p.current.classList.remove("active"),(p.current=t).classList.add("active"),t=p.current.offsetTop+p.current.scrollHeight/2-195,m.current.scrollTop=t<0?0:t)}}},400),(0,y.useEffect)(function(){c.id!==a.current?(p.current&&p.current.classList.remove("active"),m.current.scrollTop=0,a.current=c.id,n(c.lyric)):c.lyric&&n(c.lyric)},[c]),(0,y.useEffect)(function(){var e;r.current&&(e=r.current.getContext("2d"),(0,w.default)().setCanvasContext(e),(0,w.default)().drawStart())},[r]),y.default.createElement("div",{className:g.default.playlist},y.default.createElement("div",{className:"icon",title:"播放列表"},y.default.createElement("label",{htmlFor:"toggleList"},y.default.createElement(b.UnorderedListOutlined,null),s.length)),y.default.createElement("input",{type:"checkbox",id:"toggleList",className:"toggle"}),y.default.createElement("div",{className:"list"},y.default.createElement("canvas",{ref:r,height:"310",width:"900"}),y.default.createElement("div",{className:"list-left"},y.default.createElement("div",{className:"title"},y.default.createElement("span",null,"播放列表 (",s.length,")"),y.default.createElement("span",{className:"clean",onClick:function(){(0,j.default)().delAll(),d([])}},y.default.createElement(b.DeleteOutlined,null)," 清空")),y.default.createElement("div",{className:"content"},s.map(function(e,t){var r=e.id,a=e.name,n=e.singers,e=e.duration;return y.default.createElement("div",{className:r===c.id?"item playing":"item",key:r,onClick:function(){return n=t,h(u,void 0,void 0,function(){var t;return v(this,function(e){return t=s[n],f(t),[2]})});var n}},r===c.id&&y.default.createElement(b.CaretRightOutlined,null),y.default.createElement("div",{className:"song-title",title:a},a),y.default.createElement("div",{className:"icons"},y.default.createElement(b.PlusOutlined,{title:"添加到歌单",onClick:function(e){return t=r,e.stopPropagation(),void l(t);var t}}),y.default.createElement(b.DownloadOutlined,{title:"下载",onClick:function(e){return t=r,n=a,e.stopPropagation(),void(0,w.default)().download(t,n);var t,n}}),y.default.createElement(b.DeleteOutlined,{title:"删除",onClick:function(e){return i=e,l=t,h(u,void 0,void 0,function(){var t,n,r,a;return v(this,function(e){return i.stopPropagation(),t=s.slice(),n=t.findIndex(function(e){return e.id===c.id}),r=t.splice(l,1),(0,j.default)().del(r[0].id),d(t),n===l&&o&&(a=t[l]||t[t.length-1])&&f(a),[2]})});var i,l}})),y.default.createElement("div",{className:"singer",title:n.map(function(e){return e.name}).join("/")},n.map(function(e){return e.name}).join("/")),y.default.createElement("div",{className:"duration"},(0,_.convertTime)(e)))}))),y.default.createElement("div",{className:"list-right"},y.default.createElement("div",{className:"title"},y.default.createElement("span",{title:c.name},c.name)),y.default.createElement("div",{className:"content",ref:m},null===t&&y.default.createElement("p",null,"歌词加载中..."),t&&0===t.length&&y.default.createElement("p",null,"暂无歌词"),t&&t.map(function(e,t){var n=e[0],r=e[1],e=e[2];return y.default.createElement("p",{key:t,"data-time":e,className:"lyric"},n,r&&y.default.createElement(y.default.Fragment,null,y.default.createElement("br",null),r))}))),y.default.createElement("label",{htmlFor:"toggleList"},y.default.createElement("div",{className:"close"},"X"))))}},584:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_3Uhd9"}},585:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(586)),s=n(53),l=l(n(587)),n=n(44),c={"list-loop":u.default.createElement(n.RetweetOutlined,{title:"列表循环"}),random:u.default.createElement(l.default,{type:"icon-random",title:"随机"}),"single-cycle":u.default.createElement(l.default,{type:"icon-Singlecycle",title:"单曲循环"})};t.default=(0,u.memo)(function(e){var t=e.playMode,n=(0,u.useContext)(s.FuncContext).setPlayMode,e=c[t];return u.default.createElement("div",{className:o.default["play-mode"]},u.default.createElement("div",{className:"icon",onClick:function(){var e="list-loop"===t?"random":"random"===t?"single-cycle":"list-loop";n(e)}},e))})},586:function(e,t,n){"use strict";n.r(t),t.default={"play-mode":"play-mode_3wZ9F"}},587:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),l=(0,n(44).createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"});t.default=function(e){return i.default.createElement(l,r({},e))}},588:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(589)),s=n(66),c=n(44),f=l(n(86));t.default=(0,u.memo)(function(){return u.default.createElement("div",{className:o.default.volume},u.default.createElement("div",{className:"icon",title:"音量"},u.default.createElement(c.SoundOutlined,null)),u.default.createElement("div",{className:"slider"},u.default.createElement(s.Slider,{defaultValue:100,onChange:function(e){(0,f.default)().setVolume(.01*e)},tipFormatter:function(e){return e+"%"}})))})},589:function(e,t,n){"use strict";n.r(t),t.default={volume:"volume_3rxth"}},59:function(e,t,n){"use strict";n.r(t),t.default={"my-songlist":"my-songlist_3CSEN",title:"title_2ELe3","list-item":"list-item_1EFwt",delete:"delete_1qEdy",image:"image_2q3Un",content:"content_2L3Nd"}},590:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=i(n(0)),p=l(n(591)),h=n(38),v=n(53);t.default=(0,m.memo)(function(e){var n=e.playingItem,t=e.currentTime,r=e.setCurrentTime,a=n.duration,i=(d=(0,m.useState)(!1))[0],l=d[1],u=(0,m.useRef)(null),o=(0,m.useRef)(null),s=(0,m.useContext)(v.FuncContext).playSong,e=function(e){var t;0===e.button&&(window.addEventListener("mousemove",f),window.addEventListener("mouseup",c),l(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,u.current.style.width=100*t+"%",o.current.textContent=(0,h.convertTime)(t*a))},c=function(e){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",c),l(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t*a;t<0?t=0:a<t&&(t=a),r(t),s(n,t)},f=function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;1<t?t=1:t<0&&(t=0),u.current.style.width=100*t+"%",o.current.textContent=(0,h.convertTime)(t*a)},d=(0,m.useMemo)(function(){return i?{width:u.current.style.width}:{width:t/a*100+"%"}},[t,a]);return m.default.createElement("div",{className:p.default.progressbar},m.default.createElement("div",{className:"track",onMouseDown:e}),m.default.createElement("div",{className:"rail",onMouseDown:e,ref:u,style:d},m.default.createElement("div",{className:"handle"}),m.default.createElement("div",{className:"tooltip",ref:o,style:{display:i?"block":"none"}})))})},591:function(e,t,n){"use strict";n.r(t),t.default={progressbar:"progressbar_2Rh8C"}},592:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},f=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(n(0)),m=l(n(593)),p=n(66),h=l(n(64)),v=n(89);t.default=function(e){var t=this,n=e.id,r=(0,d.useState)(null),a=r[0],i=r[1],l=(e=(0,d.useState)(null))[0],u=e[1],e=(r=(0,d.useState)(!1))[0],o=r[1],s=window.localStorage.getItem("userid");return s?((0,d.useEffect)(function(){c(t,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,(0,v.userPlaylist)(s)];case 1:return n=e.sent(),t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单 ("+t.length+")",value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单 ("+n.length+")",value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],i(n),[2]}})})},[]),a?d.default.createElement("div",{className:m.default["collect-song"]},d.default.createElement(p.TreeSelect,{treeData:a,style:{width:"100%"},onChange:function(e){return u(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"}),d.default.createElement(p.Button,{onClick:function(){l&&(o(!0),(0,v.songlistTracks)("add",l,n).then(function(){p.Modal.destroyAll(),p.message.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:30}},"确认")):d.default.createElement(h.default,null)):d.default.createElement("div",null,"未找到 userid，请重新登录")}},593:function(e,t,n){"use strict";n.r(t),t.default={"collect-song":"collect-song_1DAiM"}},595:function(e,t,n){var r={"./routes":118,"./routes/":118,"./routes/Album":155,"./routes/Album/":155,"./routes/Album/components/View":214,"./routes/Album/components/View.module.scss":404,"./routes/Album/components/View.tsx":214,"./routes/Album/index":155,"./routes/Album/index.tsx":155,"./routes/Discovery":157,"./routes/Discovery/":157,"./routes/Discovery/components/Carousel":122,"./routes/Discovery/components/Carousel/":122,"./routes/Discovery/components/Carousel/index":122,"./routes/Discovery/components/Carousel/index.module.scss":407,"./routes/Discovery/components/Carousel/index.tsx":122,"./routes/Discovery/components/RecentSonglist":124,"./routes/Discovery/components/RecentSonglist/":124,"./routes/Discovery/components/RecentSonglist/index":124,"./routes/Discovery/components/RecentSonglist/index.module.scss":409,"./routes/Discovery/components/RecentSonglist/index.tsx":124,"./routes/Discovery/components/RecommentPlaylist":123,"./routes/Discovery/components/RecommentPlaylist/":123,"./routes/Discovery/components/RecommentPlaylist/index":123,"./routes/Discovery/components/RecommentPlaylist/index.module.scss":408,"./routes/Discovery/components/RecommentPlaylist/index.tsx":123,"./routes/Discovery/components/View":217,"./routes/Discovery/components/View.module.scss":406,"./routes/Discovery/components/View.tsx":217,"./routes/Discovery/index":157,"./routes/Discovery/index.tsx":157,"./routes/MySongList":158,"./routes/MySongList/":158,"./routes/MySongList/components/View":169,"./routes/MySongList/components/View.js":169,"./routes/MySongList/components/View.module.scss":59,"./routes/MySongList/index":158,"./routes/MySongList/index.js":158,"./routes/PersonalFM":162,"./routes/PersonalFM/":162,"./routes/PersonalFM/index":162,"./routes/PersonalFM/index.module.scss":431,"./routes/PersonalFM/index.tsx":162,"./routes/Playlist":163,"./routes/Playlist/":163,"./routes/Playlist/components/View":222,"./routes/Playlist/components/View.module.scss":432,"./routes/Playlist/components/View.tsx":222,"./routes/Playlist/index":163,"./routes/Playlist/index.tsx":163,"./routes/Search":164,"./routes/Search/":164,"./routes/Search/components/AlbumList":127,"./routes/Search/components/AlbumList/":127,"./routes/Search/components/AlbumList/index":127,"./routes/Search/components/AlbumList/index.tsx":127,"./routes/Search/components/PlaylistList":129,"./routes/Search/components/PlaylistList/":129,"./routes/Search/components/PlaylistList/index":129,"./routes/Search/components/PlaylistList/index.tsx":129,"./routes/Search/components/SingerList":128,"./routes/Search/components/SingerList/":128,"./routes/Search/components/SingerList/index":128,"./routes/Search/components/SingerList/index.tsx":128,"./routes/Search/components/View":223,"./routes/Search/components/View.module.scss":433,"./routes/Search/components/View.tsx":223,"./routes/Search/index":164,"./routes/Search/index.tsx":164,"./routes/Singer":165,"./routes/Singer/":165,"./routes/Singer/components/Header":130,"./routes/Singer/components/Header/":130,"./routes/Singer/components/Header/index":130,"./routes/Singer/components/Header/index.module.scss":436,"./routes/Singer/components/Header/index.tsx":130,"./routes/Singer/components/Introduction":131,"./routes/Singer/components/Introduction/":131,"./routes/Singer/components/Introduction/index":131,"./routes/Singer/components/Introduction/index.module.scss":437,"./routes/Singer/components/Introduction/index.tsx":131,"./routes/Singer/components/View":225,"./routes/Singer/components/View.module.scss":435,"./routes/Singer/components/View.tsx":225,"./routes/Singer/index":165,"./routes/Singer/index.tsx":165,"./routes/Song":166,"./routes/Song/":166,"./routes/Song/components/View":226,"./routes/Song/components/View.module.scss":438,"./routes/Song/components/View.tsx":226,"./routes/Song/index":166,"./routes/Song/index.tsx":166,"./routes/User":167,"./routes/User/":167,"./routes/User/components/View":170,"./routes/User/components/View.js":170,"./routes/User/index":167,"./routes/User/index.js":167,"./routes/Video":168,"./routes/Video/":168,"./routes/Video/components/View":171,"./routes/Video/components/View.js":171,"./routes/Video/index":168,"./routes/Video/index.js":168,"./routes/index":118,"./routes/index.ts":118};function a(e){e=i(e);return n(e)}function i(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=i,(e.exports=a).id=595},596:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.album=t.albumComment=void 0;var l=i(n(74));t.albumComment=function(e){return(0,l.default)("/comment/album?id="+e)};t.album=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,l.default)("/album?id="+t)]})})}},597:function(e,t,n){"use strict";n.r(t),t.default={detail:"detail_25jrL"}},598:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},f=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},d=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=i(n(0)),p=n(53),h=n(41),v=n(66),y=n(44),g=n(113),b=n(69),_=l(n(198));t.default=function(e){var t=this,n=e.detailData,i=e.songList,l=e.songIds,u=(s=(0,m.useContext)(p.FuncContext)).setPlaylist,o=s.playSong,r=n.title,a=n.cover,e=n.creator,s=n.tags,n=n.description;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"list-left"},m.default.createElement("div",{className:"image"},m.default.createElement("img",{src:a+"?param=240y240"}))),m.default.createElement("div",{className:"list-right"},m.default.createElement("div",{className:"title-playlist"},r),m.default.createElement("div",{className:"creator"},m.default.createElement(h.Link,{to:"/User?id="+e.id},m.default.createElement("img",{src:e.avatar+"?param=40y40"}),e.name),new Date(e.createTime).toLocaleDateString().replace(/\//g,"-"),"创建"),m.default.createElement("div",{className:"btns"},m.default.createElement(v.Button,{icon:m.default.createElement(y.CaretRightOutlined,null),onClick:function(){return c(t,void 0,void 0,function(){var t,n,r,a;return f(this,function(e){switch(e.label){case 0:return(t=[],i)?(t=i.filter(function(e){return e.isFree}),[3,5]):[3,1];case 1:if(!l)return[3,5];n=Math.ceil(.02*l.length),r=0,e.label=2;case 2:return r<n?(a=50*r,a=l.slice(a,50+a),[4,(0,g.songDetail)(a)]):[3,5];case 3:a=e.sent(),a=(0,b.resolveSongs)(a.songs,"detail").filter(function(e){return e.isFree}),t=d(d([],t,!0),a,!0),e.label=4;case 4:return++r,[3,2];case 5:return(0,_.default)().delAll(),u(t),o(t[0]),[2]}})})}},"播放全部")),m.default.createElement("div",{className:"tags"},"标签：",s.map(function(e,t){return m.default.createElement("span",{key:t},e)})),m.default.createElement("div",{className:"description"},n)))}},599:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=n(53),c=n(41),f=n(66),d=n(44);t.default=function(e){var t=e.detailData,n=e.songList,r=(u=(0,o.useContext)(s.FuncContext)).playSong,a=u.setPlaylist,i=t.title,l=t.cover,e=t.singers,u=t.publishTime,t=t.description;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"list-left"},o.default.createElement("div",{className:"image"},o.default.createElement("img",{src:l+"?param=240y240"}))),o.default.createElement("div",{className:"list-right"},o.default.createElement("div",{className:"title-album"},i),o.default.createElement("div",{className:"singer"},"歌手：",e.map(function(e,t){var n=e.id,e=e.name;return o.default.createElement(o.default.Fragment,{key:t},o.default.createElement(c.Link,{to:"/Singer?id="+n},e),o.default.createElement("span",null," / "))})),o.default.createElement("div",null,"发行时间：",new Date(u).toLocaleDateString().replace(/\//g,"-")),o.default.createElement("div",{className:"btns"},o.default.createElement(f.Button,{icon:o.default.createElement(d.CaretRightOutlined,null),onClick:function(){var e=n[0];r(e),a(n)}},"播放全部")),o.default.createElement("div",{className:"description"},t)))}},600:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=i(n(0)),y=n(53),g=n(41),b=n(66),_=n(44),E=l(n(86));t.default=function(e){var t=e.detailData,n=e.songData,r=e.lyric,a=t.title,i=t.cover,l=t.singers,u=t.albumId,o=t.albumName,s=n.id,c=n.name,e=n.isFree,f=(t=(0,v.useContext)(y.FuncContext)).playSong,d=t.collectSong,m=t.setPlaylist,p=(t=(0,v.useContext)(y.StateContext)).playingItem,h=t.playlist;return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"list-left"},v.default.createElement("div",{className:"image"},v.default.createElement("img",{src:i+"?param=240y240"}))),v.default.createElement("div",{className:"list-right"},v.default.createElement("div",{className:"title-song"},a),v.default.createElement("div",{className:"singer"},"歌手：",l.map(function(e,t){var n=e.id,e=e.name;return v.default.createElement(v.default.Fragment,{key:t},v.default.createElement(g.Link,{to:"/Singer?id="+n},e),v.default.createElement("span",null," / "))})),v.default.createElement("div",null,"所属专辑：",v.default.createElement(g.Link,{to:"/Album?id="+u},o)),v.default.createElement("div",{className:"btns"},v.default.createElement(b.Button,{icon:v.default.createElement(_.CaretRightOutlined,null),onClick:function(){var e;p.id!==n.id&&(h.find(function(e){return e.id===n.id})||((e=h.slice()).push(n),m(e)),f(n))},disabled:!e},"播放"),v.default.createElement(b.Button,{icon:v.default.createElement(_.HeartOutlined,null),onClick:function(){d(s)},disabled:!e},"添加到歌单"),v.default.createElement(b.Button,{icon:v.default.createElement(_.DownloadOutlined,null),onClick:function(){(0,E.default)().download(s,c)},disabled:!e},"下载")),v.default.createElement("input",{type:"checkbox",id:"toggle-lyric",className:"toggle",style:{display:"none"}}),0===r.length&&v.default.createElement("div",null,"暂无歌词"),v.default.createElement("div",{className:"lyric"},r.map(function(e,t){var n=e[0],e=e[1];return v.default.createElement("p",{key:t},n,e&&v.default.createElement(v.default.Fragment,null,v.default.createElement("br",null),e))})),v.default.createElement("label",{htmlFor:"toggle-lyric"})))}},601:function(e,t,n){"use strict";n.r(t),t.default={songlist:"songlist_1AHFN"}},602:function(e,t,n){"use strict";n.r(t),t.default={pagination:"pagination_1ik9H"}},603:function(e,t,n){"use strict";n.r(t),t.default={"comment-list":"comment-list_1x3ow"}},604:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.simiSong=t.topSong=t.recommendPlaylist=t.banner=void 0;var a=r(n(74));t.banner=function(){return(0,a.default)("/banner")};t.recommendPlaylist=function(e){return(0,a.default)("/personalized?limit="+(e=void 0===e?10:e))};t.topSong=function(e){return(0,a.default)("/top/song?type="+(e=void 0===e?0:e))};t.simiSong=function(e){return(0,a.default)("/simi/song?id="+e)}},64:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));n(565);var i=new Array(16).fill(0);t.default=function(){return a.default.createElement("div",{className:"loading-container"},a.default.createElement("div",{className:"loader"},i.map(function(e,t){return a.default.createElement("div",{className:"square",key:t})})),a.default.createElement("div",{className:"loading-text"},"加载中"))}},649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unlike=t.getFMList=void 0;var a=r(n(74));t.getFMList=function(){return(0,a.default)("/personal_fm?_t="+Date.now())};t.unlike=function(e){return(0,a.default)("/fm_trash?id="+e)}},650:function(e,t,n){"use strict";n.r(t),t.default={tabs:"tabs_2nnn9",tab:"tab_1pU_B","tab-active":"tab-active_qjqOx"}},651:function(e,t,n){"use strict";n.r(t),t.default={"link-image-list":"link-image-list_3_g2E"}},652:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.singerDesc=t.singerInfo=void 0;var a=r(n(74));t.singerInfo=function(e){return(0,a.default)("/artists?id="+e)};t.singerDesc=function(e){return(0,a.default)("/artist/desc?id="+e)}},653:function(e,t,n){"use strict";n.r(t)},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDetail=t.resolveSongs=t.resolveLyric=void 0;var f=n(38);t.resolveLyric=function(e){var t=e.uncollected,n=e.nolyric,r=e.lrc,e=e.tlyric;if(t||n)return[];function a(e,r){var t=e.lastIndexOf("]"),a=e.slice(t+1);e.match(/\d+\:\d+[\.\:]\d+/g).forEach(function(e){var t,n,n=(n=(t=e).match(/\d+/g),e=n[0],t=n[1],n=n[2],60*Number(e)+Number(t)+.001*Number(n));r?i[n]=[a,"",n]:i[n]&&(i[n][1]=a)})}var r=r.lyric.split("\n").filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}),e=(null===(e=null===(e=null==e?void 0:e.lyric)||void 0===e?void 0:e.split("\n"))||void 0===e?void 0:e.filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}))||[],i={};return r.forEach(function(e){return a(e,!0)}),e.forEach(function(e){return a(e,!1)}),Object.values(i).sort(function(e,t){return e[2]-t[2]})};t.resolveSongs=function(e,l){return e.map(function(e){var t=e.id,n=e.name,r=["topSong","fm","search"].includes(l)?e.album:e.al,a="detail"===l?e.ar:e.artists,i=["simiSong","fm","search"].includes(l)?e.duration:e.dt;return{id:t,name:n,isFree:1!==e.fee,duration:.001*i,singers:a.map(function(e){return{id:e.id,name:e.name}}),albumId:r.id,albumName:r.name,cover:(0,f.replaceHttpToHttps)(r.picUrl||"")}})};t.resolveDetail=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var a=e.playlist,i=a.name,l=a.tags,u=a.description,o=a.createTime,a=(0,f.replaceHttpToHttps)(e.playlist.coverImgUrl),o={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:(0,f.replaceHttpToHttps)(e.playlist.creator.avatarUrl),createTime:o};return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a,creator:o,isCreator:Number(localStorage.getItem("userid"))===o.id,tags:l,description:u}}if(n){var s=e.album,i=s.name,c=s.publishTime,u=s.description,s=e.album.artists.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a=(0,f.replaceHttpToHttps)(e.album.picUrl),singers:s,publishTime:c,description:u}}c=e.songs[0],i=c.name,u=c.al,c=u.id,u=u.name,s=e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a=(0,f.replaceHttpToHttps)(e.songs[0].al.picUrl),singers:s,albumId:c,albumName:u}}},74:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},i=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(382)),o={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.default=function(t,n){return void 0===n&&(n={}),a(void 0,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,(0,u.default)(r(r({url:"https://server0309.herokuapp.com"+t},o),n))];case 1:return[2,e.sent().data]}})})}},86:function(e,t,n){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},s=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(n(74)),c=r(n(382)),f=r(n(198)),d=n(113),m=n(69),p=n(38),l=r(n(557)),h=(v.prototype.drawCanvas=function(){this.reqId=requestAnimationFrame(this.drawCanvas);var e=this.canvasContext,t=this.playingItem;if(t){var n=(0,l.default)(t.abuffer);e.clearRect(0,0,900,310);for(var r=900/n.length,a=0;a<n.length;++a){var i=310*n[a];e.fillRect(a*r,310-i,r,i)}}},v.prototype.getMusic=function(l){var n=this;return new Promise(function(a,e){var t,i=n.audioContext;n.rejectFn=e,l!==(null===(e=null===(e=n.playingItem)||void 0===e?void 0:e.info)||void 0===e?void 0:e.id)?(t=(0,f.default)().get(l))?i.decodeAudioData(t.buffer.slice(0)).then(function(e){a(u(u({},t),{abuffer:e}))}):(0,o.default)("/getMusicUrl?id="+l).then(function(e){var t;e.error||null!==(t=e.url)&&void 0!==t&&t.includes("music.163.com/404")?a(null):(e=e.url,e=(0,c.default)({url:(0,p.replaceHttpToHttps)(e),responseType:"arraybuffer"}).then(function(e){return e.data}).catch(function(e){return null}),Promise.all([e,(0,d.songDetail)([l]),(0,d.getLyric)(l)]).then(function(e){var t=e[0],n=e[1],e=e[2];if(null===t)return console.log("get music fail, id:",l),void a(null);var n=(0,m.resolveSongs)(n.songs,"detail")[0],e=(0,m.resolveLyric)(e),r={buffer:t,info:u(u({},n),{lyric:e})};(0,f.default)().save(l,r),i.decodeAudioData(t.slice(0)).then(function(e){r.info.duration=e.duration,a(u(u({},r),{abuffer:e}))})}))}):a(n.playingItem)})},v.prototype.restart=function(){return i(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.audioContext.resume()];case 1:return e.sent(),[2,!0]}})})},v.prototype.play=function(u,o){return i(this,void 0,void 0,function(){var t,n,r,a,i,l=this;return s(this,function(e){switch(e.label){case 0:return(i=(t=this).currentSource,n=t.audioContext,r=t.gainNode,a=t.playingItem,(0,t.rejectFn)(),"suspended"===n.state&&(this.restart(),a&&a.info.id===u&&void 0===o))?[2,!0]:(this.startTime=!1,i&&(i.onended=null,i.stop(0),i.disconnect()),[4,this.getMusic(u).catch(function(e){return null})]);case 1:return(a=e.sent())?((i=n.createBufferSource()).buffer=a.abuffer,i.connect(r),this.currentSource=i,this.startTime=n.currentTime-(o||0),i.start(n.currentTime,o||0),this.playingItem=a,i.onended=function(){l.startTime=!1,l.onEnded&&l.onEnded()},[2,!0]):[2,!1]}})})},v.prototype.pause=function(){return i(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.audioContext.suspend()];case 1:return e.sent(),[2,!0]}})})},v.prototype.setVolume=function(e){this.gainNode.gain.value=e},v.prototype.drawStart=function(){cancelAnimationFrame(this.reqId),this.reqId=requestAnimationFrame(this.drawCanvas)},v.prototype.drawStop=function(){this.canvasContext.clearRect(0,0,900,310),cancelAnimationFrame(this.reqId)},v.prototype.setCanvasContext=function(e){e.fillStyle="#6dccff",this.canvasContext=e},v.prototype.download=function(r,a){return i(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return[4,this.getMusic(r)];case 1:return(t=e.sent())?(n=new Blob([t.buffer]),t=URL.createObjectURL(n),(n=document.createElement("a")).href=t,n.download=a+".mp3",n.click(),URL.revokeObjectURL(t),[2,!0]):[2,!1]}})})},v.prototype.setOnEnded=function(e){this.onEnded=e},v.prototype.getCurrentTime=function(){var e=this.audioContext,t=this.startTime;return!1!==t?e.currentTime-t:0},v.prototype.getPlayingItem=function(){return this.playingItem.info},v);function v(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.canvasContext=null,this.currentSource=null,this.onEnded=null,this.startTime=!1,this.playingItem=null,this.rejectFn=function(){},this.drawCanvas=this.drawCanvas.bind(this),console.info("musicInstance",this)}t.default=function(){return a=a||new h}},89:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userPlaylist=t.deleteSonglist=t.songlistSubscribe=t.songlistTracks=t.playlistComment=t.playlistDetail=void 0;var l=i(n(74));t.playlistDetail=function(e){return(0,l.default)("/playlist/detail?id="+e)};t.playlistComment=function(e){return(0,l.default)("/comment/playlist?id="+e)};t.songlistTracks=function(e,t,n){return(0,l.default)("/playlist/tracks?op="+e+"&pid="+t+"&tracks="+n)};t.songlistSubscribe=function(t,n){return void 0===n&&(n=1),r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,l.default)("/playlist/subscribe?t="+n+"&id="+t)];case 1:return[2,e.sent()]}})})};t.deleteSonglist=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,l.default)("/playlist/delete?id="+t)];case 1:return[2,e.sent()]}})})};t.userPlaylist=function(e){return(0,l.default)("/user/playlist?uid="+e)}}});