!function(u){function e(e){for(var t,n,r=e[0],a=e[1],o=e[2],i=0,c=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(f,n)&&f[n]&&c.push(f[n][0]),f[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(u[t]=a[t]);for(p&&p(e);c.length;)c.shift()();return l.push.apply(l,o||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==f[o]&&(r=!1)}r&&(l.splice(t--,1),e=d(d.s=n[0]))}return e}var n={},m={25:0},f={25:0},l=[];function d(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.e=function(l){var e=[];m[l]?e.push(m[l]):0!==m[l]&&{1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,16:1,17:1,18:1,19:1,20:1,21:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,38:1}[l]&&e.push(m[l]=new Promise(function(r,a){for(var e="css/"+l+".169611152993b59f6b0e.css",o=d.p+e,t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var i=(c=t[n]).getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(i===e||i===o))return r()}for(var c,u=document.getElementsByTagName("style"),n=0;n<u.length;n++)if((i=(c=u[n]).getAttribute("data-href"))===e||i===o)return r();var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";s.onerror=s.onload=function(e){var t,n;s.onerror=s.onload=null,"load"===e.type?r():(t=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.href||o,(e=new Error("Loading CSS chunk "+l+" failed.\n("+n+")")).code="CSS_CHUNK_LOAD_FAILED",e.type=t,e.request=n,delete m[l],s.parentNode.removeChild(s),a(e))},s.href=o,document.head.appendChild(s)}).then(function(){m[l]=0}));var r,a,t,o,n,i=f[l];return 0!==i&&(i?e.push(i[2]):(n=new Promise(function(e,t){i=f[l]=[e,t]}),e.push(i[2]=n),(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.src=d.p+"js/"+({}[n=l]||n)+".bundle."+{1:"2f4cc68a",2:"a56d9ce6",3:"fb2c89cc",4:"b16db9d4",5:"1dbfdf3d",6:"6faf3a28",7:"0394410a",8:"7e9a3729",9:"eceb1fd7",10:"82ba33f3",11:"e70f87f5",12:"6b465a10",13:"fabb89bb",14:"2b5ac780",15:"2a4a8378",16:"0f8b049a",17:"f66346f8",18:"b4b8d6d6",19:"fc7cfe50",20:"6d51949f",21:"e4fce29b",22:"d79d6fe7",23:"bacd0e9c",26:"7b23a4b7",27:"64eafd57",28:"a59a2c23",29:"22a35fa8",30:"6ec54093",31:"1be7396c",32:"dc391677",33:"1ca6282b",34:"a9ee5c4c",35:"ea8cca6f",36:"ec6b1c68",37:"19e96da0",38:"bcf23520"}[n]+".js",a=new Error,t=function(e){r.onerror=r.onload=null,clearTimeout(o);var t,n=f[l];0!==n&&(n&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,a.message="Loading chunk "+l+" failed.\n("+t+": "+e+")",a.name="ChunkLoadError",a.type=t,a.request=e,n[1](a)),f[l]=void 0)},o=setTimeout(function(){t({type:"timeout",target:r})},12e4),r.onerror=r.onload=t,document.head.appendChild(r))),Promise.all(e)},d.m=u,d.c=n,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)d.d(n,r,function(e){return t[e]}.bind(null,r));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e};var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),a=0;a<r.length;a++)e(r[a]);var p=t;l.push([450,24,0]),s()}({128:function(e,t,n){"use strict";n(338),n(92);var r=n(0),a=n.n(r),o="container_3vE9R",i="loader_3I4hA",c="square_1T8zl",u="loading-text_2KsdE",s=new Array(16).fill(0);t.a=function(){return a.a.createElement("div",{className:o},a.a.createElement("div",{className:i},s.map(function(e,t){return a.a.createElement("div",{className:c,key:t})})),a.a.createElement("div",{className:u},"加载中"))}},130:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return s});var t=n(233),t=n(73),t=n(58),t=n(64),t=n(38),t=n(74),t=n(52),t=n(59),t=n(65),t=n(63),t=n(51),t=n(75),t=n(234),t=n(235),t=n(113),t=n(236),t=n(189),t=n(190),t=n(237),t=n(238),r=n(0);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e}),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])},s=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=i(Object(r.useState)(e),2),e=t[0],n=t[1];return[e,Object(r.useCallback)(function(t){n(function(e){return a(a({},e),t)})},[])]}},179:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});n(60),n(38),n(66),n(442),n(52),n(59),n(65),n(444);var s=n(0),l=n.n(s),a=n(31),m=n(471),f=n(299),d=(n(113),n(92),n(51),n(73),n(58),n(64),n(74),n(63),n(75),"collect-song_1DAiM"),p=n(467),v=n(89),y=n(128),b=n(182);function g(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t=e.songId,n=h(Object(s.useState)(null),2),r=n[0],a=n[1],o=(e=h(Object(s.useState)(null),2))[0],i=e[1],e=(n=h(Object(s.useState)(!1),2))[0],c=n[1],u=window.localStorage.getItem("userid");return u?(Object(s.useEffect)(function(){(function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.e)(u);case 2:n=e.sent,t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单(".concat(t.length,")"),value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单(".concat(n.length,")"),value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],a(n);case 7:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){g(r,t,n,a,o,"next",e)}function o(e){g(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()()},[]),r?l.a.createElement("div",{className:d},l.a.createElement(p.a,{treeData:r,style:{width:"100%"},onChange:function(e){return i(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"}),l.a.createElement(v.a,{onClick:function(){o&&(c(!0),Object(b.d)("add",o,[t]).then(function(){m.a.destroyAll(),f.b.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:"30px"}},"确认")):l.a.createElement(y.a,null)):l.a.createElement("div",null,"未找到userid，请重新登录")}function u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var i=function(e){m.a.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:l.a.createElement(o,{songId:e})})},w=!1,c=function(){var c,n=(c=regeneratorRuntime.mark(function e(n,t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w)return f.b.error("下载中"),e.abrupt("return");e.next=3;break;case 3:return w=!0,e.next=6,Object(a.a)("/song/url?id=".concat(t));case 6:if(r=e.sent,r=r.data[0].url){e.next=12;break}return w=!1,f.b.error("获取地址失败"),e.abrupt("return");case 12:return f.b.loading("开始下载"),e.next=15,fetch(r).then(Function.call.bind(Response.prototype.blob)).then(function(e){var t=document.createElement("a"),e=window.URL.createObjectURL(e);t.href=e,t.download="".concat(n,".mp3"),t.click(),window.URL.revokeObjectURL(e),w=!1});case 15:return f.b.success("下载完成"),e.abrupt("return",!0);case 17:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){u(r,t,n,a,o,"next",e)}function o(e){u(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e,t){return n.apply(this,arguments)}}()},182:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return l});var t=n(60),t=n(95),t=n(191),t=n(180),t=n(129),t=n(38),t=n(66),o=n(31);function u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function a(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){u(r,t,n,a,o,"next",e)}function o(e){u(r,t,n,a,o,"throw",e)}a(void 0)})}}var r=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("/playlist/detail?id=".concat(t,"&timestamp=").concat(Date.now()));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("/comment/playlist?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var r=a(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.join(),e.next=3,Object(o.a)("/playlist/tracks?op=".concat(t,"&pid=").concat(n,"&tracks=").concat(a));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),s=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("/playlist/delete?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)("/user/playlist?uid=".concat(t,"&timestamp=").concat(Date.now()));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},229:function(e,t,f){"use strict";f.d(t,"c",function(){return _t}),f.d(t,"a",function(){return Ct}),f.d(t,"b",function(){return Rt}),f.d(t,"e",function(){return Tt});f(60),f(319),f(321),f(94),f(230),f(113),f(181),f(52),f(38),f(66),f(59),f(65),f(73),f(58),f(64),f(74),f(63),f(51),f(75);var y=f(0),b=f.n(y),d=f(24),p=f(130),v=f(88),n=f(90),r=f(128),c=(f(302),"header_2ZE5y"),s="username_2j0uL",l="logout_jXbCr",m="search_3LQp3",g=f(472),h=f(470),w=f(474),a=(f(223),f(191),f(180),f(341),f(471)),o=f(468),i=f(89),u=(f(95),f(31));function E(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function j(e,t,n,r,a,o){return E((o=E(E(t,e),E(r,o)))<<(a=a)|o>>>32-a,n)}function S(e,t,n,r,a,o,i){return j(t&n|~t&r,e,t,a,o,i)}function O(e,t,n,r,a,o,i){return j(t&r|n&~r,e,t,a,o,i)}function x(e,t,n,r,a,o,i){return j(t^n^r,e,t,a,o,i)}function k(e,t,n,r,a,o,i){return j(n^(t|~r),e,t,a,o,i)}function P(e,t){var n,r,a,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,c=-271733879,u=-1732584194,s=271733878,l=0;l<e.length;l+=16)i=S(n=i,r=c,a=u,o=s,e[l],7,-680876936),s=S(s,i,c,u,e[l+1],12,-389564586),u=S(u,s,i,c,e[l+2],17,606105819),c=S(c,u,s,i,e[l+3],22,-1044525330),i=S(i,c,u,s,e[l+4],7,-176418897),s=S(s,i,c,u,e[l+5],12,1200080426),u=S(u,s,i,c,e[l+6],17,-1473231341),c=S(c,u,s,i,e[l+7],22,-45705983),i=S(i,c,u,s,e[l+8],7,1770035416),s=S(s,i,c,u,e[l+9],12,-1958414417),u=S(u,s,i,c,e[l+10],17,-42063),c=S(c,u,s,i,e[l+11],22,-1990404162),i=S(i,c,u,s,e[l+12],7,1804603682),s=S(s,i,c,u,e[l+13],12,-40341101),u=S(u,s,i,c,e[l+14],17,-1502002290),i=O(i,c=S(c,u,s,i,e[l+15],22,1236535329),u,s,e[l+1],5,-165796510),s=O(s,i,c,u,e[l+6],9,-1069501632),u=O(u,s,i,c,e[l+11],14,643717713),c=O(c,u,s,i,e[l],20,-373897302),i=O(i,c,u,s,e[l+5],5,-701558691),s=O(s,i,c,u,e[l+10],9,38016083),u=O(u,s,i,c,e[l+15],14,-660478335),c=O(c,u,s,i,e[l+4],20,-405537848),i=O(i,c,u,s,e[l+9],5,568446438),s=O(s,i,c,u,e[l+14],9,-1019803690),u=O(u,s,i,c,e[l+3],14,-187363961),c=O(c,u,s,i,e[l+8],20,1163531501),i=O(i,c,u,s,e[l+13],5,-1444681467),s=O(s,i,c,u,e[l+2],9,-51403784),u=O(u,s,i,c,e[l+7],14,1735328473),i=x(i,c=O(c,u,s,i,e[l+12],20,-1926607734),u,s,e[l+5],4,-378558),s=x(s,i,c,u,e[l+8],11,-2022574463),u=x(u,s,i,c,e[l+11],16,1839030562),c=x(c,u,s,i,e[l+14],23,-35309556),i=x(i,c,u,s,e[l+1],4,-1530992060),s=x(s,i,c,u,e[l+4],11,1272893353),u=x(u,s,i,c,e[l+7],16,-155497632),c=x(c,u,s,i,e[l+10],23,-1094730640),i=x(i,c,u,s,e[l+13],4,681279174),s=x(s,i,c,u,e[l],11,-358537222),u=x(u,s,i,c,e[l+3],16,-722521979),c=x(c,u,s,i,e[l+6],23,76029189),i=x(i,c,u,s,e[l+9],4,-640364487),s=x(s,i,c,u,e[l+12],11,-421815835),u=x(u,s,i,c,e[l+15],16,530742520),i=k(i,c=x(c,u,s,i,e[l+2],23,-995338651),u,s,e[l],6,-198630844),s=k(s,i,c,u,e[l+7],10,1126891415),u=k(u,s,i,c,e[l+14],15,-1416354905),c=k(c,u,s,i,e[l+5],21,-57434055),i=k(i,c,u,s,e[l+12],6,1700485571),s=k(s,i,c,u,e[l+3],10,-1894986606),u=k(u,s,i,c,e[l+10],15,-1051523),c=k(c,u,s,i,e[l+1],21,-2054922799),i=k(i,c,u,s,e[l+8],6,1873313359),s=k(s,i,c,u,e[l+15],10,-30611744),u=k(u,s,i,c,e[l+6],15,-1560198380),c=k(c,u,s,i,e[l+13],21,1309151649),i=k(i,c,u,s,e[l+4],6,-145523070),s=k(s,i,c,u,e[l+11],10,-1120210379),u=k(u,s,i,c,e[l+2],15,718787259),c=k(c,u,s,i,e[l+9],21,-343485551),i=E(i,n),c=E(c,r),u=E(u,a),s=E(s,o);return[i,c,u,s]}function A(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function I(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function M(e){for(var t,n="0123456789abcdef",r="",a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function N(e){return unescape(encodeURIComponent(e))}function _(e){return A(P(I(e=N(e)),8*e.length))}function C(e,t){return function(e,t){var n,r=I(e),a=[],o=[];for(a[15]=o[15]=void 0,16<r.length&&(r=P(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],o[n]=1549556828^r[n];return t=P(a.concat(I(t)),512+8*t.length),A(P(o.concat(t),640))}(N(e),N(t))}var R=function(e,t,n){return t?n?C(t,e):M(C(t,e)):n?_(e):M(_(e))};function T(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function D(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){T(r,t,n,a,o,"next",e)}function o(e){T(r,t,n,a,o,"throw",e)}a(void 0)})}}var L=function(){var n=D(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("/login?email=".concat(t,"&md5_password=").concat(R(n)),{method:"POST"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),V=function(){var n=D(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("/login/cellphone?phone=".concat(t,"&md5_password=").concat(R(n)),{method:"POST"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),U=function(){var e=D(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){var t=e.visible,l=e.onClose,m=e.onSetName,f=e.onSetImg,d=(e=H(Object(y.useState)(!1),2))[0],p=e[1],e=function(){var c,t=(c=regeneratorRuntime.mark(function e(t){var n,r,a,o,i,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.username,r=t.password,n&&r){e.next=3;break}return e.abrupt("return");case 3:if(!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(n)){e.next=7;break}a="email",e.next=12;break;case 7:if(!/^1[3-9]\d{9}$/.test(n)){e.next=11;break}a="phone",e.next=12;break;case 11:return e.abrupt("return");case 12:if(d)return e.abrupt("return");e.next=14;break;case 14:if(p(!0),"email"===a)return e.next=18,L(n,r);e.next=21;break;case 18:e.t0=e.sent,e.next=24;break;case 21:return e.next=23,V(n,r);case 23:e.t0=e.sent;case 24:s=e.t0,u=s.profile,o=u.nickname,i=u.avatarUrl,c=s.account.id,u=s.token,s=+s.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1],m(o),f(i),window.localStorage.setItem("username",o),window.localStorage.setItem("avatar",i),window.localStorage.setItem("userid",c),window.localStorage.setItem("token",u),window.localStorage.setItem("timestampBefore",Date.now()+1e3*s),p(!1),l();case 38:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){B(r,t,n,a,o,"next",e)}function o(e){B(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}();return b.a.createElement(a.a,{title:"登录",visible:t,onCancel:l,footer:null},b.a.createElement(o.a,F({},z,{onFinish:e}),b.a.createElement(o.a.Item,{label:"账号",name:"username"},b.a.createElement(h.a,{placeholder:"输入手机号或邮箱"})),b.a.createElement(o.a.Item,{label:"密码",name:"password"},b.a.createElement(h.a,{type:"password",placeholder:"输入密码",autoComplete:"on"})),b.a.createElement(o.a.Item,X,b.a.createElement(i.a,{type:"primary",htmlType:"submit",loading:d},"登录"))))}var z={labelCol:{span:4},wrapperCol:{span:20}},X={wrapperCol:{offset:18,span:4}},Z=f(42);function Y(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=Object(y.memo)(function(){var e=G(Object(y.useState)(null),2),t=e[0],n=e[1],r=G(Object(y.useState)(!1),2),a=r[0],o=r[1],i=G(Object(y.useState)(null),2),e=i[0],u=i[1];Object(y.useEffect)(function(){var e,t;Object(Z.d)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&(n(window.localStorage.getItem("username")),u(window.localStorage.getItem("avatar"))))},[]);r=function(){null===t&&o(!a)},i=function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:200===e.sent.code&&(window.localStorage.clear(),n(null),u(null));case 4:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Y(r,t,n,a,o,"next",e)}function o(e){Y(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();return b.a.createElement("div",{className:c+" header"},b.a.createElement($,{visible:a,onClose:r,onSetName:n,onSetImg:u}),b.a.createElement(g.a,{size:40,icon:b.a.createElement(w.a,null),onClick:r,src:e?"".concat(Object(Z.e)(e),"?param=80y80"):""}),b.a.createElement("div",{className:s},t||"未登录"),t&&b.a.createElement("div",{className:l,onClick:i},"退出登录"),b.a.createElement(h.a.Search,{className:m,placeholder:"搜索音乐",onSearch:function(e){return console.log(e)}}))}),K=(f(92),"sidebar_noOAk"),q="category_1DB-E",ee="item_2aBOr",te="active_CpXYT",ne="input-toggle_Xjd9W",re="toggle_LScWE",ae="arrow_1e_pe",oe=f(85),ie=f(178),ce=f(475),ue=f(476),se=f(477),le=f(478),me=f(479);function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e){var t=e.id,n=e.name,r=e.cover,a=e.singers,o=e.convertedTime,e=e.convertedDuration,a=a.map(function(e){return e.name}).join("/");return b.a.createElement("div",{className:be.container},b.a.createElement("div",{className:be.image},b.a.createElement("img",{src:"".concat(Object(Z.e)(r),"?param=50y50")})),b.a.createElement("div",{className:be.information},b.a.createElement("div",{className:be.song},b.a.createElement(oe.b,{to:"/Song?id=".concat(t)},n)," - ",b.a.createElement("span",{className:be.singer,title:a},a)),b.a.createElement("div",{className:be.time},"".concat(o," / ").concat(e))))}var ve=Object(y.memo)(function(){var e=fe(Object(y.useState)(0),2),r=e[0],t=e[1],n=Object(d.e)().pathname;return Object(y.useEffect)(function(){t(n.slice(1))},[n]),b.a.createElement(b.a.Fragment,null,b.a.createElement("input",{type:"checkbox",id:"toggle",style:{display:"none"},className:ne}),b.a.createElement("div",{className:K},b.a.createElement("div",{className:q},"推荐"),[{text:"发现音乐",Icon:ie.a,key:"Discovery"},{text:"私人FM",Icon:ce.a,key:"PersonalFM"},{text:"视频",Icon:ue.a,key:"Video"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return b.a.createElement(oe.b,{className:r===t?"".concat(ee," ").concat(te):ee,key:t,to:"/".concat(t)},b.a.createElement(e,null)," ",n)}),b.a.createElement("div",{className:q},"我的音乐"),[{text:"我的歌单",Icon:se.a,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return b.a.createElement(oe.b,{className:r===t?"".concat(ee," ").concat(te):ee,key:t,to:"/".concat(t)},b.a.createElement(e,null)," ",n)}),b.a.createElement("div",{className:q},"GitHub"),b.a.createElement("a",{className:ee,href:"https://github.com/lisianthus-a/react-music",target:"_blank"},b.a.createElement(le.a,null)," 项目地址"),b.a.createElement("a",{className:ee,href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},b.a.createElement(me.a,null)," API文档")),b.a.createElement("label",{htmlFor:"toggle"},b.a.createElement("div",{className:re},b.a.createElement("span",{className:ae}))))}),ye="music-player_39d43",be=(f(129),{container:"container_3o_Fk",song:"song_24c3t",information:"information_3aEQ9",singer:"singer_1hgau",time:"time_1eAbQ"}),ge="container_3ew1h",he="prev_6qEi8",we="play-or-pause_36A2C",Ee="next_1s2nG",je=f(480),Se=f(481),Oe=f(482),xe=f(483),ke=Object(y.memo)(function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"next",t=o.length;if(t<=1||"single-cycle"===a)u.currentTime=0;else{var n,r=o.findIndex(function(e){return e.id===i.id});switch(a){case"list-loop":n="next"===e?(r+1)%t:(t+r-1)%t;break;case"random":(n=Math.random()*t>>0)===r&&(n=(r+1)%t)}c(o[n])}}var n=e.isPlaying,a=e.playMode,o=e.playlist,i=e.playingMusic,r=e.setPlaying,c=e.setPlayingMusic,u=e.audio;return b.a.createElement("div",{className:ge},b.a.createElement("div",{className:he,title:"上一首",onClick:function(){return t("prev")}},b.a.createElement(je.a,null)),b.a.createElement("div",{className:we,onClick:function(){return r(!n)},title:"播放/暂停"},n?b.a.createElement(Se.a,null):b.a.createElement(Oe.a,null)),b.a.createElement("div",{className:Ee,title:"下一首",onClick:function(){return t("next")}},b.a.createElement(xe.a,null)))}),Pe="other-button_1-Ybf",Ae=(f(303),"playlist_3Uhd9"),Ie="icon_WhsVZ",Me="toggle_XFc5G",Ne="list_2tY3B",_e="list-left_1_9Sw",Ce="list-right_26PhX",Re="title_2cGe1",Te="clean_2ZyBY",De="content_22jBW",Le="item_3jEXo",Ve="icons_1TSId",Ue="song-title_D6VNb",Fe="singer_2YsLR",Be="duration_1gJ9s",He="lyric_WeKVT",We="active_2bxEp",$e="close_3lu8J",ze=f(484),Xe=f(485),Ze=f(486),Ye=f(487),Ge=f(231),Je=f(179),Qe=f(232);function Ke(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function qe(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e){return b.a.createElement(ut,e)}var at=Object(y.memo)(function(e){var n=e.id,o=e.playlist,i=e.playingMusic,c=e.audio,u=e.setPlaylist,s=e.setPlaying,l=e.setPlayingMusic,t=et(Object(y.useState)(null),2),e=t[0],r=t[1],m=Object(y.useRef)(null),f=Object(y.useRef)(null);return Object(y.useEffect)(function(){(function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qe.a)(n);case 2:t=e.sent,r(Object(Ge.b)(t));case 4:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Ke(r,t,n,a,o,"next",e)}function o(e){Ke(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()(),f.current&&f.current.classList.remove(We),m.current.scrollTop=0},[n]),Object(p.a)(function(){if(toggleList.checked){var r=c.currentTime,a=m.current.getElementsByClassName(He);if(0!==a.length){if(r>=+a[a.length-1].dataset.time)t=a[a.length-1];else{if(r<=+a[0].dataset.time)return;var e=function(){for(var e=0,t=a.length-1;e<=t;){var n=e+t>>1;r<+a[n].dataset.time?t=n-1:e=1+n}return e-1}(),t=a[e]}f.current!==t&&(f.current&&f.current.classList.remove(We),(f.current=t).classList.add(We),t=f.current.offsetTop+f.current.scrollHeight/2-195,m.current.scrollTop=t<0?0:t)}}},400),b.a.createElement("div",{className:Ae},b.a.createElement("div",{className:Ie,title:"播放列表"},b.a.createElement("label",{htmlFor:"toggleList"},b.a.createElement(ze.a,null),b.a.createElement("span",null,o.length))),b.a.createElement("input",{type:"checkbox",id:"toggleList",style:{display:"none"},className:Me}),b.a.createElement("div",{className:Ne},b.a.createElement("div",{className:_e},b.a.createElement("div",{className:Re},b.a.createElement("span",null,"播放列表(",o.length,")"),b.a.createElement("span",{className:Te,onClick:function(){u([],!1)}},b.a.createElement(Xe.a,null),"清空")),b.a.createElement("div",{className:De},o.map(function(e,t){var r=e.id,a=e.name,n=e.singers,e=e.duration;return b.a.createElement("div",{className:r===i.id?"".concat(Le," playing"):Le,key:t,onClick:function(){return e=t,s(!0),void l(o[e]);var e}},r===i.id&&b.a.createElement(Oe.a,null),b.a.createElement("div",{className:Ue,title:a},a),b.a.createElement("div",{className:Ve},b.a.createElement(Ze.a,{title:"添加到歌单",onClick:function(e){return t=r,e.stopPropagation(),void Object(Je.a)(t);var t}}),b.a.createElement(Ye.a,{title:"下载",onClick:function(e){return t=a,n=r,e.stopPropagation(),void Object(Je.b)(t,n);var t,n}}),b.a.createElement(Xe.a,{title:"删除",onClick:function(e){return function(e,t){e.stopPropagation();var n=qe(o),e=n.findIndex(function(e){return e.id===i.id});n.splice(t,1),u(n,!1),e===t&&l(n[t]||n[n.length-1])}(e,t)}})),b.a.createElement("div",{className:Fe,title:n.map(function(e){return e.name}).join("/")},n.map(function(e){return e.name}).join("/")),b.a.createElement("div",{className:Be},Object(Z.b)(e)))}))),b.a.createElement("div",{className:Ce},b.a.createElement("div",{className:Re},b.a.createElement("span",{title:i.name},i.name)),b.a.createElement("div",{className:De,ref:m},!e&&b.a.createElement("p",null,"歌词加载中..."),e&&0===e.length&&b.a.createElement("p",null,"暂无歌词"),e&&e.map(function(e,t){var n=et(e,3),r=n[0],e=n[1],n=n[2];return b.a.createElement("p",{key:t,"data-time":n,className:He},r,e&&b.a.createElement(b.a.Fragment,null,b.a.createElement("br",null),e))}))),b.a.createElement("label",{htmlFor:"toggleList"},b.a.createElement("div",{className:$e},"X"))))}),ot="play-mode_3wZ9F",it="icon_1K15t",ct=f(473),ut=Object(ct.a)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"}),st=f(488),lt=Object(y.memo)(function(e){var t=e.playMode,n=e.setPlayMode;return b.a.createElement("div",{className:ot},b.a.createElement("div",{className:it,onClick:function(){switch(t){case"list-loop":n("random");break;case"random":n("single-cycle");break;default:n("list-loop")}}},{"list-loop":b.a.createElement(st.a,{title:"列表循环"}),random:b.a.createElement(rt,{type:"icon-random",title:"随机"}),"single-cycle":b.a.createElement(rt,{type:"icon-Singlecycle",title:"单曲循环"})}[t]))}),mt="volume_3rxth",ft="slider_27i47",dt="icon_3nWE2",pt=f(469),vt=f(489),yt=Object(y.memo)(function(e){var t=e.audio;return b.a.createElement("div",{className:mt+" volume"},b.a.createElement("div",{className:dt,title:"音量"},b.a.createElement(vt.a,null)),b.a.createElement("div",{className:ft},b.a.createElement(pt.a,{defaultValue:100,onChange:function(e){t.volume=e/100},tipFormatter:function(e){return"".concat(e,"%")}})))}),bt=Object(y.memo)(function(e){var t=e.id,n=e.playMode,r=e.playlist,a=e.playingMusic,o=e.setPlaying,i=e.setPlayingMusic,c=e.setPlayMode,u=e.setPlaylist,e=e.audio;return b.a.createElement("div",{className:Pe},b.a.createElement(at,{id:t,playlist:r,playingMusic:a,audio:e,setPlaylist:u,setPlaying:o,setPlayingMusic:i}),b.a.createElement(lt,{playMode:n,setPlayMode:c}),b.a.createElement(yt,{audio:e}))}),gt="progressbar_2Rh8C",ht="track_iVBNJ",wt="handle_2BQ3y",Et="rail_SdkBM",jt="tooltip_3Inmv";function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e){var t=e.currentTime,n=e.duration,r=e.audio,a=(l=St(Object(y.useState)(!1),2))[0],o=l[1],i=Object(y.useRef)(null),c=Object(y.useRef)(null),e=Object(y.useCallback)(function(e){var t;0===e.button&&(window.addEventListener("mousemove",s),window.addEventListener("mouseup",u),o(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,i.current.style.width="".concat(100*t,"%"),c.current.textContent=Object(Z.b)(t*n))},[n]),u=Object(y.useCallback)(function(e){window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",u),o(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;r.currentTime=t*n},[n]),s=Object(y.useCallback)(function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;i.current.style.width="".concat(100*t,"%"),c.current.textContent=Object(Z.b)(t*n)},[n]),l=Object(y.useCallback)(function(){return a?{width:i.current.style.width}:{width:"".concat(t/n*100,"%")}},[t,n]);return b.a.createElement("div",{className:gt},b.a.createElement("div",{className:ht,onMouseDown:e}),b.a.createElement("div",{className:Et,onMouseDown:e,ref:i,style:l()},b.a.createElement("div",{className:wt}),b.a.createElement("div",{className:jt,ref:c,style:{display:a?"block":"none"}},"00:00")))}var kt=Object(y.memo)(function(){var e=Object(y.useContext)(Ct),t=e.isPlaying,n=e.playMode,r=e.playlist,a=e.playingMusic,o=e.playingMusic,i=o.id,c=o.name,u=o.cover,s=o.singers,l=o.duration,m=Object(y.useContext)(Rt),f=Object(Z.b)(m),d=Object(Z.b)(l),p=Tt.setPlaying,v=Tt.setPlayingMusic,e=Tt.setPlayMode,o=Tt.setPlaylist;return b.a.createElement("div",{className:ye},b.a.createElement(pe,{id:i,name:c,cover:u,singers:s,convertedTime:f,convertedDuration:d}),b.a.createElement(ke,{isPlaying:t,playMode:n,playlist:r,playingMusic:a,setPlaying:p,setPlayingMusic:v,audio:_t}),b.a.createElement(bt,{id:i,playMode:n,playlist:r,playingMusic:a,setPlaying:p,setPlayingMusic:v,setPlayMode:e,setPlaylist:o,audio:_t}),b.a.createElement(xt,{currentTime:m,duration:l,audio:_t}))}),Pt=Object(y.memo)(function(e){e=e.TargetComponent;return b.a.createElement("div",{className:n.a.layout},b.a.createElement("div",{className:n.a.top},b.a.createElement(Q,null)),b.a.createElement("div",{className:n.a.middle},b.a.createElement("div",{className:n.a.left},b.a.createElement(ve,null)),b.a.createElement("div",{className:n.a.right},b.a.createElement(y.Suspense,{fallback:b.a.createElement(r.a,null)},b.a.createElement(e,null)))),b.a.createElement("div",{className:n.a.bottom},b.a.createElement(kt,null)))});f(448);function At(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nt={isPlaying:!1,playlist:[{id:479764527,name:"The Ray of Light",singers:[{name:"Vivienne",id:191056}],duration:222.98,cover:"https://p2.music.126.net/izNmlpS7ZO5-tQu6H-jHuw==/18950082904839814.jpg",isFree:!0,albumName:"Increase Beat",albumId:35498685}],playMode:"list-loop",playingMusic:{id:479764527,name:"The Ray of Light",singers:[{name:"Vivienne",id:191056}],duration:222.98,cover:"https://p2.music.126.net/izNmlpS7ZO5-tQu6H-jHuw==/18950082904839814.jpg",isFree:!0,albumName:"Increase Beat",albumId:35498685}},_t=new Audio,Ct=b.a.createContext(),Rt=b.a.createContext(),Tt={};t.d=function(){var e=Object(d.e)().pathname,t=Object(d.d)(),n=It(Object(p.b)(Nt),2),r=n[0],a=n[1],o=It(Object(y.useState)(0),2),n=o[0],i=o[1];Tt.setTime=i,v.default.includes(e)||t.replace(v.default[0]);var c=Object(y.useCallback)(function(){var c,t=(c=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return e.next=3,_t.play();e.next=5;break;case 3:e.next=6;break;case 5:_t.pause();case 6:a({isPlaying:t});case 7:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){At(r,t,n,a,o,"next",e)}function o(e){At(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}(),[]);Tt.setPlaying=c;t=Object(y.useCallback)(function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=e.filter(function(e){return e.isFree});e[0]&&t&&(u(e[0]),c(!0)),a({playlist:e})},[]);Tt.setPlaylist=t;var u=Object(y.useCallback)(function(e){a({playingMusic:e})},[]);Tt.setPlayingMusic=u;t=Object(y.useCallback)(function(e){a({playMode:e})},[]);Tt.setPlayMode=t;var s=Object(y.useCallback)(function(){i(_t.currentTime)},[]),l=Object(y.useCallback)(function(){var e,t,n=r.playlist.length;n<=1||"single-cycle"===r.playMode?_t.play():(e=r.playlist.findIndex(function(e){return e.id===r.playingMusic.id}),("list-loop"===r.playMode||"random"==r.playMode&&(t=Math.random()*n>>0)===e)&&(t=(e+1)%n),u(r.playlist[t]))},[r.playlist,r.playingMusic,r.playMode]),m=Object(y.useCallback)(function(){r.isPlaying&&_t.play()},[r.isPlaying]),t=Object(y.useMemo)(function(){return b.a.lazy(function(){return f(449)("./routes".concat(e))})},[e]);return Object(y.useEffect)(function(){_t.src="https://music.163.com/song/media/outer/url?id=".concat(r.playingMusic.id)},[r.playingMusic.id]),Object(y.useEffect)(function(){_t.onended=l,_t.ontimeupdate=s,_t.oncanplay=m},[l,m]),b.a.createElement(Ct.Provider,{value:r},b.a.createElement(Rt.Provider,{value:n},b.a.createElement(Pt,{TargetComponent:t})))}},231:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o});var t=n(94),t=n(223),t=n(113),t=n(288),t=n(437),t=n(63),t=n(189),t=n(190),t=n(439),t=n(440),t=n(51),t=n(92),t=n(58),t=n(64),r=function(e){if(e.uncollected||e.nolyric)return[];function t(e,t){var n=e.lastIndexOf("]"),r=e.slice(n+1);e.match(/\d{2}\:\d{2}[\.\:]\d{1,3}/g).forEach(function(e){e=function(e){e=e.match(/\d+/g);return 60*e[0]+ +e[1]+e[2]/1e3}(e);t?a[e]=[r,"",e]:void 0!==a[e]&&(a[e][1]=r)})}var n=e.lrc.lyric.split("\n").filter(function(e){return/\d{2}\:\d{2}[\.\:]\d{1,3}/.test(e)}),e=e.tlyric.lyric?e.tlyric.lyric.split("\n").filter(function(e){return/\d{2}\:\d{2}[\.\:]\d{1,3}/.test(e)}):[],a={};return n.forEach(function(e){return t(e,!0)}),e.forEach(function(e){return t(e,!1)}),Object.values(a).sort(function(e,t){return e[2]-t[2]})},a=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,u=[];return 1===t?e.forEach(function(e){var t=e.id,n=e.name,r=e.al,a=r.id,o=r.name,i=r.picUrl,c=e.ar.map(function(e){return{id:e.id,name:e.name}}),r=e.dt/1e3,e=1!==e.fee;u.push({id:t,name:n,singers:c,duration:r,cover:i,isFree:e,albumId:a,albumName:o})}):2===t?e.forEach(function(e){var t=e.id,n=e.name,r=e.album,a=r.id,o=r.name,i=r.picUrl,c=e.artists.map(function(e){return{id:e.id,name:e.name}}),r=e.dt/1e3,e=1!==e.fee;u.push({id:t,name:n,singers:c,duration:r,cover:i,isFree:e,albumId:a,albumName:o})}):3===t&&e.forEach(function(e){var t=e.id,n=e.name,r=e.album,a=r.id,o=r.name,i=r.picUrl,c=e.artists.map(function(e){return{id:e.id,name:e.name}}),r=e.duration/1e3,e=1!==e.fee;u.push({id:t,name:n,singers:c,duration:r,cover:i,isFree:e,albumId:a,albumName:o})}),u},o=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var a=e.playlist,o=a.name,i=a.coverImgUrl,c=a.tags,u=a.description,a={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:e.playlist.creator.avatarUrl,createTime:e.playlist.createTime};return{isSonglist:t,isAlbum:n,isSong:r,title:o,cover:i,creator:a,isCreator:+window.localStorage.getItem("userid")===a.id,labels:c,description:u}}if(n){var s=e.album,l=s.name,m=s.picUrl,f=s.publishTime,s=s.description;return{isSonglist:t,isAlbum:n,isSong:r,title:l,cover:m,singers:e.album.artists.map(function(e){return{id:e.id,name:e.name}}),publishTime:f,description:s}}l=e.songs[0],m=l.name,f=l.al,s=f.id,l=f.name;return{isSonglist:t,isAlbum:n,isSong:r,title:m,cover:f.picUrl,singers:e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}}),albumId:s,albumName:l}}},232:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c});var t=n(129),t=n(38),t=n(66),t=n(60),r=n(31);function u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function a(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){u(r,t,n,a,o,"next",e)}function o(e){u(r,t,n,a,o,"throw",e)}a(void 0)})}}var o=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)("/comment/music?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.length=200<t.length?200:t.length,e.next=3,Object(r.a)("/song/detail?ids=".concat(t.join()));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)("/lyric?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},31:function(e,t,n){"use strict";var r=n(38),r=n(66),r=n(234),r=n(235),r=n(58),r=n(113),r=n(236),r=n(189),r=n(190),r=n(237),r=n(238),r=n(60),r=n(290),a=n.n(r);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function u(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.a=function(){var c,t=(c=regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<r.length&&void 0!==r[1]?r[1]:{},e.next=3,a()(i(i({url:"https://server0309.herokuapp.com"+t},s),n));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){u(r,t,n,a,o,"next",e)}function o(e){u(r,t,n,a,o,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}()},42:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l});t=n(191),t=n(180),t=n(304),t=n(95),t=n(305),t=n(38),t=n(306),t=n(94),t=n(223),t=n(432),t=n(288),t=n(63),t=n(233),t=n(230),t=n(73),t=n(58),t=n(64),t=n(74),t=n(52),t=n(59),t=n(65),t=n(75),t=n(51);function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=window.localStorage.getItem("timestampBefore");return Date.now()>=e?(window.localStorage.removeItem("timestampBefore"),window.localStorage.removeItem("token"),!1):!!window.localStorage.getItem("token")},i=function(e){var t=parseInt(e/60),e=parseInt(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(e.toString().padStart(2,"0"))},c=function(e,t){t=e.match(new RegExp("[?&]".concat(t,"=\\w+")));return t?t[0].split("=")[1]:null},u=function(e){var t=Date.now()-new Date(e),e=new Date(t);return t<=6e4?"刚刚":t<=36e5?"".concat(parseInt(t/6e4),"分钟前"):t<=864e5?"".concat(parseInt(t/36e5),"小时前"):1970<e.getFullYear()?"".concat(e.getFullYear()-1970,"年前"):e.getMonth()?"".concat(e.getMonth(),"个月前"):"".concat(e.getDate()-1,"天前")},s=function(n,r){var a;return function(){var e=arguments,t=this;clearTimeout(a),a=setTimeout(function(){n.call.apply(n,[t].concat(o(e)))},r)}},l=function(e){return e.replace(/http\:/,"https:")}},449:function(e,t,r){var a={"./routes":[88],"./routes/":[88],"./routes/Album":[197,0,3],"./routes/Album/":[197,0,3],"./routes/Album/components/View":[307,0,18],"./routes/Album/components/View.js":[307,0,18],"./routes/Album/components/View.module.scss":[458,26],"./routes/Album/index":[197,0,3],"./routes/Album/index.js":[197,0,3],"./routes/Discovery":[198,2],"./routes/Discovery/":[198,2],"./routes/Discovery/components/Carousel":[183,7],"./routes/Discovery/components/Carousel/":[183,7],"./routes/Discovery/components/Carousel/index":[183,7],"./routes/Discovery/components/Carousel/index.js":[183,7],"./routes/Discovery/components/Carousel/index.module.scss":[451,27],"./routes/Discovery/components/RecentMusicList":[184,8],"./routes/Discovery/components/RecentMusicList/":[184,8],"./routes/Discovery/components/RecentMusicList/index":[184,8],"./routes/Discovery/components/RecentMusicList/index.js":[184,8],"./routes/Discovery/components/RecentMusicList/index.module.scss":[452,28],"./routes/Discovery/components/RecommentSongList":[185,9],"./routes/Discovery/components/RecommentSongList/":[185,9],"./routes/Discovery/components/RecommentSongList/index":[185,9],"./routes/Discovery/components/RecommentSongList/index.js":[185,9],"./routes/Discovery/components/RecommentSongList/index.module.scss":[453,29],"./routes/Discovery/components/View":[308,17],"./routes/Discovery/components/View.js":[308,17],"./routes/Discovery/components/View.module.scss":[459,30],"./routes/Discovery/index":[198,2],"./routes/Discovery/index.js":[198,2],"./routes/MySongList":[192,6],"./routes/MySongList/":[192,6],"./routes/MySongList/components/View":[309,21],"./routes/MySongList/components/View.js":[309,21],"./routes/MySongList/components/View.module.scss":[460,31],"./routes/MySongList/index":[192,6],"./routes/MySongList/index.js":[192,6],"./routes/PersonalFM":[199,0,10],"./routes/PersonalFM/":[199,0,10],"./routes/PersonalFM/index":[199,0,10],"./routes/PersonalFM/index.js":[199,0,10],"./routes/PersonalFM/index.module.scss":[464,32],"./routes/Singer":[200,0,1],"./routes/Singer/":[200,0,1],"./routes/Singer/components/Header":[186,11],"./routes/Singer/components/Header/":[186,11],"./routes/Singer/components/Header/index":[186,11],"./routes/Singer/components/Header/index.js":[186,11],"./routes/Singer/components/Header/index.module.scss":[454,33],"./routes/Singer/components/Introduction":[187,12],"./routes/Singer/components/Introduction/":[187,12],"./routes/Singer/components/Introduction/index":[187,12],"./routes/Singer/components/Introduction/index.js":[187,12],"./routes/Singer/components/Introduction/index.module.scss":[455,34],"./routes/Singer/components/Tabs":[188,13],"./routes/Singer/components/Tabs/":[188,13],"./routes/Singer/components/Tabs/index":[188,13],"./routes/Singer/components/Tabs/index.js":[188,13],"./routes/Singer/components/Tabs/index.module.scss":[456,35],"./routes/Singer/components/View":[310,0,16],"./routes/Singer/components/View.js":[310,0,16],"./routes/Singer/components/View.module.scss":[461,36],"./routes/Singer/index":[200,0,1],"./routes/Singer/index.js":[200,0,1],"./routes/Song":[193,0,5],"./routes/Song/":[193,0,5],"./routes/Song/components/View":[311,0,20],"./routes/Song/components/View.js":[311,0,20],"./routes/Song/components/View.module.scss":[462,37],"./routes/Song/index":[193,0,5],"./routes/Song/index.js":[193,0,5],"./routes/SongList":[194,0,4],"./routes/SongList/":[194,0,4],"./routes/SongList/components/View":[312,0,19],"./routes/SongList/components/View.js":[312,0,19],"./routes/SongList/components/View.module.scss":[463,38],"./routes/SongList/index":[194,0,4],"./routes/SongList/index.js":[194,0,4],"./routes/User":[195,14],"./routes/User/":[195,14],"./routes/User/components/View":[313,22],"./routes/User/components/View.js":[313,22],"./routes/User/index":[195,14],"./routes/User/index.js":[195,14],"./routes/Video":[196,15],"./routes/Video/":[196,15],"./routes/Video/components/View":[314,23],"./routes/Video/components/View.js":[314,23],"./routes/Video/index":[196,15],"./routes/Video/index.js":[196,15],"./routes/index":[88],"./routes/index.js":[88]};function n(t){if(!r.o(a,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],n=e[0];return Promise.all(e.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=function(){return Object.keys(a)},n.id=449,e.exports=n},450:function(e,t,n){"use strict";n.r(t);var t=n(0),r=n.n(t),t=n(25),a=n.n(t),o=n(85),i=n(229);a.a.render(r.a.createElement(function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null))},null),document.getElementById("root"))},88:function(e,t,n){"use strict";n.r(t);t.default=["/Discovery","/SongList","/PersonalFM","/Video","/Song","/Album","/MySongList","/User","/Singer"]},90:function(e,t,n){"use strict";t.a={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}}});