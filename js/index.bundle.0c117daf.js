!function(l){function e(e){for(var t,n,r=e[0],i=e[1],s=e[2],o=0,a=[];o<r.length;o++)n=r[o],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&a.push(c[n][0]),c[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(f&&f(e);a.length;)a.shift()();return d.push.apply(d,s||[]),u()}function u(){for(var e,t=0;t<d.length;t++){for(var n=d[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(r=!1)}r&&(d.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},c={1:0},d=[];function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=l,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),i=0;i<r.length;i++)e(r[i]);var f=t;d.push([316,0,2]),u()}({104:function(e,t,n){"use strict";n.r(t),t.default={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}},105:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=i(n(295)),a=i(n(106)),l=i(n(71)),u=i(n(107)),c=i(n(23));t.default=function(e){if(!(n=e.pageState))return(0,s.jsx)(c.default,{},void 0);var t=n.detail,e=n.songList,n=n.comment;return(0,s.jsxs)("div",r({className:o.default.album},{children:[(0,s.jsx)(a.default,{data:{detail:t,songList:e}},void 0),(0,s.jsx)(l.default,{songList:e},void 0),(0,s.jsx)(u.default,{data:n},void 0)]}),void 0)}},106:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=r(n(497)),c=r(n(498)),d=r(n(499)),f=r(n(500));t.default=function(e){var t=(o=e.data).detail,n=o.songList,r=o.songIds,i=o.lyric,s=t.isPlaylist,e=t.isAlbum,o=t.isSong;return(0,l.jsxs)("div",a({className:u.default.detail},{children:[s&&(0,l.jsx)(c.default,{detailData:t,songList:n,songIds:r},void 0),e&&(0,l.jsx)(d.default,{detailData:t,songList:n},void 0),o&&(0,l.jsx)(f.default,{detailData:t,songData:n[0],lyric:i},void 0)]}),void 0)}},107:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),i=n(0),s=r(n(503)),l=n(15),u=n(14),c=n(13);t.default=(0,i.memo)(function(e){var t=(r=e.data).hotComments,n=r.comments,e=r.total,r=function(e,t){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",o({className:"sub-title"},{children:e}),void 0),t.map(function(e,t){var n=e.beReplied,r=e.content,i=e.user,s=e.time,e=e.likedCount;return(0,a.jsxs)("div",o({className:"comment"},{children:[(0,a.jsx)("div",o({className:"image"},{children:(0,a.jsx)("img",{src:(0,c.replaceHttpToHttps)(i.avatarUrl)+"?param=50y50",loading:"lazy"},void 0)}),void 0),(0,a.jsxs)("div",o({className:"container"},{children:[(0,a.jsxs)("div",o({className:"content"},{children:[(0,a.jsxs)("span",{children:[(0,a.jsxs)(l.Link,o({to:"User?id="+i.userId},{children:[i.nickname,"："]}),void 0),r]},void 0),n[0]&&(0,a.jsx)("div",o({className:"reply"},{children:(0,a.jsxs)("span",{children:[(0,a.jsxs)(l.Link,o({to:"User?id="+n[0].user.userId},{children:[n[0].user.nickname,"："]}),void 0),n[0].content]},void 0)}),void 0)]}),void 0),(0,a.jsxs)("div",o({className:"footer"},{children:[(0,a.jsx)("span",o({className:"date"},{children:(0,c.convertDate)(s)}),void 0),(0,a.jsxs)("span",o({className:"like"},{children:[(0,a.jsx)(u.LikeOutlined,{style:{color:"#1890ff"}},void 0),"(",e,")"]}),void 0)]}),void 0)]}),void 0)]}),t)})]},void 0)};return(0,a.jsxs)("div",o({className:s.default["comment-list"]},{children:[(0,a.jsxs)("div",o({className:"title"},{children:["评论列表",(0,a.jsxs)("span",o({className:"total"},{children:["共 ",e," 条"]}),void 0)]}),void 0),0<t.length&&r("精彩评论",t),0<n.length&&r("最新评论",n)]}),void 0)})},108:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=r(n(297)),a=r(n(23)),l=r(n(50)),u=r(n(51)),c=r(n(52));t.default=function(e){var t=e.pageState,n=e.onPlayAll;if(!t)return(0,s.jsx)(a.default,{},void 0);var r=t.banner,e=t.recommendPlaylist,t=t.recentSong;return(0,s.jsxs)("div",i({className:o.default.discovery},{children:[(0,s.jsx)("div",i({className:"banner"},{children:(0,s.jsx)(l.default,{data:r},void 0)}),void 0),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",i({className:"title"},{children:"推荐歌单"}),void 0),(0,s.jsx)(u.default,{data:e,onPlayAll:n},void 0)]},void 0),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",i({className:"title"},{children:"最新音乐"}),void 0),(0,s.jsx)(c.default,{data:t},void 0)]},void 0)]}),void 0)}},109:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),i=r(n(301)),l=n(15),u=n(14),c=r(n(23)),d=n(13);t.default=function(e){var t=e.pageState,s=e.onDelete;return t?(e=t.create,t=t.subscribe,(0,a.jsxs)("div",o({className:i.default.view},{children:[(0,a.jsx)("div",o({className:"title"},{children:"我创建的歌单"}),void 0),e.map(function(e){var t=e.name,n=e.coverImgUrl,r=e.trackCount,i=e.id;return(0,a.jsxs)(l.Link,o({className:"item",to:"/Playlist?id="+i},{children:[(0,a.jsx)("div",o({className:"image"},{children:(0,a.jsx)("img",{src:(0,d.replaceHttpToHttps)(n)+"?param=100y100",loading:"lazy"},void 0)}),void 0),(0,a.jsxs)("div",o({className:"content"},{children:[(0,a.jsx)("span",{children:t},void 0),(0,a.jsxs)("span",{children:[r,"首"]},void 0)]}),void 0),(0,a.jsx)(u.DeleteOutlined,{className:"delete",onClick:function(e){e.preventDefault(),s(i,1)}},void 0)]}),i)}),(0,a.jsx)("div",o({className:"title"},{children:"我收藏的歌单"}),void 0),t.map(function(e){var t=e.name,n=e.coverImgUrl,r=e.trackCount,i=e.id;return(0,a.jsxs)(l.Link,o({className:"item",to:"/Playlist?id="+i},{children:[(0,a.jsx)("div",o({className:"image"},{children:(0,a.jsx)("img",{src:(0,d.replaceHttpToHttps)(n)+"?param=100y100",loading:"lazy"},void 0)}),void 0),(0,a.jsxs)("div",o({className:"content"},{children:[(0,a.jsx)("span",{children:t},void 0),(0,a.jsxs)("span",{children:[r,"首"]},void 0)]}),void 0),(0,a.jsx)(u.DeleteOutlined,{className:"delete",onClick:function(e){e.preventDefault(),s(i,2)}},void 0)]}),i)})]}),void 0)):(0,a.jsx)(c.default,{},void 0)}},110:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=r(n(303)),a=r(n(106)),l=r(n(71)),u=r(n(107)),c=r(n(23));t.default=function(e){if(!(r=e.pageState))return(0,s.jsx)(c.default,{},void 0);var t=r.detail,n=r.songIds,e=r.comment,r=t.isCreator;return(0,s.jsxs)("div",i({className:o.default.playlist},{children:[(0,s.jsx)(a.default,{data:{detail:t,songIds:n}},void 0),(0,s.jsx)(l.default,{songIds:n,isCreator:r},void 0),(0,s.jsx)(u.default,{data:e},void 0)]}),void 0)}},111:function(e,t,n){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=r(n(304)),l=r(n(305)),u=r(n(296)),c=r(n(23)),d=r(n(71)),f=r(n(53)),v=r(n(54)),h=r(n(55));t.default=function(e){var t=e.pageState,n=e.setPageState,r=t.loading,i=t.data,e=t.currentPage,t=t.total;return(0,o.jsxs)("div",s({className:a.default.view},{children:[(0,o.jsxs)(l.default,s({onChange:function(e){n({type:e,loading:!0,currentPage:1})}},{children:[(0,o.jsx)(l.default.Pane,s({text:"单曲"},{children:r?(0,o.jsx)(c.default,{},void 0):(0,o.jsx)(d.default,{songList:i},void 0)}),"song"),(0,o.jsx)(l.default.Pane,s({text:"专辑"},{children:r?(0,o.jsx)(c.default,{},void 0):(0,o.jsx)(f.default,{data:i},void 0)}),"album"),(0,o.jsx)(l.default.Pane,s({text:"歌手"},{children:r?(0,o.jsx)(c.default,{},void 0):(0,o.jsx)(v.default,{data:i},void 0)}),"singer"),(0,o.jsx)(l.default.Pane,s({text:"歌单"},{children:r?(0,o.jsx)(c.default,{},void 0):(0,o.jsx)(h.default,{data:i},void 0)}),"playlist")]}),void 0),(0,o.jsx)(u.default,{currentPage:e,total:t,pageSize:30,onChange:function(e){n({currentPage:e})}},void 0)]}),void 0)}},112:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=i(n(507)),a=n(15);function l(e){e=e.children;return(0,s.jsx)("div",r({className:o.default["link-image-list"]},{children:e}),void 0)}l.Item=function(e){var t=e.src,n=e.linkTo,e=e.text;return(0,s.jsxs)("div",r({className:"item"},{children:[(0,s.jsx)(a.Link,r({to:n,className:"item-image"},{children:(0,s.jsx)("img",{src:t+"?param=240y240",loading:"lazy"},void 0)}),void 0),(0,s.jsx)(a.Link,r({to:n,className:"item-info"},{children:e}),void 0)]}),void 0)},t.default=l},113:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=i(n(306)),a=i(n(23)),l=i(n(71)),u=i(n(56)),c=i(n(305)),d=i(n(57));t.default=function(e){if(!(n=e.pageState))return(0,s.jsx)(a.default,{},void 0);var t=n.header,e=n.songList,n=n.intro;return(0,s.jsxs)("div",r({className:o.default.singer},{children:[(0,s.jsx)(u.default,{data:t},void 0),(0,s.jsxs)(c.default,{children:[(0,s.jsx)(c.default.Pane,r({text:"热门作品"},{children:(0,s.jsx)(l.default,{songList:e},void 0)}),"0"),(0,s.jsx)(c.default.Pane,r({text:"歌手介绍"},{children:(0,s.jsx)(d.default,{data:n},void 0)}),"1")]},void 0)]}),void 0)}},114:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=r(n(309)),a=r(n(106)),l=r(n(107)),u=r(n(23));t.default=function(e){if(!(r=e.pageState))return(0,s.jsx)(u.default,{},void 0);var t=r.detail,n=r.songList,e=r.lyric,r=r.comment;return(0,s.jsxs)("div",i({className:o.default.song},{children:[(0,s.jsx)(a.default,{data:{detail:t,songList:n,lyric:e}},void 0),(0,s.jsx)(l.default,{data:r},void 0)]}),void 0)}},13:function(e,t,n){"use strict";var o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceHttpToHttps=t.debounce=t.throttle=t.convertDate=t.convertTime=t.hasToken=void 0;t.hasToken=function(){var e=Number(localStorage.getItem("timestampBefore"));if(Date.now()>=e)return localStorage.removeItem("timestampBefore"),localStorage.removeItem("token"),!1;e=localStorage.getItem("token");return Boolean(e)};t.convertTime=function(e){var t=e%60>>0;return(e/60>>0).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")};t.convertDate=function(e){var t=Date.now()-e,e=new Date(t);return t<=6e4?"刚刚":t<=36e5?(t/6e4>>0)+" 分钟前":t<=864e5?(t/36e5>>0)+" 小时前":1970<e.getFullYear()?e.getFullYear()-1970+" 年前":e.getMonth()?e.getMonth()+" 月前":e.getDate()-1+" 天前"};t.throttle=function(n,r){var i=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i&&(i=!1,n.call.apply(n,o([this],e,!1)),setTimeout(function(){i=!0},r))}};t.debounce=function(r,i){var s;return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(s),s=setTimeout(function(){r.call.apply(r,o([e],t,!1))},i)}};t.replaceHttpToHttps=function(e){return e.replace(/http\:/,"https:")}},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useQuery=t.useSetState=t.useInterval=void 0;var r=n(0),i=n(15);t.useInterval=function(e,t){var n=(0,r.useRef)(function(){});(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t);return function(){return clearInterval(e)}}},[t])};t.useSetState=function(e){var t=(0,r.useState)(e=void 0===e?{}:e),e=t[0],n=t[1];return[e,(0,r.useCallback)(function(t){n(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]};t.useQuery=function(e){var t=(0,i.useLocation)().search,e=new RegExp("[?&]"+e+"=([\\w%]+)"),e=t.match(e);return e?e[1]:null}},18:function(e,a,l){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0}),a.FuncContext=a.StateContext=void 0;var d=l(10),f=c(l(0)),v=l(15),h=l(17),p=l(24),m=t(l(32)),y=t(l(48)),g=t(l(458)),j=t(l(492));l(494);var t={id:776039,name:"ONE's hope",singers:[{id:18303,name:"やなぎなぎ"}],duration:369.72,cover:"https://p1.music.126.net/l22TRH7bs4VG6HMT2Iy56w==/2511284557902801.jpg",isFree:!0,albumId:76484,albumName:"Colorful Parade"},x={isPlaying:!1,playlist:[t],playMode:"list-loop",playingItem:u(u({},t),{lyric:null})};a.StateContext=f.default.createContext(null),a.FuncContext=f.default.createContext(null),a.default=function(){var e=(0,v.useLocation)().pathname,t=(0,v.useHistory)(),n=(0,h.useSetState)(x),i=n[0],r=n[1],s=(0,f.useRef)(null);y.default.includes(e)||t.replace("/Discovery");var t=(0,f.useMemo)(function(){return f.default.lazy(function(){return Promise.resolve().then(function(){return c(l(495)("./routes"+e))})})},[e]),o=(0,f.useMemo)(function(){return{getSong:function(e,t){var n=t.playlist,r=t.playingItem,t=t.playMode,i=n.length;if(i<=1||"single-cycle"===t)return r;var s,o=n.findIndex(function(e){return e.id===r.id});switch(t){case"list-loop":s="next"===e?(o+1)%i:(i+o-1)%i;break;case"random":(s=Math.random()*i>>0)===o&&(s=(o+1)%i)}return n[s]},playSong:function(e,t){var n=e.id;r({isPlaying:!0,playingItem:u(u({},e),{lyric:null})}),(0,m.default)().play(n,t).then(function(e){e?(s.current.play(),r({playingItem:(0,m.default)().getPlayingItem()})):p.message.error("加载歌曲失败，id:"+n)})},collectSong:function(e){p.Modal.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:(0,d.jsx)(j.default,{id:e},void 0)})},pauseSong:function(){s.current.pause(),(0,m.default)().pause(),r({isPlaying:!1})},setPlaylist:function(e){r({playlist:e})},setPlayMode:function(e){r({playMode:e})}}},[]);return(0,f.useEffect)(function(){var e,t,n,r;navigator.mediaSession&&MediaMetadata&&i.playingItem&&(e=(r=i.playingItem).name,t=r.singers,n=r.cover,r=r.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[i]),(0,f.useEffect)(function(){navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){var e=i.playingItem;o.playSong(e)}),navigator.mediaSession.setActionHandler("pause",function(){o.pauseSong()}),navigator.mediaSession.setActionHandler("previoustrack",function(){var e=o.getSong("prev",i);o.playSong(e)}),navigator.mediaSession.setActionHandler("nexttrack",function(){var e=o.getSong("next",i);o.playSong(e)}))},[i]),(0,f.useEffect)(function(){(0,m.default)().setOnEnded(function(){var e=o.getSong;(0,o.playSong)(e("next",i))})},[i]),(0,d.jsx)(a.FuncContext.Provider,u({value:o},{children:(0,d.jsxs)(a.StateContext.Provider,u({value:i},{children:[(0,d.jsx)(g.default,{TargetComponent:t},void 0),(0,d.jsx)("audio",{ref:s,src:"./silence.mp3",loop:!0},void 0)]}),void 0)}),void 0)}},23:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);n(459);var s=new Array(16).fill(0);t.default=function(){return(0,i.jsxs)("div",r({className:"loading-container"},{children:[(0,i.jsx)("div",r({className:"loader"},{children:s.map(function(e,t){return(0,i.jsx)("div",{className:"square"},t)})}),void 0),(0,i.jsx)("div",r({className:"loading-text"},{children:"加载中"}),void 0)]}),void 0)}},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDetail=t.resolveSongs=t.resolveLyric=void 0;var d=n(13);t.resolveLyric=function(e){var t=e.uncollected,n=e.nolyric,r=e.lrc,e=e.tlyric;if(t||n)return[];function i(e,r){var t=e.lastIndexOf("]"),i=e.slice(t+1);e.match(/\d+\:\d+[\.\:]\d+/g).forEach(function(e){var t,n,n=(n=(t=e).match(/\d+/g),e=n[0],t=n[1],n=n[2],60*Number(e)+Number(t)+.001*Number(n));r?s[n]=[i,"",n]:s[n]&&(s[n][1]=i)})}var r=r.lyric.split("\n").filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}),e=(null===(e=null===(e=null==e?void 0:e.lyric)||void 0===e?void 0:e.split("\n"))||void 0===e?void 0:e.filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}))||[],s={};return r.forEach(function(e){return i(e,!0)}),e.forEach(function(e){return i(e,!1)}),Object.values(s).sort(function(e,t){return e[2]-t[2]})};t.resolveSongs=function(e,o){return e.map(function(e){var t=e.id,n=e.name,r=["topSong","fm","search"].includes(o)?e.album:e.al,i="detail"===o?e.ar:e.artists,s=["simiSong","fm","search"].includes(o)?e.duration:e.dt;return{id:t,name:n,isFree:1!==e.fee,duration:.001*s,singers:i.map(function(e){return{id:e.id,name:e.name}}),albumId:r.id,albumName:r.name,cover:(0,d.replaceHttpToHttps)(r.picUrl||"")}})};t.resolveDetail=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var i=e.playlist,s=i.name,o=i.tags,a=i.description,l=i.createTime,i=(0,d.replaceHttpToHttps)(e.playlist.coverImgUrl),l={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:(0,d.replaceHttpToHttps)(e.playlist.creator.avatarUrl),createTime:l};return{isPlaylist:t,isAlbum:n,isSong:r,title:s,cover:i,creator:l,isCreator:Number(localStorage.getItem("userid"))===l.id,tags:o,description:a}}if(n){var u=e.album,s=u.name,c=u.publishTime,a=u.description,u=e.album.artists.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:s,cover:i=(0,d.replaceHttpToHttps)(e.album.picUrl),singers:u,publishTime:c,description:a}}c=e.songs[0],s=c.name,a=c.al,c=a.id,a=a.name,u=e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:s,cover:i=(0,d.replaceHttpToHttps)(e.songs[0].al.picUrl),singers:u,albumId:c,albumName:a}}},28:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},s=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(269)),l={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.default=function(t,n){return void 0===n&&(n={}),i(void 0,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,(0,a.default)(r(r({url:"https://server0309.herokuapp.com"+t},l),n))];case 1:return[2,e.sent().data]}})})}},292:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.phoneLogin=t.emailLogin=void 0;var i=r(n(28)),s=r(n(462));t.emailLogin=function(e,t){return(0,i.default)("/login?email="+e+"&md5_password="+(0,s.default)(t),{method:"POST"})};t.phoneLogin=function(e,t){return(0,i.default)("/login/cellphone?phone="+e+"&md5_password="+(0,s.default)(t),{method:"POST"})};t.logout=function(){return(0,i.default)("/logout")}},294:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.searchSuggest=void 0;var i=r(n(28));t.searchSuggest=function(e){return(0,i.default)("/search/suggest?keywords="+e)};t.search=function(e,t,n){return(0,i.default)("/search?keywords="+e+"&type="+t+"&offset="+n)}},295:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},296:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=r(n(502)),c=r(n(104));t.default=function(e){var t=e.currentPage,n=e.total,r=e.pageSize,i=e.onChange,s=Math.ceil(n/r);return s<=1?null:(0,l.jsxs)("div",a({className:u.default.pagination},{children:[(0,l.jsx)("div",a({className:"page-btn",onClick:function(){return o("prev")}},{children:"<"}),void 0),(0,l.jsx)("div",a({className:"page"},{children:t}),void 0),(0,l.jsx)("div",a({className:"page-btn",onClick:function(){return o("next")}},{children:">"}),void 0)]}),void 0);function o(e){"prev"===e&&1<t?(document.getElementsByClassName(c.default.right)[0].scrollTop=0,i(t-1)):"next"===e&&t<s&&(document.getElementsByClassName(c.default.right)[0].scrollTop=0,i(t+1))}}},297:function(e,t,n){"use strict";n.r(t),t.default={discovery:"discovery_3WDUG"}},298:function(e,t,n){"use strict";n.r(t),t.default={carousel:"carousel_zTOnU"}},299:function(e,t,n){"use strict";n.r(t),t.default={"recommend-playlist":"recommend-playlist_oeGbV"}},300:function(e,t,n){"use strict";n.r(t),t.default={"recent-songlist":"recent-songlist_1kSQW"}},301:function(e,t,n){"use strict";n.r(t),t.default={view:"view_RhBwb"}},302:function(e,t,n){"use strict";n.r(t),t.default={"personal-fm":"personal-fm_27kHT"}},303:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_1gevM"}},304:function(e,t,n){"use strict";n.r(t),t.default={view:"view_ulEkr"}},305:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=s(n(0)),c=a(n(506));function d(e){var n=e.children,r=e.onChange,t=(0,u.useMemo)(function(){var t=[];return u.default.Children.forEach(n,function(e){u.default.isValidElement(e)&&t.push({key:e.key,text:e.props.text,element:e})}),t},[n]),e=(0,u.useState)(t[0].key),i=e[0],s=e[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",o({className:c.default.tabs},{children:t.map(function(e){var t=e.key,e=e.text;return(0,l.jsx)("div",o({className:i===t?c.default["tab-active"]:c.default.tab,onClick:function(){s(t),r&&r(t)}},{children:e}),t)})}),void 0),t.filter(function(e){return e.key===i})[0].element]},void 0)}d.Pane=function(e){return e.children},t.default=d},306:function(e,t,n){"use strict";n.r(t),t.default={singer:"singer_C4mAo"}},307:function(e,t,n){"use strict";n.r(t),t.default={title:"title_-x2Xp",image:"image_vfSBc"}},308:function(e,t,n){"use strict";n.r(t),t.default={intro:"intro_3cW6L"}},309:function(e,t,n){"use strict";n.r(t),t.default={song:"song_3h_lc"}},316:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),t=r(n(11)),n=r(n(322));t.default.render((0,i.jsx)(n.default,{},void 0),document.getElementById("root"))},32:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},u=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,l=r(n(28)),c=r(n(269)),d=r(n(94)),f=n(47),v=n(26),h=n(13),o=r(n(430)),p=(m.prototype.drawCanvas=function(){this.reqId=requestAnimationFrame(this.drawCanvas);var e=this.canvasContext,t=this.playingItem;if(t){var n=(0,o.default)(t.abuffer);e.clearRect(0,0,900,310);for(var r=900/n.length,i=0;i<n.length;++i){var s=310*n[i];e.fillRect(i*r,310-s,r,s)}}},m.prototype.getMusic=function(o){var n=this;return new Promise(function(i,e){var t,s=n.audioContext;n.rejectFn=e,o!==(null===(e=null===(e=n.playingItem)||void 0===e?void 0:e.info)||void 0===e?void 0:e.id)?(t=(0,d.default)().get(o))?s.decodeAudioData(t.buffer.slice(0)).then(function(e){i(a(a({},t),{abuffer:e}))}):(0,l.default)("/getMusicUrl?id="+o).then(function(e){var t;e.error||null!==(t=e.url)&&void 0!==t&&t.includes("music.163.com/404")?i(null):(e=e.url,e=(0,c.default)({url:(0,h.replaceHttpToHttps)(e),responseType:"arraybuffer"}).then(function(e){return e.data}).catch(function(e){return null}),Promise.all([e,(0,f.songDetail)([o]),(0,f.getLyric)(o)]).then(function(e){var t=e[0],n=e[1],e=e[2];if(null===t)return console.log("get music fail, id:",o),void i(null);var n=(0,v.resolveSongs)(n.songs,"detail")[0],e=(0,v.resolveLyric)(e),r={buffer:t,info:a(a({},n),{lyric:e})};(0,d.default)().save(o,r),s.decodeAudioData(t.slice(0)).then(function(e){r.info.duration=e.duration,i(a(a({},r),{abuffer:e}))})}))}):i(n.playingItem)})},m.prototype.restart=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.audioContext.resume()];case 1:return e.sent(),[2,!0]}})})},m.prototype.play=function(a,l){return s(this,void 0,void 0,function(){var t,n,r,i,s,o=this;return u(this,function(e){switch(e.label){case 0:return(s=(t=this).currentSource,n=t.audioContext,r=t.gainNode,i=t.playingItem,(0,t.rejectFn)(),"suspended"===n.state&&(this.restart(),i&&i.info.id===a&&void 0===l))?[2,!0]:(this.startTime=!1,s&&(s.onended=null,s.stop(0),s.disconnect()),[4,this.getMusic(a).catch(function(e){return null})]);case 1:return(i=e.sent())?((s=n.createBufferSource()).buffer=i.abuffer,s.connect(r),this.currentSource=s,this.startTime=n.currentTime-(l||0),s.start(n.currentTime,l||0),this.playingItem=i,s.onended=function(){o.startTime=!1,o.onEnded&&o.onEnded()},[2,!0]):[2,!1]}})})},m.prototype.pause=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this.audioContext.suspend()];case 1:return e.sent(),[2,!0]}})})},m.prototype.setVolume=function(e){this.gainNode.gain.value=e},m.prototype.drawStart=function(){cancelAnimationFrame(this.reqId),this.reqId=requestAnimationFrame(this.drawCanvas)},m.prototype.drawStop=function(){this.canvasContext.clearRect(0,0,900,310),cancelAnimationFrame(this.reqId)},m.prototype.setCanvasContext=function(e){e.fillStyle="#6dccff",this.canvasContext=e},m.prototype.download=function(r,i){return s(this,void 0,void 0,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return[4,this.getMusic(r)];case 1:return(t=e.sent())?(n=new Blob([t.buffer]),t=URL.createObjectURL(n),(n=document.createElement("a")).href=t,n.download=i+".mp3",n.click(),URL.revokeObjectURL(t),[2,!0]):[2,!1]}})})},m.prototype.setOnEnded=function(e){this.onEnded=e},m.prototype.getCurrentTime=function(){var e=this.audioContext,t=this.startTime;return!1!==t?e.currentTime-t:0},m.prototype.getPlayingItem=function(){return this.playingItem.info},m);function m(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.canvasContext=null,this.currentSource=null,this.onEnded=null,this.startTime=!1,this.playingItem=null,this.rejectFn=function(){},this.drawCanvas=this.drawCanvas.bind(this),console.info("musicInstance",this)}t.default=function(){return i=i||new p}},322:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=n(15),o=r(n(18));n(509),t.default=function(){return(0,i.jsx)(s.HashRouter,{children:(0,i.jsx)(o.default,{},void 0)},void 0)}},395:function(e,t,n){var r={"./af":127,"./af.js":127,"./ar":128,"./ar-dz":129,"./ar-dz.js":129,"./ar-kw":130,"./ar-kw.js":130,"./ar-ly":131,"./ar-ly.js":131,"./ar-ma":132,"./ar-ma.js":132,"./ar-sa":133,"./ar-sa.js":133,"./ar-tn":134,"./ar-tn.js":134,"./ar.js":128,"./az":135,"./az.js":135,"./be":136,"./be.js":136,"./bg":137,"./bg.js":137,"./bm":138,"./bm.js":138,"./bn":139,"./bn-bd":140,"./bn-bd.js":140,"./bn.js":139,"./bo":141,"./bo.js":141,"./br":142,"./br.js":142,"./bs":143,"./bs.js":143,"./ca":144,"./ca.js":144,"./cs":145,"./cs.js":145,"./cv":146,"./cv.js":146,"./cy":147,"./cy.js":147,"./da":148,"./da.js":148,"./de":149,"./de-at":150,"./de-at.js":150,"./de-ch":151,"./de-ch.js":151,"./de.js":149,"./dv":152,"./dv.js":152,"./el":153,"./el.js":153,"./en-au":154,"./en-au.js":154,"./en-ca":155,"./en-ca.js":155,"./en-gb":156,"./en-gb.js":156,"./en-ie":157,"./en-ie.js":157,"./en-il":158,"./en-il.js":158,"./en-in":159,"./en-in.js":159,"./en-nz":160,"./en-nz.js":160,"./en-sg":161,"./en-sg.js":161,"./eo":162,"./eo.js":162,"./es":163,"./es-do":164,"./es-do.js":164,"./es-mx":165,"./es-mx.js":165,"./es-us":166,"./es-us.js":166,"./es.js":163,"./et":167,"./et.js":167,"./eu":168,"./eu.js":168,"./fa":169,"./fa.js":169,"./fi":170,"./fi.js":170,"./fil":171,"./fil.js":171,"./fo":172,"./fo.js":172,"./fr":173,"./fr-ca":174,"./fr-ca.js":174,"./fr-ch":175,"./fr-ch.js":175,"./fr.js":173,"./fy":176,"./fy.js":176,"./ga":177,"./ga.js":177,"./gd":178,"./gd.js":178,"./gl":179,"./gl.js":179,"./gom-deva":180,"./gom-deva.js":180,"./gom-latn":181,"./gom-latn.js":181,"./gu":182,"./gu.js":182,"./he":183,"./he.js":183,"./hi":184,"./hi.js":184,"./hr":185,"./hr.js":185,"./hu":186,"./hu.js":186,"./hy-am":187,"./hy-am.js":187,"./id":188,"./id.js":188,"./is":189,"./is.js":189,"./it":190,"./it-ch":191,"./it-ch.js":191,"./it.js":190,"./ja":192,"./ja.js":192,"./jv":193,"./jv.js":193,"./ka":194,"./ka.js":194,"./kk":195,"./kk.js":195,"./km":196,"./km.js":196,"./kn":197,"./kn.js":197,"./ko":198,"./ko.js":198,"./ku":199,"./ku.js":199,"./ky":200,"./ky.js":200,"./lb":201,"./lb.js":201,"./lo":202,"./lo.js":202,"./lt":203,"./lt.js":203,"./lv":204,"./lv.js":204,"./me":205,"./me.js":205,"./mi":206,"./mi.js":206,"./mk":207,"./mk.js":207,"./ml":208,"./ml.js":208,"./mn":209,"./mn.js":209,"./mr":210,"./mr.js":210,"./ms":211,"./ms-my":212,"./ms-my.js":212,"./ms.js":211,"./mt":213,"./mt.js":213,"./my":214,"./my.js":214,"./nb":215,"./nb.js":215,"./ne":216,"./ne.js":216,"./nl":217,"./nl-be":218,"./nl-be.js":218,"./nl.js":217,"./nn":219,"./nn.js":219,"./oc-lnc":220,"./oc-lnc.js":220,"./pa-in":221,"./pa-in.js":221,"./pl":222,"./pl.js":222,"./pt":223,"./pt-br":224,"./pt-br.js":224,"./pt.js":223,"./ro":225,"./ro.js":225,"./ru":226,"./ru.js":226,"./sd":227,"./sd.js":227,"./se":228,"./se.js":228,"./si":229,"./si.js":229,"./sk":230,"./sk.js":230,"./sl":231,"./sl.js":231,"./sq":232,"./sq.js":232,"./sr":233,"./sr-cyrl":234,"./sr-cyrl.js":234,"./sr.js":233,"./ss":235,"./ss.js":235,"./sv":236,"./sv.js":236,"./sw":237,"./sw.js":237,"./ta":238,"./ta.js":238,"./te":239,"./te.js":239,"./tet":240,"./tet.js":240,"./tg":241,"./tg.js":241,"./th":242,"./th.js":242,"./tk":243,"./tk.js":243,"./tl-ph":244,"./tl-ph.js":244,"./tlh":245,"./tlh.js":245,"./tr":246,"./tr.js":246,"./tzl":247,"./tzl.js":247,"./tzm":248,"./tzm-latn":249,"./tzm-latn.js":249,"./tzm.js":248,"./ug-cn":250,"./ug-cn.js":250,"./uk":251,"./uk.js":251,"./ur":252,"./ur.js":252,"./uz":253,"./uz-latn":254,"./uz-latn.js":254,"./uz.js":253,"./vi":255,"./vi.js":255,"./x-pseudo":256,"./x-pseudo.js":256,"./yo":257,"./yo.js":257,"./zh-cn":258,"./zh-cn.js":258,"./zh-hk":259,"./zh-hk.js":259,"./zh-mo":260,"./zh-mo.js":260,"./zh-tw":261,"./zh-tw.js":261};function i(e){e=s(e);return n(e)}function s(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=s,(e.exports=i).id=395},430:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(431)),a=r(n(32)),l=512,u=l/2+1,c=new Array(u).fill(0),d=function(e){return.54-.46*Math.cos(6.283185307179586*e/(l-1))},f=function(e){var t=new o.default(l),n=t.createComplexArray();t.realTransform(n,e);for(var r=0;r<u;++r){var i=n[2*r],s=n[2*r+1],s=Math.pow(Math.pow(i,2)+Math.pow(s,2),.5),s=20*Math.log10(s);isFinite(s)?s<c[r]?c[r]=.08*s+.92*c[r]:c[r]=.8*s+c[r]*(1-.8):c[r]=0}};t.default=function(e){for(var t=e.getChannelData(0),e=(0,a.default)().getCurrentTime()/e.duration*t.length>>0,n=t.slice(e,e+l),r=l-n.length,i=0;i<r;++i)n[n.length]=0;for(i=0;i<l;++i){var s=d(i);n[i]*=s}return f(n),c.map(function(e){return e?.0125*(e+20):0})}},431:function(e,t,n){"use strict";n.r(t);n(432);var r,i,s=(r=[function(e,t,n){function r(e){if(this.size=0|e,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(2*this.size),n=0;n<t.length;n+=2){var r=Math.PI*n/this.size;t[n]=Math.cos(r),t[n+1]=-Math.sin(r)}this.table=t;for(var i=0,s=1;this.size>s;s<<=1)i++;this._width=i%2==0?i-1:i,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++)for(var a=this._bitrev[o]=0;a<this._width;a+=2){var l=this._width-a-2;this._bitrev[o]|=(o>>>a&3)<<l}this._out=null,this._data=null,this._inv=0}(e.exports=r).prototype.fromComplexArray=function(e,t){for(var n=t||new Array(e.length>>>1),r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n},r.prototype.createComplexArray=function(){for(var e=new Array(this._csize),t=0;t<e.length;t++)e[t]=0;return e},r.prototype.toComplexArray=function(e,t){for(var n=t||this.createComplexArray(),r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n},r.prototype.completeSpectrum=function(e){for(var t=this._csize,n=t>>>1,r=2;r<n;r+=2)e[t-r]=e[r],e[t-r+1]=-e[r+1]},r.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,i=n/r<<1,s=this._bitrev;if(4===i)for(e=d=0;d<n;d+=i,e++){var o=s[e];this._singleTransform2(d,o,r)}else for(e=d=0;d<n;d+=i,e++){var a=s[e];this._singleTransform4(d,a,r)}var l=this._inv?-1:1,u=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(i=n/r<<1)>>>2,d=0;d<n;d+=i)for(var f=d+c,v=d,h=0;v<f;v+=2,h+=r){var p=v,m=p+c,y=m+c,g=y+c,j=t[p],x=t[p+1],b=t[m],_=t[m+1],w=t[y],S=t[y+1],O=t[g],k=t[g+1],P=u[h],N=l*u[h+1],M=b*P-_*N,b=b*N+_*P,N=u[2*h],_=l*u[2*h+1],P=w*N-S*_,w=w*_+S*N,_=u[3*h],S=l*u[3*h+1],N=O*_-k*S,O=O*S+k*_,S=j+P,k=x+w,_=j-P,j=x-w,P=M+N,x=b+O,w=l*(M-N),M=l*(b-O),N=k+x,b=S-P,O=k-x,k=_+M,x=j-w,M=_-M,w=j+w;t[p]=S+P,t[p+1]=N,t[m]=k,t[m+1]=x,t[y]=b,t[y+1]=O,t[g]=M,t[g+1]=w}},r.prototype._singleTransform2=function(e,t,n){var r=this._out,i=this._data,s=i[t],o=i[t+1],a=i[t+n],i=i[t+n+1],t=o+i,n=s-a,i=o-i;r[e]=s+a,r[e+1]=t,r[e+2]=n,r[e+3]=i},r.prototype._singleTransform4=function(e,t,n){var r=this._out,i=this._data,s=this._inv?-1:1,o=2*n,a=3*n,l=i[t],u=i[t+1],c=i[t+n],d=i[t+n+1],f=i[t+o],v=i[t+o+1],n=i[t+a],o=i[t+a+1],i=l+f,t=u+v,a=l-f,l=u-v,f=c+n,u=d+o,v=s*(c-n),c=s*(d-o),n=t+u,s=a+c,d=l-v,o=i-f,u=t-u,c=a-c,v=l+v;r[e]=i+f,r[e+1]=n,r[e+2]=s,r[e+3]=d,r[e+4]=o,r[e+5]=u,r[e+6]=c,r[e+7]=v},r.prototype._realTransform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,i=n/r<<1,s=this._bitrev;if(4===i)for(e=v=0;v<n;v+=i,e++){var o=s[e];this._singleRealTransform2(v,o>>>1,r>>>1)}else for(e=v=0;v<n;v+=i,e++){var a=s[e];this._singleRealTransform4(v,a>>>1,r>>>1)}var l=this._inv?-1:1,u=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(i=n/r<<1)>>>1,d=c>>>1,f=d>>>1,v=0;v<n;v+=i)for(var h=0,p=0;h<=f;h+=2,p+=r){var m=v+h,y=m+d,g=y+d,j=g+d,x=t[m],b=t[m+1],_=t[y],w=t[y+1],S=t[g],O=t[g+1],k=t[j],P=t[j+1],N=u[p],M=l*u[p+1],j=_*N-w*M,_=_*M+w*N,M=u[2*p],w=l*u[2*p+1],N=S*M-O*w,S=S*w+O*M,w=u[3*p],O=l*u[3*p+1],M=k*w-P*O,k=k*O+P*w,O=x+N,P=b+S,w=x-N,x=b-S,N=j+M,b=_+k,S=l*(j-M),j=l*(_-k),M=P+b,_=w+j,k=x-S;t[m]=O+N,t[m+1]=M,t[y]=_,t[y+1]=k,0!==h?h!==f&&(_=-x+-l*S,y=O+-l*N,k=-P- -l*b,x=v+c-h,t[S=v+d-h]=w+-l*j,t[1+S]=_,t[x]=y,t[1+x]=k):(b=P-b,t[g]=O-N,t[g+1]=b)}},r.prototype._singleRealTransform2=function(e,t,n){var r=this._out,i=this._data,s=i[t],t=i[t+n],n=s-t;r[e]=s+t,r[e+1]=0,r[e+2]=n,r[e+3]=0},r.prototype._singleRealTransform4=function(e,t,n){var r=this._out,i=this._data,s=this._inv?-1:1,o=i[t],a=i[t+n],l=i[t+2*n],i=i[t+3*n],t=o+l,n=o-l,o=a+i,l=s*(a-i),s=n,a=-l,i=t-o,n=n,l=l;r[e]=t+o,r[e+1]=0,r[e+2]=s,r[e+3]=a,r[e+4]=i,r[e+5]=0,r[e+6]=n,r[e+7]=l}}],i={},o.m=r,o.c=i,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0));function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}t.default=s},458:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=n(0),a=i(n(104)),l=i(n(23)),u=i(n(460)),c=i(n(473)),d=i(n(475));t.default=(0,o.memo)(function(e){return e=e.TargetComponent,(0,s.jsxs)("div",r({className:a.default.layout},{children:[(0,s.jsx)("div",r({className:a.default.top},{children:(0,s.jsx)(u.default,{},void 0)}),void 0),(0,s.jsxs)("div",r({className:a.default.middle},{children:[(0,s.jsx)("div",r({className:a.default.left},{children:(0,s.jsx)(c.default,{},void 0)}),void 0),(0,s.jsx)("div",r({className:a.default.right},{children:(0,s.jsx)(o.Suspense,r({fallback:(0,s.jsx)(l.default,{},void 0)},{children:(0,s.jsx)(e,{},void 0)}),void 0)}),void 0)]}),void 0),(0,s.jsx)("div",r({className:a.default.bottom},{children:(0,s.jsx)(d.default,{},void 0)}),void 0)]}),void 0)})},459:function(e,t,n){"use strict";n.r(t)},460:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},l=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(0),d=r(n(461)),f=n(24),v=n(14),h=n(13),p=n(292),m=r(n(471)),y=r(n(472));t.default=(0,c.memo)(function(){var e=this,t=(0,c.useState)({name:null,avatar:null}),n=t[0],r=t[1],i=(t=(0,c.useState)(!1))[0],s=t[1];return(0,c.useEffect)(function(){var e,t;(0,h.hasToken)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&r({name:e,avatar:t}))},[]),t=function(){null===n.name&&s(!i)},(0,u.jsxs)("div",o({className:d.default.header},{children:[(0,u.jsx)(f.Avatar,{onClick:t,size:40,icon:(0,u.jsx)(v.UserOutlined,{},void 0),src:n.avatar?n.avatar+"?param=80y80":null},void 0),(0,u.jsx)("div",o({className:"username"},{children:n.name||"未登录"}),void 0),n.name&&(0,u.jsx)("div",o({className:"logout",onClick:function(){return a(e,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,(0,p.logout)()];case 1:return 200===e.sent().code&&(window.localStorage.clear(),r({name:null,avatar:null})),[2]}})})}},{children:"退出登录"}),void 0),(0,u.jsx)(y.default,{},void 0),i&&(0,u.jsx)(m.default,{onCancel:t,setUserInfo:r},void 0)]}),void 0)})},461:function(e,t,n){"use strict";n.r(t),t.default={header:"header_2ZE5y"}},462:function(e,t,n){"use strict";n.r(t);n(463);function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,i,s){return d((s=d(d(t,e),d(r,s)))<<i|s>>>32-i,n)}function f(e,t,n,r,i,s,o){return a(t&n|~t&r,e,t,i,s,o)}function v(e,t,n,r,i,s,o){return a(t&r|n&~r,e,t,i,s,o)}function h(e,t,n,r,i,s,o){return a(t^n^r,e,t,i,s,o)}function p(e,t,n,r,i,s,o){return a(n^(t|~r),e,t,i,s,o)}function o(e,t){var n,r,i,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,a=-271733879,l=-1732584194,u=271733878,c=0;c<e.length;c+=16)o=f(n=o,r=a,i=l,s=u,e[c],7,-680876936),u=f(u,o,a,l,e[c+1],12,-389564586),l=f(l,u,o,a,e[c+2],17,606105819),a=f(a,l,u,o,e[c+3],22,-1044525330),o=f(o,a,l,u,e[c+4],7,-176418897),u=f(u,o,a,l,e[c+5],12,1200080426),l=f(l,u,o,a,e[c+6],17,-1473231341),a=f(a,l,u,o,e[c+7],22,-45705983),o=f(o,a,l,u,e[c+8],7,1770035416),u=f(u,o,a,l,e[c+9],12,-1958414417),l=f(l,u,o,a,e[c+10],17,-42063),a=f(a,l,u,o,e[c+11],22,-1990404162),o=f(o,a,l,u,e[c+12],7,1804603682),u=f(u,o,a,l,e[c+13],12,-40341101),l=f(l,u,o,a,e[c+14],17,-1502002290),o=v(o,a=f(a,l,u,o,e[c+15],22,1236535329),l,u,e[c+1],5,-165796510),u=v(u,o,a,l,e[c+6],9,-1069501632),l=v(l,u,o,a,e[c+11],14,643717713),a=v(a,l,u,o,e[c],20,-373897302),o=v(o,a,l,u,e[c+5],5,-701558691),u=v(u,o,a,l,e[c+10],9,38016083),l=v(l,u,o,a,e[c+15],14,-660478335),a=v(a,l,u,o,e[c+4],20,-405537848),o=v(o,a,l,u,e[c+9],5,568446438),u=v(u,o,a,l,e[c+14],9,-1019803690),l=v(l,u,o,a,e[c+3],14,-187363961),a=v(a,l,u,o,e[c+8],20,1163531501),o=v(o,a,l,u,e[c+13],5,-1444681467),u=v(u,o,a,l,e[c+2],9,-51403784),l=v(l,u,o,a,e[c+7],14,1735328473),o=h(o,a=v(a,l,u,o,e[c+12],20,-1926607734),l,u,e[c+5],4,-378558),u=h(u,o,a,l,e[c+8],11,-2022574463),l=h(l,u,o,a,e[c+11],16,1839030562),a=h(a,l,u,o,e[c+14],23,-35309556),o=h(o,a,l,u,e[c+1],4,-1530992060),u=h(u,o,a,l,e[c+4],11,1272893353),l=h(l,u,o,a,e[c+7],16,-155497632),a=h(a,l,u,o,e[c+10],23,-1094730640),o=h(o,a,l,u,e[c+13],4,681279174),u=h(u,o,a,l,e[c],11,-358537222),l=h(l,u,o,a,e[c+3],16,-722521979),a=h(a,l,u,o,e[c+6],23,76029189),o=h(o,a,l,u,e[c+9],4,-640364487),u=h(u,o,a,l,e[c+12],11,-421815835),l=h(l,u,o,a,e[c+15],16,530742520),o=p(o,a=h(a,l,u,o,e[c+2],23,-995338651),l,u,e[c],6,-198630844),u=p(u,o,a,l,e[c+7],10,1126891415),l=p(l,u,o,a,e[c+14],15,-1416354905),a=p(a,l,u,o,e[c+5],21,-57434055),o=p(o,a,l,u,e[c+12],6,1700485571),u=p(u,o,a,l,e[c+3],10,-1894986606),l=p(l,u,o,a,e[c+10],15,-1051523),a=p(a,l,u,o,e[c+1],21,-2054922799),o=p(o,a,l,u,e[c+8],6,1873313359),u=p(u,o,a,l,e[c+15],10,-30611744),l=p(l,u,o,a,e[c+6],15,-1560198380),a=p(a,l,u,o,e[c+13],21,1309151649),o=p(o,a,l,u,e[c+4],6,-145523070),u=p(u,o,a,l,e[c+11],10,-1120210379),l=p(l,u,o,a,e[c+2],15,718787259),a=p(a,l,u,o,e[c+9],21,-343485551),o=d(o,n),a=d(a,r),l=d(l,i),u=d(u,s);return[o,a,l,u]}function l(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function u(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function r(e){for(var t,n="0123456789abcdef",r="",i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function i(e){return unescape(encodeURIComponent(e))}function s(e){return l(o(u(e=i(e)),8*e.length))}function c(e,t){return function(e,t){var n,r=u(e),i=[],s=[];for(i[15]=s[15]=void 0,16<r.length&&(r=o(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],s[n]=1549556828^r[n];return t=o(i.concat(u(t)),512+8*t.length),l(o(s.concat(t),640))}(i(e),i(t))}t.default=function(e,t,n){return t?n?c(t,e):r(c(t,e)):n?s(e):r(s(e))}},47:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},i=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLyric=t.songDetail=t.songComment=void 0;var o=s(n(28));t.songComment=function(e){return(0,o.default)("/comment/music?id="+e)};t.songDetail=function(e){return(0,o.default)("/song/detail?ids="+e.join())};t.getLyric=function(t){return r(void 0,void 0,void 0,function(){return i(this,function(e){return[2,(0,o.default)("/lyric?id="+t)]})})}},471:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},f=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=n(0),a=n(24),v=n(292),h=n(13),p={labelCol:{span:4},wrapperCol:{span:20}},m={wrapperCol:{offset:18,span:4}};t.default=function(e){var t=this,l=e.onCancel,u=e.setUserInfo,c=(e=(0,o.useState)(!1))[0],d=e[1];return(0,s.jsx)(a.Modal,r({title:"登录",visible:!0,onCancel:l,footer:null},{children:(0,s.jsxs)(a.Form,r({},p,{onFinish:function(a){return i(t,void 0,void 0,function(){var t,n,r,i,s,o;return f(this,function(e){switch(e.label){case 0:if(t=a.username,n=a.password,!t||!n)return[2];if(/^[\w-.]+@[\w-.]+\.\w+$/.test(t))r="email";else{if(!/^1[3-9]\d{9}$/.test(t))return[2];r="phone"}return c?[2]:(d(!0),"email"!==r?[3,2]:[4,(0,v.emailLogin)(t,n)]);case 1:return s=e.sent(),[3,4];case 2:return[4,(0,v.phoneLogin)(t,n)];case 3:s=e.sent(),e.label=4;case 4:return i=s,window.localStorage.setItem("username",i.profile.nickname),window.localStorage.setItem("avatar",(0,h.replaceHttpToHttps)(i.profile.avatarUrl)),window.localStorage.setItem("userid",i.account.id),window.localStorage.setItem("token",i.token),o=Number(i.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1]),window.localStorage.setItem("timestampBefore",String(Date.now()+1e3*o)),u({name:i.profile.nickname,avatar:(0,h.replaceHttpToHttps)(i.profile.avatarUrl)}),l(),[2]}})})}},{children:[(0,s.jsx)(a.Form.Item,r({label:"账号",name:"username",rules:[{required:!0,message:"请输入账号"}]},{children:(0,s.jsx)(a.Input,{placeholder:"输入手机号或邮箱"},void 0)}),void 0),(0,s.jsx)(a.Form.Item,r({label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{children:(0,s.jsx)(a.Input,{type:"password",placeholder:"输入密码",autoComplete:"on"},void 0)}),void 0),(0,s.jsx)(a.Form.Item,r({},m,{children:(0,s.jsx)(a.Button,r({type:"primary",htmlType:"submit",loading:c},{children:"登录"}),void 0)}),void 0)]}),void 0)}),void 0)}},472:function(e,t,n){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},v=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(10),p=n(0),m=n(15),y=n(24),g=n(14),j=n(13),x=n(294);t.default=function(){var e=this,t=(0,m.useHistory)(),n=(0,p.useState)(""),r=n[0],i=n[1],s=(l=(0,p.useState)(!1))[0],o=l[1],a=(0,p.useRef)(null),l=(n=(0,p.useState)({}))[0],u=n[1],c=(0,p.useCallback)((0,j.debounce)(function(r){return f(e,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return[4,(0,x.searchSuggest)(r)];case 1:return t=e.sent().result,n={},Array.isArray(t.songs)&&(n.songs=t.songs.map(function(e){return{path:"/Song?id="+e.id,text:e.name+" - "+e.artists.map(function(e){return e.name}).join("/")}})),Array.isArray(t.albums)&&(n.albums=t.albums.map(function(e){return{path:"/Album?id="+e.id,text:e.name+" - "+e.artist.name}})),Array.isArray(t.artists)&&(n.singers=t.artists.map(function(e){return{path:"/Singer?id="+e.id,text:e.name}})),Array.isArray(t.playlists)&&(n.playlists=t.playlists.map(function(e){return{path:"/Playlist?id="+e.id,text:e.name}})),u(n),[2]}})})},800),[]);return(0,p.useEffect)(function(){r&&c(r)},[r]),(0,h.jsxs)("div",d({className:"search-container"},{children:[(0,h.jsx)(y.Input,{className:"search-input",placeholder:"搜索音乐",suffix:(0,h.jsx)(g.SearchOutlined,{},void 0),ref:a,onFocus:function(){return o(!0)},onBlur:function(){return setTimeout(o,100,!1)},value:r,onChange:function(e){return i(e.target.value)},onPressEnter:function(){a.current&&a.current.blur(),t.push("/Search?keyword="+r),i(""),u({})},style:{width:s?320:160}},void 0),s&&(0,h.jsxs)("div",d({className:"search-suggest"},{children:[l.songs&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",d({className:"search-suggest-title"},{children:"单曲"}),void 0),(0,h.jsx)("div",d({className:"search-suggest-list"},{children:l.songs.map(function(e){return(0,h.jsx)(m.Link,d({className:"search-suggest-item",to:e.path},{children:e.text}),e.path)})}),void 0)]},void 0),l.albums&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",d({className:"search-suggest-title"},{children:"专辑"}),void 0),(0,h.jsx)("div",d({className:"search-suggest-list"},{children:l.albums.map(function(e){return(0,h.jsx)(m.Link,d({className:"search-suggest-item",to:e.path},{children:e.text}),e.path)})}),void 0)]},void 0),l.singers&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",d({className:"search-suggest-title"},{children:"歌手"}),void 0),(0,h.jsx)("div",d({className:"search-suggest-list"},{children:l.singers.map(function(e){return(0,h.jsx)(m.Link,d({className:"search-suggest-item",to:e.path},{children:e.text}),e.path)})}),void 0)]},void 0),l.playlists&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",d({className:"search-suggest-title"},{children:"歌单"}),void 0),(0,h.jsx)("div",d({className:"search-suggest-list"},{children:l.playlists.map(function(e){return(0,h.jsx)(m.Link,d({className:"search-suggest-item",to:e.path},{children:e.text}),e.path)})}),void 0)]},void 0)]}),void 0)]}),void 0)}},473:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=n(0),a=r(n(474)),l=n(15),u=n(14);t.default=(0,o.memo)(function(){var e=(0,o.useState)("Discovery"),r=e[0],t=e[1],n=(0,l.useLocation)().pathname;return(0,o.useEffect)(function(){t(n.slice(1))},[n]),(0,s.jsxs)("div",i({className:a.default.container},{children:[(0,s.jsx)("input",{type:"checkbox",id:"toggle",className:"input-toggle"},void 0),(0,s.jsxs)("div",i({className:"sidebar"},{children:[(0,s.jsx)("div",i({className:"category"},{children:"推荐"}),void 0),[{text:"发现音乐",Icon:u.SearchOutlined,key:"Discovery"},{text:"私人FM",Icon:u.CustomerServiceOutlined,key:"PersonalFM"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return(0,s.jsxs)(l.Link,i({className:r===t?"item active":"item",to:"/"+t},{children:[(0,s.jsx)(e,{},void 0)," ",n]}),t)}),(0,s.jsx)("div",i({className:"category"},{children:"我的音乐"}),void 0),[{text:"我的歌单",Icon:u.HeartOutlined,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return(0,s.jsxs)(l.Link,i({className:r===t?"item active":"item",to:"/"+t},{children:[(0,s.jsx)(e,{},void 0)," ",n]}),t)}),(0,s.jsx)("div",i({className:"category"},{children:"GitHub"}),void 0),(0,s.jsxs)("a",i({className:"item",href:"https://github.com/lisianthus-a/react-music",target:"_blank"},{children:[(0,s.jsx)(u.GithubOutlined,{},void 0)," 项目地址"]}),void 0),(0,s.jsxs)("a",i({className:"item",href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},{children:[(0,s.jsx)(u.FileTextOutlined,{},void 0)," API文档"]}),void 0)]}),void 0),(0,s.jsx)("label",i({htmlFor:"toggle"},{children:(0,s.jsx)("div",{className:"toggle"},void 0)}),void 0)]}),void 0)})},474:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3Mt4v"}},475:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),l=n(0),u=r(n(476)),c=n(18),d=n(17),f=r(n(32)),v=r(n(477)),h=r(n(479)),p=r(n(481)),m=r(n(490));t.default=(0,l.memo)(function(){var e=(0,l.useContext)(c.StateContext),t=(s=(0,l.useState)(0))[0],n=s[1],r=e.isPlaying,i=e.playMode,s=e.playlist,e=e.playingItem;return(0,d.useInterval)(function(){var e=(0,f.default)().getCurrentTime();n(e)},300),(0,a.jsxs)("div",o({className:u.default["music-player"]},{children:[(0,a.jsx)(v.default,{playingItem:e,currentTime:t},void 0),(0,a.jsx)(h.default,{},void 0),(0,a.jsx)(p.default,{isPlaying:r,playingItem:e,playlist:s,playMode:i,currentTime:t},void 0),(0,a.jsx)(m.default,{playingItem:e,currentTime:t,setCurrentTime:n},void 0)]}),void 0)})},476:function(e,t,n){"use strict";n.r(t),t.default={"music-player":"music-player_39d43"}},477:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=n(0),c=r(n(478)),d=n(15),f=n(13);t.default=function(e){var t=e.playingItem,n=e.currentTime,r=t.id,i=t.name,s=t.cover,o=t.singers,e=t.duration,t=(0,u.useMemo)(function(){return o.map(function(e){return e.name}).join("/")},[o]),e=(0,f.convertTime)(n)+" / "+(0,f.convertTime)(e);return(0,l.jsxs)("div",a({className:c.default.container},{children:[(0,l.jsx)("img",{src:s+"?param=50y50"},void 0),(0,l.jsxs)("div",a({className:"information"},{children:[(0,l.jsxs)("div",a({className:"song"},{children:[(0,l.jsx)(d.Link,a({to:"/Song?id="+r},{children:i}),void 0)," - ",(0,l.jsx)("span",a({className:"singer",title:t},{children:t}),void 0)]}),void 0),(0,l.jsx)("div",a({className:"time"},{children:e}),void 0)]}),void 0)]}),void 0)}},478:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3o_Fk"}},479:function(e,t,n){"use strict";var l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(0),d=r(n(480)),f=n(14),v=n(18);t.default=(0,c.memo)(function(){function e(e){e=n(e,s),r(e)}var t=(0,c.useContext)(v.FuncContext),n=t.getSong,r=t.playSong,i=t.pauseSong,s=(0,c.useContext)(v.StateContext),o=s.isPlaying,a=s.playingItem;return(0,u.jsxs)("div",l({className:d.default.container},{children:[(0,u.jsx)("div",l({className:"prev",title:"上一首",onClick:function(){return e("prev")}},{children:(0,u.jsx)(f.StepBackwardOutlined,{},void 0)}),void 0),(0,u.jsx)("div",l({className:"play-or-pause",onClick:function(){o?i():r(a)},title:"播放/暂停"},{children:o?(0,u.jsx)(f.PauseOutlined,{},void 0):(0,u.jsx)(f.CaretRightOutlined,{},void 0)}),void 0),(0,u.jsx)("div",l({className:"next",title:"下一首",onClick:function(){return e("next")}},{children:(0,u.jsx)(f.StepForwardOutlined,{},void 0)}),void 0)]}),void 0)})},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["/Album","/Discovery","/MySongList","/PersonalFM","/Playlist","/Search","/Singer","/Song","/User","/Video"]},480:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3ew1h"}},481:function(e,t,n){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=r(n(482)),l=r(n(483)),u=r(n(485)),c=r(n(488));t.default=function(e){var t=e.isPlaying,n=e.playingItem,r=e.playlist,i=e.playMode,e=e.currentTime;return(0,o.jsxs)("div",s({className:a.default["other-button"]},{children:[(0,o.jsx)(l.default,{isPlaying:t,playingItem:n,playlist:r,currentTime:e},void 0),(0,o.jsx)(u.default,{playMode:i},void 0),(0,o.jsx)(c.default,{},void 0)]}),void 0)}},482:function(e,t,n){"use strict";n.r(t),t.default={"other-button":"other-button_1-Ybf"}},483:function(e,t,n){"use strict";var p=this&&this.__assign||function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},m=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},y=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var g=n(10),j=n(0),x=r(n(484)),b=n(14),_=n(13),w=n(17),S=r(n(32)),O=r(n(94)),k=n(18);t.default=function(e){var a=this,l=e.isPlaying,u=e.playlist,c=e.playingItem,s=e.currentTime,d=(t=(0,j.useContext)(k.FuncContext)).playSong,o=t.collectSong,f=t.setPlaylist,t=(e=(0,j.useState)(c.lyric))[0],n=e[1],r=(0,j.useRef)(null),v=(0,j.useRef)(null),h=(0,j.useRef)(null),i=(0,j.useRef)(c.id);return(0,w.useInterval)(function(){if(toggleList.checked){var i=v.current.getElementsByClassName("lyric");if(0!==i.length){var e=Number(i[0].dataset.time);if(Number(i[i.length-1].dataset.time)<=s)t=i[i.length-1];else{if(s<=e)return;var e=function(){for(var e=0,t=i.length-1;e<=t;){var n=e+t>>1,r=Number(i[n].dataset.time);s<r?t=n-1:e=1+n}return e-1}(),t=i[e]}h.current!==t&&(h.current&&h.current.classList.remove("active"),(h.current=t).classList.add("active"),t=h.current.offsetTop+h.current.scrollHeight/2-195,v.current.scrollTop=t<0?0:t)}}},400),(0,j.useEffect)(function(){c.id!==i.current?(h.current&&h.current.classList.remove("active"),v.current.scrollTop=0,i.current=c.id,n(c.lyric)):c.lyric&&n(c.lyric)},[c]),(0,j.useEffect)(function(){var e;r.current&&(e=r.current.getContext("2d"),(0,S.default)().setCanvasContext(e),(0,S.default)().drawStart())},[r]),(0,g.jsxs)("div",p({className:x.default.playlist},{children:[(0,g.jsx)("div",p({className:"icon",title:"播放列表"},{children:(0,g.jsxs)("label",p({htmlFor:"toggleList"},{children:[(0,g.jsx)(b.UnorderedListOutlined,{},void 0),u.length]}),void 0)}),void 0),(0,g.jsx)("input",{type:"checkbox",id:"toggleList",className:"toggle"},void 0),(0,g.jsxs)("div",p({className:"list"},{children:[(0,g.jsx)("canvas",{ref:r,height:"310",width:"900"},void 0),(0,g.jsxs)("div",p({className:"list-left"},{children:[(0,g.jsxs)("div",p({className:"title"},{children:[(0,g.jsxs)("span",{children:["播放列表 (",u.length,")"]},void 0),(0,g.jsxs)("span",p({className:"clean",onClick:function(){(0,O.default)().delAll(),f([])}},{children:[(0,g.jsx)(b.DeleteOutlined,{},void 0)," 清空"]}),void 0)]}),void 0),(0,g.jsx)("div",p({className:"content"},{children:u.map(function(e,t){var r=e.id,i=e.name,n=e.singers,e=e.duration;return(0,g.jsxs)("div",p({className:r===c.id?"item playing":"item",onClick:function(){return n=t,m(a,void 0,void 0,function(){var t;return y(this,function(e){return t=u[n],d(t),[2]})});var n}},{children:[r===c.id&&(0,g.jsx)(b.CaretRightOutlined,{},void 0),(0,g.jsx)("div",p({className:"song-title",title:i},{children:i}),void 0),(0,g.jsxs)("div",p({className:"icons"},{children:[(0,g.jsx)(b.PlusOutlined,{title:"添加到歌单",onClick:function(e){return t=r,e.stopPropagation(),void o(t);var t}},void 0),(0,g.jsx)(b.DownloadOutlined,{title:"下载",onClick:function(e){return t=r,n=i,e.stopPropagation(),void(0,S.default)().download(t,n);var t,n}},void 0),(0,g.jsx)(b.DeleteOutlined,{title:"删除",onClick:function(e){return s=e,o=t,m(a,void 0,void 0,function(){var t,n,r,i;return y(this,function(e){return s.stopPropagation(),t=u.slice(),n=t.findIndex(function(e){return e.id===c.id}),r=t.splice(o,1),(0,O.default)().del(r[0].id),f(t),n===o&&l&&(i=t[o]||t[t.length-1])&&d(i),[2]})});var s,o}},void 0)]}),void 0),(0,g.jsx)("div",p({className:"singer",title:n.map(function(e){return e.name}).join("/")},{children:n.map(function(e){return e.name}).join("/")}),void 0),(0,g.jsx)("div",p({className:"duration"},{children:(0,_.convertTime)(e)}),void 0)]}),r)})}),void 0)]}),void 0),(0,g.jsxs)("div",p({className:"list-right"},{children:[(0,g.jsx)("div",p({className:"title"},{children:(0,g.jsx)("span",p({title:c.name},{children:c.name}),void 0)}),void 0),(0,g.jsxs)("div",p({className:"content",ref:v},{children:[null===t&&(0,g.jsx)("p",{children:"歌词加载中..."},void 0),t&&0===t.length&&(0,g.jsx)("p",{children:"暂无歌词"},void 0),t&&t.map(function(e,t){var n=e[0],r=e[1],e=e[2];return(0,g.jsxs)("p",p({"data-time":e,className:"lyric"},{children:[n,r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("br",{},void 0),r]},void 0)]}),t)})]}),void 0)]}),void 0),(0,g.jsx)("label",p({htmlFor:"toggleList"},{children:(0,g.jsx)("div",p({className:"close"},{children:"X"}),void 0)}),void 0)]}),void 0)]}),void 0)}},484:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_3Uhd9"}},485:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=n(0),a=i(n(486)),l=n(18),i=i(n(487)),n=n(14),u={"list-loop":(0,s.jsx)(n.RetweetOutlined,{title:"列表循环"},void 0),random:(0,s.jsx)(i.default,{type:"icon-random",title:"随机"},void 0),"single-cycle":(0,s.jsx)(i.default,{type:"icon-Singlecycle",title:"单曲循环"},void 0)};t.default=(0,o.memo)(function(e){var t=e.playMode,n=(0,o.useContext)(l.FuncContext).setPlayMode,e=u[t];return(0,s.jsx)("div",r({className:a.default["play-mode"]},{children:(0,s.jsx)("div",r({className:"icon",onClick:function(){var e="list-loop"===t?"random":"random"===t?"single-cycle":"list-loop";n(e)}},{children:e}),void 0)}),void 0)})},486:function(e,t,n){"use strict";n.r(t),t.default={"play-mode":"play-mode_3wZ9F"}},487:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=(0,n(14).createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"});t.default=function(e){return(0,i.jsx)(s,r({},e),void 0)}},488:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=n(0),a=i(n(489)),l=n(24),u=n(14),c=i(n(32));t.default=(0,o.memo)(function(){return(0,s.jsxs)("div",r({className:a.default.volume},{children:[(0,s.jsx)("div",r({className:"icon",title:"音量"},{children:(0,s.jsx)(u.SoundOutlined,{},void 0)}),void 0),(0,s.jsx)("div",r({className:"slider"},{children:(0,s.jsx)(l.Slider,{defaultValue:100,onChange:function(e){(0,c.default)().setVolume(.01*e)},tipFormatter:function(e){return e+"%"}},void 0)}),void 0)]}),void 0)})},489:function(e,t,n){"use strict";n.r(t),t.default={volume:"volume_3rxth"}},49:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userPlaylist=t.deleteSonglist=t.songlistSubscribe=t.songlistTracks=t.playlistComment=t.playlistDetail=void 0;var i=r(n(28));t.playlistDetail=function(e){return(0,i.default)("/playlist/detail?id="+e)};t.playlistComment=function(e){return(0,i.default)("/comment/playlist?id="+e)};t.songlistTracks=function(e,t,n){return(0,i.default)("/playlist/tracks?op="+e+"&pid="+t+"&tracks="+n)};t.songlistSubscribe=function(e,t){return(0,i.default)("/playlist/subscribe?t="+(t=void 0===t?1:t)+"&id="+e)};t.deleteSonglist=function(e){return(0,i.default)("/playlist/delete?id="+e)};t.userPlaylist=function(e){return(0,i.default)("/user/playlist?uid="+e)}},490:function(e,t,n){"use strict";var v=this&&this.__assign||function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(10),p=n(0),m=r(n(491)),y=n(13),g=n(18);t.default=(0,p.memo)(function(e){var n=e.playingItem,t=e.currentTime,r=e.setCurrentTime,i=n.duration,s=(f=(0,p.useState)(!1))[0],o=f[1],a=(0,p.useRef)(null),l=(0,p.useRef)(null),u=(0,p.useContext)(g.FuncContext).playSong,e=function(e){var t;0===e.button&&(window.addEventListener("mousemove",d),window.addEventListener("mouseup",c),o(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,a.current.style.width=100*t+"%",l.current.textContent=(0,y.convertTime)(t*i))},c=function(e){window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",c),o(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t*i;t<0?t=0:i<t&&(t=i),r(t),u(n,t)},d=function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;1<t?t=1:t<0&&(t=0),a.current.style.width=100*t+"%",l.current.textContent=(0,y.convertTime)(t*i)},f=(0,p.useMemo)(function(){return s?{width:a.current.style.width}:{width:t/i*100+"%"}},[t,i]);return(0,h.jsxs)("div",v({className:m.default.progressbar},{children:[(0,h.jsx)("div",{className:"track",onMouseDown:e},void 0),(0,h.jsxs)("div",v({className:"rail",onMouseDown:e,ref:a,style:f},{children:[(0,h.jsx)("div",{className:"handle"},void 0),(0,h.jsx)("div",{className:"tooltip",ref:l,style:{display:s?"block":"none"}},void 0)]}),void 0)]}),void 0)})},491:function(e,t,n){"use strict";n.r(t),t.default={progressbar:"progressbar_2Rh8C"}},492:function(e,t,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},f=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=n(10),h=n(0),p=r(n(493)),m=n(24),y=r(n(23)),g=n(49);t.default=function(e){var t=this,n=e.id,r=(0,h.useState)(null),i=r[0],s=r[1],o=(e=(0,h.useState)(null))[0],a=e[1],e=(r=(0,h.useState)(!1))[0],l=r[1],u=window.localStorage.getItem("userid");return u?((0,h.useEffect)(function(){d(t,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,(0,g.userPlaylist)(u)];case 1:return n=e.sent(),t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单 ("+t.length+")",value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单 ("+n.length+")",value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],s(n),[2]}})})},[]),i?(0,v.jsxs)("div",c({className:p.default["collect-song"]},{children:[(0,v.jsx)(m.TreeSelect,{treeData:i,style:{width:"100%"},onChange:function(e){return a(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"},void 0),(0,v.jsx)(m.Button,c({onClick:function(){o&&(l(!0),(0,g.songlistTracks)("add",o,n).then(function(){m.Modal.destroyAll(),m.message.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:30}},{children:"确认"}),void 0)]}),void 0):(0,v.jsx)(y.default,{},void 0)):(0,v.jsx)("div",{children:"未找到 userid，请重新登录"},void 0)}},493:function(e,t,n){"use strict";n.r(t),t.default={"collect-song":"collect-song_1DAiM"}},495:function(e,t,n){var r={"./routes":48,"./routes/":48,"./routes/Album":70,"./routes/Album/":70,"./routes/Album/components/View":105,"./routes/Album/components/View.module.scss":295,"./routes/Album/components/View.tsx":105,"./routes/Album/index":70,"./routes/Album/index.tsx":70,"./routes/Discovery":72,"./routes/Discovery/":72,"./routes/Discovery/components/Carousel":50,"./routes/Discovery/components/Carousel/":50,"./routes/Discovery/components/Carousel/index":50,"./routes/Discovery/components/Carousel/index.module.scss":298,"./routes/Discovery/components/Carousel/index.tsx":50,"./routes/Discovery/components/RecentSonglist":52,"./routes/Discovery/components/RecentSonglist/":52,"./routes/Discovery/components/RecentSonglist/index":52,"./routes/Discovery/components/RecentSonglist/index.module.scss":300,"./routes/Discovery/components/RecentSonglist/index.tsx":52,"./routes/Discovery/components/RecommentPlaylist":51,"./routes/Discovery/components/RecommentPlaylist/":51,"./routes/Discovery/components/RecommentPlaylist/index":51,"./routes/Discovery/components/RecommentPlaylist/index.module.scss":299,"./routes/Discovery/components/RecommentPlaylist/index.tsx":51,"./routes/Discovery/components/View":108,"./routes/Discovery/components/View.module.scss":297,"./routes/Discovery/components/View.tsx":108,"./routes/Discovery/index":72,"./routes/Discovery/index.tsx":72,"./routes/MySongList":73,"./routes/MySongList/":73,"./routes/MySongList/components/View":109,"./routes/MySongList/components/View.module.scss":301,"./routes/MySongList/components/View.tsx":109,"./routes/MySongList/index":73,"./routes/MySongList/index.tsx":73,"./routes/PersonalFM":74,"./routes/PersonalFM/":74,"./routes/PersonalFM/index":74,"./routes/PersonalFM/index.module.scss":302,"./routes/PersonalFM/index.tsx":74,"./routes/Playlist":75,"./routes/Playlist/":75,"./routes/Playlist/components/View":110,"./routes/Playlist/components/View.module.scss":303,"./routes/Playlist/components/View.tsx":110,"./routes/Playlist/index":75,"./routes/Playlist/index.tsx":75,"./routes/Search":76,"./routes/Search/":76,"./routes/Search/components/AlbumList":53,"./routes/Search/components/AlbumList/":53,"./routes/Search/components/AlbumList/index":53,"./routes/Search/components/AlbumList/index.tsx":53,"./routes/Search/components/PlaylistList":55,"./routes/Search/components/PlaylistList/":55,"./routes/Search/components/PlaylistList/index":55,"./routes/Search/components/PlaylistList/index.tsx":55,"./routes/Search/components/SingerList":54,"./routes/Search/components/SingerList/":54,"./routes/Search/components/SingerList/index":54,"./routes/Search/components/SingerList/index.tsx":54,"./routes/Search/components/View":111,"./routes/Search/components/View.module.scss":304,"./routes/Search/components/View.tsx":111,"./routes/Search/index":76,"./routes/Search/index.tsx":76,"./routes/Singer":77,"./routes/Singer/":77,"./routes/Singer/components/Header":56,"./routes/Singer/components/Header/":56,"./routes/Singer/components/Header/index":56,"./routes/Singer/components/Header/index.module.scss":307,"./routes/Singer/components/Header/index.tsx":56,"./routes/Singer/components/Introduction":57,"./routes/Singer/components/Introduction/":57,"./routes/Singer/components/Introduction/index":57,"./routes/Singer/components/Introduction/index.module.scss":308,"./routes/Singer/components/Introduction/index.tsx":57,"./routes/Singer/components/View":113,"./routes/Singer/components/View.module.scss":306,"./routes/Singer/components/View.tsx":113,"./routes/Singer/index":77,"./routes/Singer/index.tsx":77,"./routes/Song":78,"./routes/Song/":78,"./routes/Song/components/View":114,"./routes/Song/components/View.module.scss":309,"./routes/Song/components/View.tsx":114,"./routes/Song/index":78,"./routes/Song/index.tsx":78,"./routes/User":79,"./routes/User/":79,"./routes/User/components/View":81,"./routes/User/components/View.js":81,"./routes/User/index":79,"./routes/User/index.js":79,"./routes/Video":80,"./routes/Video/":80,"./routes/Video/components/View":82,"./routes/Video/components/View.js":82,"./routes/Video/index":80,"./routes/Video/index.js":80,"./routes/index":48,"./routes/index.ts":48};function i(e){e=s(e);return n(e)}function s(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=s,(e.exports=i).id=495},496:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},i=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.album=t.albumComment=void 0;var o=s(n(28));t.albumComment=function(e){return(0,o.default)("/comment/album?id="+e)};t.album=function(t){return r(void 0,void 0,void 0,function(){return i(this,function(e){return[2,(0,o.default)("/album?id="+t)]})})}},497:function(e,t,n){"use strict";n.r(t),t.default={detail:"detail_25jrL"}},498:function(e,t,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},f=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},v=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(10),p=n(0),m=n(18),y=n(15),g=n(24),j=n(14),x=n(47),b=n(26),_=r(n(94));t.default=function(e){var t=this,n=e.detailData,s=e.songList,o=e.songIds,a=(u=(0,p.useContext)(m.FuncContext)).setPlaylist,l=u.playSong,r=n.title,i=n.cover,e=n.creator,u=n.tags,n=n.description;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",c({className:"list-left"},{children:(0,h.jsx)("div",c({className:"image"},{children:(0,h.jsx)("img",{src:i+"?param=240y240"},void 0)}),void 0)}),void 0),(0,h.jsxs)("div",c({className:"list-right"},{children:[(0,h.jsx)("div",c({className:"title-playlist"},{children:r}),void 0),(0,h.jsxs)("div",c({className:"creator"},{children:[(0,h.jsxs)(y.Link,c({to:"/User?id="+e.id},{children:[(0,h.jsx)("img",{src:e.avatar+"?param=40y40"},void 0),e.name]}),void 0),new Date(e.createTime).toLocaleDateString().replace(/\//g,"-"),"创建"]}),void 0),(0,h.jsx)("div",c({className:"btns"},{children:(0,h.jsx)(g.Button,c({icon:(0,h.jsx)(j.CaretRightOutlined,{},void 0),onClick:function(){return d(t,void 0,void 0,function(){var t,n,r,i;return f(this,function(e){switch(e.label){case 0:return(t=[],s)?(t=s.filter(function(e){return e.isFree}),[3,5]):[3,1];case 1:if(!o)return[3,5];n=Math.ceil(.02*o.length),r=0,e.label=2;case 2:return r<n?(i=50*r,i=o.slice(i,50+i),[4,(0,x.songDetail)(i)]):[3,5];case 3:i=e.sent(),i=(0,b.resolveSongs)(i.songs,"detail").filter(function(e){return e.isFree}),t=v(v([],t,!0),i,!0),e.label=4;case 4:return++r,[3,2];case 5:return(0,_.default)().delAll(),a(t),l(t[0]),[2]}})})}},{children:"播放全部"}),void 0)}),void 0),(0,h.jsxs)("div",c({className:"tags"},{children:["标签：",u.map(function(e,t){return(0,h.jsx)("span",{children:e},t)})]}),void 0),(0,h.jsx)("div",c({className:"description"},{children:n}),void 0)]}),void 0)]},void 0)}},499:function(e,t,n){"use strict";var l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(0),d=n(18),f=n(15),v=n(24),h=n(14);t.default=function(e){var t=e.detailData,n=e.songList,r=(a=(0,c.useContext)(d.FuncContext)).playSong,i=a.setPlaylist,s=t.title,o=t.cover,e=t.singers,a=t.publishTime,t=t.description;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",l({className:"list-left"},{children:(0,u.jsx)("div",l({className:"image"},{children:(0,u.jsx)("img",{src:o+"?param=240y240"},void 0)}),void 0)}),void 0),(0,u.jsxs)("div",l({className:"list-right"},{children:[(0,u.jsx)("div",l({className:"title-album"},{children:s}),void 0),(0,u.jsxs)("div",l({className:"singer"},{children:["歌手：",e.map(function(e,t){var n=e.id,e=e.name;return(0,u.jsxs)(c.Fragment,{children:[(0,u.jsx)(f.Link,l({to:"/Singer?id="+n},{children:e}),void 0),(0,u.jsx)("span",{children:" / "},void 0)]},t)})]}),void 0),(0,u.jsxs)("div",{children:["发行时间：",new Date(a).toLocaleDateString().replace(/\//g,"-")]},void 0),(0,u.jsx)("div",l({className:"btns"},{children:(0,u.jsx)(v.Button,l({icon:(0,u.jsx)(h.CaretRightOutlined,{},void 0),onClick:function(){var e=n[0];r(e),i(n)}},{children:"播放全部"}),void 0)}),void 0),(0,u.jsx)("div",l({className:"description"},{children:t}),void 0)]}),void 0)]},void 0)}},50:function(e,t,n){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=n(10),o=n(0),v=n(15),h=r(n(298)),p=n(13),m=n(17);t.default=function(e){var t=e.data,a=t.length,l=(0,v.useHistory)(),u=(r=(0,o.useState)(0))[0],n=r[1],r=(e=(0,o.useState)(!0))[0],i=e[1],s=(0,p.debounce)(i,5e3);(0,m.useInterval)(function(){n((u+1)%a)},r?5e3:null);var c=function(e){n(e),i(!1),s(!0)};return(0,f.jsxs)("div",d({className:h.default.carousel},{children:[(0,f.jsx)("div",d({className:"card-container"},{children:t.map(function(e,t){var n,r=e.imageUrl,i=e.targetId,s=e.targetType,o=e.url;return(0,f.jsx)("div",d({className:"card",onClick:function(){return function(e,t,n,r){if(u===e)switch(n){case 1:l.push("/Song?id="+t);break;case 10:l.push("/Album?id="+t);break;case 1e3:l.push("SongList?id="+t);break;case 1004:l.push("/Video?id="+t);break;case 3e3:window.open(r);break;default:return}else c(e)}(t,i,s,o)},style:(n=0<(e=(n=t)-u)?e-a:e+a,n=Math.abs(e)>Math.abs(n)?n:e,e={},0===n?(e.left="33.3%",e.zIndex=999,e.opacity=1,e.transform="scale(1)"):e.left=0<n?16.7+40*n+"%":50+40*n+"%",2<=Math.abs(n)&&(e.opacity=0,e.transform="scale(0)"),e)},{children:(0,f.jsx)("img",{src:(0,p.replaceHttpToHttps)(r)+"?param=500y200"},void 0)}),t)})}),void 0),(0,f.jsx)("div",d({className:"rects"},{children:t.map(function(e,t){return(0,f.jsx)("div",{className:u===t?"rect-active":"rect",onClick:function(){return c(t)}},t)})}),void 0)]}),void 0)}},500:function(e,t,n){"use strict";var m=this&&this.__assign||function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=n(10),g=n(0),j=n(18),x=n(15),b=n(24),_=n(14),w=r(n(32));t.default=function(e){var t=e.detailData,n=e.songData,r=e.lyric,i=t.title,s=t.cover,o=t.singers,a=t.albumId,l=t.albumName,u=n.id,c=n.name,e=n.isFree,d=(t=(0,g.useContext)(j.FuncContext)).playSong,f=t.collectSong,v=t.setPlaylist,h=(t=(0,g.useContext)(j.StateContext)).playingItem,p=t.playlist;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",m({className:"list-left"},{children:(0,y.jsx)("div",m({className:"image"},{children:(0,y.jsx)("img",{src:s+"?param=240y240"},void 0)}),void 0)}),void 0),(0,y.jsxs)("div",m({className:"list-right"},{children:[(0,y.jsx)("div",m({className:"title-song"},{children:i}),void 0),(0,y.jsxs)("div",m({className:"singer"},{children:["歌手：",o.map(function(e,t){var n=e.id,e=e.name;return(0,y.jsxs)(g.Fragment,{children:[(0,y.jsx)(x.Link,m({to:"/Singer?id="+n},{children:e}),void 0),(0,y.jsx)("span",{children:" / "},void 0)]},t)})]}),void 0),(0,y.jsxs)("div",{children:["所属专辑：",(0,y.jsx)(x.Link,m({to:"/Album?id="+a},{children:l}),void 0)]},void 0),(0,y.jsxs)("div",m({className:"btns"},{children:[(0,y.jsx)(b.Button,m({icon:(0,y.jsx)(_.CaretRightOutlined,{},void 0),onClick:function(){var e;h.id!==n.id&&(p.find(function(e){return e.id===n.id})||((e=p.slice()).push(n),v(e)),d(n))},disabled:!e},{children:"播放"}),void 0),(0,y.jsx)(b.Button,m({icon:(0,y.jsx)(_.HeartOutlined,{},void 0),onClick:function(){f(u)},disabled:!e},{children:"添加到歌单"}),void 0),(0,y.jsx)(b.Button,m({icon:(0,y.jsx)(_.DownloadOutlined,{},void 0),onClick:function(){(0,w.default)().download(u,c)},disabled:!e},{children:"下载"}),void 0)]}),void 0),(0,y.jsx)("input",{type:"checkbox",id:"toggle-lyric",className:"toggle",style:{display:"none"}},void 0),0===r.length&&(0,y.jsx)("div",{children:"暂无歌词"},void 0),(0,y.jsx)("div",m({className:"lyric"},{children:r.map(function(e,t){var n=e[0],e=e[1];return(0,y.jsxs)("p",{children:[n,e&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{},void 0),e]},void 0)]},t)})}),void 0),(0,y.jsx)("label",{htmlFor:"toggle-lyric"},void 0)]}),void 0)]},void 0)}},501:function(e,t,n){"use strict";n.r(t),t.default={songlist:"songlist_1AHFN"}},502:function(e,t,n){"use strict";n.r(t),t.default={pagination:"pagination_1ik9H"}},503:function(e,t,n){"use strict";n.r(t),t.default={"comment-list":"comment-list_1x3ow"}},504:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.simiSong=t.topSong=t.recommendPlaylist=t.banner=void 0;var i=r(n(28));t.banner=function(){return(0,i.default)("/banner")};t.recommendPlaylist=function(e){return(0,i.default)("/personalized?limit="+(e=void 0===e?10:e))};t.topSong=function(e){return(0,i.default)("/top/song?type="+(e=void 0===e?0:e))};t.simiSong=function(e){return(0,i.default)("/simi/song?id="+e)}},505:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unlike=t.getFMList=void 0;var i=r(n(28));t.getFMList=function(){return(0,i.default)("/personal_fm?_t="+Date.now())};t.unlike=function(e){return(0,i.default)("/fm_trash?id="+e)}},506:function(e,t,n){"use strict";n.r(t),t.default={tabs:"tabs_2nnn9",tab:"tab_1pU_B","tab-active":"tab-active_qjqOx"}},507:function(e,t,n){"use strict";n.r(t),t.default={"link-image-list":"link-image-list_3_g2E"}},508:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.singerDesc=t.singerInfo=void 0;var i=r(n(28));t.singerInfo=function(e){return(0,i.default)("/artists?id="+e)};t.singerDesc=function(e){return(0,i.default)("/artist/desc?id="+e)}},509:function(e,t,n){"use strict";n.r(t)},51:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),i=r(n(299)),l=n(15),u=n(14),c=n(13),d=function(e){return 1e4<=e?(1e-4*e>>0)+" 万":e};t.default=function(e){var t=e.data,s=e.onPlayAll,e=function(e){return(0,a.jsx)("div",o({className:"playlist"},{children:e.map(function(e){var n=e.id,t=e.name,r=e.copywriter,i=e.picUrl,e=e.playCount;return(0,a.jsxs)("div",o({className:"listitem"},{children:[(0,a.jsxs)(l.Link,o({className:"image",to:"/Playlist?id="+n},{children:[(0,a.jsx)("img",{src:(0,c.replaceHttpToHttps)(i)+"?param=240y240",loading:"lazy"},void 0),(0,a.jsx)("div",o({className:"copywriter"},{children:r}),void 0),(0,a.jsxs)("div",o({className:"play-count"},{children:[(0,a.jsx)(u.CustomerServiceOutlined,{},void 0),d(e)]}),void 0),(0,a.jsx)("div",o({className:"play-button",onClick:function(e){return t=n,e.preventDefault(),void s(t);var t}},{children:(0,a.jsx)(u.CaretRightOutlined,{},void 0)}),void 0)]}),void 0),(0,a.jsx)(l.Link,o({className:"description",to:"/Playlist?id="+n},{children:t}),void 0)]}),n)})}),void 0)};return(0,a.jsxs)("div",o({className:i.default["recommend-playlist"]},{children:[e(t.slice(0,5)),e(t.slice(5,10))]}),void 0)}},52:function(e,t,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(10),i=n(0),s=r(n(300)),f=n(18),v=n(15),h=n(14);t.default=function(e){var o=e.data,a=(e=(0,i.useContext)(f.FuncContext)).playSong,l=e.setPlaylist,u=(0,i.useContext)(f.StateContext).playlist,e=function(e,s){return e.map(function(e,t){var n=e.id,r=e.name,i=e.cover,e=e.singers;return(0,d.jsxs)("div",c({className:"item"},{children:[(0,d.jsx)("div",c({className:"order"},{children:(t+1+s).toString().padStart(2,"0")}),void 0),(0,d.jsxs)(v.Link,c({className:"image",to:"/Song?id="+n},{children:[(0,d.jsx)("img",{src:i+"?param=50y50",loading:"lazy"},void 0),(0,d.jsx)("div",c({className:"play-button",onClick:function(e){return function(e,t){e.preventDefault();e=o[t],t=u.slice();t.push(e),l(t),a(e)}(e,t+s)}},{children:(0,d.jsx)(h.CaretRightOutlined,{},void 0)}),void 0)]}),void 0),(0,d.jsxs)("div",c({className:"information"},{children:[(0,d.jsx)(v.Link,c({className:"song-title",to:"/Song?id="+n},{children:r}),void 0),(0,d.jsx)("div",c({className:"singer"},{children:e.map(function(e){return e.name}).join("/")}),void 0)]}),void 0)]}),n)})};return(0,d.jsxs)("div",c({className:s.default["recent-songlist"]},{children:[(0,d.jsx)("div",c({className:s.default.left},{children:e(o.slice(0,5),0)}),void 0),(0,d.jsx)("div",c({className:s.default.right},{children:e(o.slice(5,10),5)}),void 0)]}),void 0)}},53:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=r(n(112));t.default=function(e){return e=e.data,(0,i.jsx)(s.default,{children:e.map(function(e){var t=e.id,n=e.name,r=e.singer,e=e.picUrl,r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:n},void 0),(0,i.jsx)("div",{children:r.map(function(e){return e.name}).join(" / ")},void 0)]},void 0);return(0,i.jsx)(s.default.Item,{linkTo:"/Album?id="+t,src:e,text:r},t)})},void 0)}},54:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=r(n(112));t.default=function(e){return e=e.data,(0,i.jsx)(s.default,{children:e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return(0,i.jsx)(s.default.Item,{linkTo:"/Singer?id="+t,src:e,text:n},t)})},void 0)}},55:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=r(n(112));t.default=function(e){return e=e.data,(0,i.jsx)(s.default,{children:e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return(0,i.jsx)(s.default.Item,{linkTo:"/Playlist?id="+t,src:e,text:n},t)})},void 0)}},56:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=i(n(307)),a=n(13);t.default=function(e){var t=(n=e.data).name,e=n.alias,n=n.cover;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",r({className:o.default.title},{children:[t,(0,s.jsx)("span",{children:e.join(";")},void 0)]}),void 0),(0,s.jsx)("div",r({className:o.default.image},{children:(0,s.jsx)("img",{src:(0,a.replaceHttpToHttps)(n)+"?param=640y300"},void 0)}),void 0)]},void 0)}},57:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),o=i(n(308));t.default=function(e){var e=(t=e.data).briefDesc,t=t.intro;return(0,s.jsxs)("div",r({className:o.default.intro},{children:[(0,s.jsxs)("div",r({className:"block"},{children:[(0,s.jsx)("h2",{children:"歌手简介"},void 0),(0,s.jsx)("span",{children:e},void 0)]}),void 0),t.map(function(e,t){var n=e.ti,e=e.txt;return(0,s.jsxs)("div",r({className:"block"},{children:[(0,s.jsx)("h2",{children:n},void 0),(0,s.jsx)("span",{children:e},void 0)]}),t)})]}),void 0)}},70:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},o=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),l=n(0),u=n(496),c=n(17),d=n(26),f=i(n(105));t.default=function(){var e=this,i=(0,c.useQuery)("id");if(!i)return(0,a.jsx)("div",{children:"id错误"},void 0);var t=(0,l.useState)(null),n=t[0],s=t[1];return(0,l.useEffect)(function(){s(null),r(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,u.album)(i)];case 1:return r=e.sent(),t=(0,d.resolveDetail)(r),n=(0,d.resolveSongs)(r.songs,"detail"),[4,(0,u.albumComment)(i)];case 2:return r=e.sent(),s({detail:t,songList:n,comment:r}),[2]}})})},[i]),(0,l.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,a.jsx)(f.default,{pageState:n},void 0)}},71:function(e,t,n){"use strict";var j=this&&this.__assign||function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},b=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=n(10),w=n(0),S=r(n(501)),s=r(n(23)),o=r(n(296)),O=n(15),a=n(18),k=n(24),P=n(14),N=n(49),M=n(13),l=n(17),C=n(47),D=n(26),T=r(n(32));t.default=(0,w.memo)(function(e){var t=this,n=e.songList,r=e.songIds,u=e.isCreator,i=(0,w.useContext)(a.StateContext),c=(e=(0,w.useContext)(a.FuncContext)).playSong,d=e.collectSong,f=e.setPlaylist,v=(0,l.useQuery)("id"),h=i.playingItem,p=i.playlist,m=(i=(0,w.useState)(n||[]))[0],y=i[1],g=(i=(0,w.useState)(1))[0],i=i[1];return(0,w.useEffect)(function(){r&&x(t,void 0,void 0,function(){var t;return b(this,function(e){switch(e.label){case 0:return y([]),t=50*(g-1),t=r.slice(t,50+t),[4,(0,C.songDetail)(t)];case 1:return t=e.sent(),y((0,D.resolveSongs)(t.songs,"detail")),[2]}})})},[r,g]),0===m.length?(0,_.jsx)(s.default,{},void 0):(0,_.jsxs)("div",j({className:S.default.songlist},{children:[(0,_.jsxs)("div",j({className:"title"},{children:["歌曲列表",(0,_.jsxs)("span",{children:[(n||r).length,"首歌"]},void 0)]}),void 0),(0,_.jsxs)("table",{children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{scope:"col"},void 0),(0,_.jsx)("th",j({scope:"col"},{children:"歌曲标题"}),void 0),(0,_.jsx)("th",j({scope:"col"},{children:"时长"}),void 0),(0,_.jsx)("th",j({scope:"col"},{children:"歌手"}),void 0),(0,_.jsx)("th",j({scope:"col"},{children:"专辑"}),void 0)]},void 0)},void 0),(0,_.jsx)("tbody",{children:m.map(function(n,e){var t=n.id,r=n.name,i=n.singers,s=n.duration,o=n.isFree,a=n.albumId,l=n.albumName;return(0,_.jsxs)("tr",j({className:o?void 0:"fee"},{children:[(0,_.jsxs)("td",{children:[(0,_.jsx)("span",{children:50*(g-1)+e+1},void 0),(0,_.jsx)(P.CaretRightOutlined,{className:h.id===t?"play-btn-playing":"play-btn",onClick:function(){var t,e;c(t=n),p.find(function(e){return e.id===t.id})||((e=p.slice()).push(t),f(e))}},void 0)]},void 0),(0,_.jsxs)("td",{children:[(0,_.jsx)(O.Link,j({to:"/Song?id="+t,title:r},{children:r}),void 0),(0,_.jsxs)("div",j({className:"icons"},{children:[o&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P.PlusOutlined,{title:"添加到播放列表",onClick:function(){var t,e;t=n,p.find(function(e){return e.id===t.id})||((e=p.slice()).push(t),f(e))}},void 0),(0,_.jsx)(P.HeartOutlined,{title:"收藏到歌单",onClick:function(){d(t)}},void 0),(0,_.jsx)(P.DownloadOutlined,{title:"下载",onClick:function(){var e,t;e=n,t=n.id,e=n.name,(0,T.default)().download(t,e)}},void 0)]},void 0),u&&(0,_.jsx)(P.DeleteOutlined,{title:"删除",onClick:function(){var r;r=n,k.Modal.confirm({title:"删除歌曲",content:"是否要删除歌曲 "+r.name+" ？",okText:"是",cancelText:"否",onOk:function(){return x(this,void 0,void 0,function(){var t,n;return b(this,function(e){switch(e.label){case 0:return[4,(0,N.songlistTracks)("del",v,r.id)];case 1:return e.sent(),k.message.success("已删除"),t=m.slice(),n=m.findIndex(function(e){return e.id===r.id}),t.splice(n,1),y(t),[2]}})})}})}},void 0)]}),void 0)]},void 0),(0,_.jsx)("td",{children:(0,M.convertTime)(s)},void 0),(0,_.jsx)("td",{children:i.map(function(e,t){var n=e.id,e=e.name;return(0,_.jsxs)(w.Fragment,{children:[(0,_.jsx)(O.Link,j({to:"/Singer?id="+n,title:e,className:S.default.singer},{children:e}),void 0),t!==i.length-1&&(0,_.jsx)("span",{children:" / "},void 0)]},t)})},void 0),(0,_.jsx)("td",{children:(0,_.jsx)(O.Link,j({to:"/Album?id="+a,title:l},{children:l}),void 0)},void 0)]}),t)})},void 0)]},void 0),(0,_.jsx)(o.default,{currentPage:g,total:(null==r?void 0:r.length)||0,pageSize:50,onChange:i},void 0)]}),void 0)})},72:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},l=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(0),d=r(n(108)),f=n(18),v=n(26),h=n(504),p=n(47),m=n(49);t.default=function(){var e=this,t=(0,c.useState)(null),n=t[0],i=t[1],s=(t=(0,c.useContext)(f.FuncContext)).setPlaylist,o=t.playSong;return(0,c.useEffect)(function(){document.title="发现音乐"},[]),(0,c.useEffect)(function(){a(e,void 0,void 0,function(){var t,n,r;return l(this,function(e){switch(e.label){case 0:return[4,(0,h.banner)()];case 1:return t=e.sent(),[4,(0,h.recommendPlaylist)()];case 2:return n=e.sent(),[4,(0,h.topSong)()];case 3:return r=e.sent(),i({banner:t.banners,recommendPlaylist:n.result,recentSong:(0,v.resolveSongs)(r.data,"topSong")}),[2]}})})},[]),(0,u.jsx)(d.default,{pageState:n,onPlayAll:function(r){return a(e,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return[4,(0,m.playlistDetail)(r)];case 1:return n=e.sent(),t=n.playlist.trackIds.map(function(e){return e.id}),[4,(0,p.songDetail)(t)];case 2:return n=e.sent(),t=(0,v.resolveSongs)(n.songs,"detail"),n=t.filter(function(e){return e.isFree}),s(n),o(t[0]),[2]}})})}},void 0)}},73:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},l=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),c=n(0),d=n(49),f=n(24),v=r(n(109)),h=n(13);t.default=function(){var e=this,r=window.localStorage.getItem("userid");if(!r||!(0,h.hasToken)())return(0,u.jsx)("div",{children:"需要登录使用"},void 0);var t=(0,c.useState)(null),s=t[0],o=t[1];return(0,c.useEffect)(function(){document.title="我的歌单"},[]),(0,c.useEffect)(function(){i(e,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return[4,(0,d.userPlaylist)(r)];case 1:return t=e.sent(),n={create:[],subscribe:[]},t.playlist.forEach(function(e){(e.subscribed?n.subscribe:n.create).push(e)}),o(n),[2]}})})},[]),(0,u.jsx)(v.default,{pageState:s,onDelete:function(r,i){f.Modal.confirm({maskClosable:!0,title:"删除歌单",content:"是否要删除该歌单？",okText:"是",cancelText:"否",onOk:function(){var e,t,n=1===i?(t=s.create.findIndex(function(e){return e.id===r}),(e=s.create.slice()).splice(t,1),a(a({},s),{create:e})):(t=s.subscribe.findIndex(function(e){return e.id===r}),(n=s.subscribe.slice()).splice(t,1),a(a({},s),{subscribe:n}));return o(n),(0,d.deleteSonglist)(r)},onCancel:function(){f.Modal.destroyAll()}})}},void 0)}},74:function(e,t,n){"use strict";var g=this&&this.__assign||function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},x=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var b=n(10),_=n(0),w=r(n(302)),S=r(n(104)),O=n(15),k=n(14),P=r(n(23)),N=n(18),M=n(505),C=n(13),D=n(26);t.default=function(){var e=this;if(!(0,C.hasToken)())return(0,b.jsx)("div",{children:"私人 FM 需要登录使用"},void 0);var t=(0,_.useContext)(N.FuncContext),i=t.pauseSong,n=t.collectSong;(0,_.useEffect)(function(){document.title="私人FM"},[]),(0,_.useEffect)(function(){var e=document.getElementsByClassName(S.default.middle)[0],t=document.getElementsByClassName(S.default.bottom)[0];e.style.height="calc(100% - 64px)",e.style.transition="height 1s",t.style.display="none";var n=document.getElementById("toggleList");n.checked&&n.click(),i();var r=null;return navigator.mediaSession&&(r=navigator.mediaSession.metadata),function(){e.style.height="calc(100% - 128px)",t.style.display="block",setTimeout(function(){e.style.transition=""},1e3),r&&(navigator.mediaSession.metadata=r)}},[]);var r=(0,_.useState)(!1),s=r[0],o=r[1],a=(0,_.useState)(null),l=a[0],u=a[1],c=(t=(0,_.useState)([]))[0],d=t[1],f=(r=(0,_.useState)(!1))[0],v=r[1],h=(0,_.useRef)(null),p=(0,_.useRef)(null),m=(0,_.useRef)(null);(0,_.useEffect)(function(){0<c.length||j(e,void 0,void 0,function(){var t,n;return x(this,function(e){switch(e.label){case 0:return[4,(0,M.getFMList)()];case 1:return n=e.sent(),t=(0,D.resolveSongs)(n.data,"fm"),l||(n=t.pop(),u(n)),d(t),[2]}})})},[c]);var y=function(){var e,t;0!==c.length&&(t=(e=c.slice()).pop(),u(t),d(e),o(!1))};return(0,_.useEffect)(function(){var e,t,n,r;l&&navigator.mediaSession&&MediaMetadata&&(e=l.name,t=l.singers,n=l.cover,r=l.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[l]),(0,_.useEffect)(function(){l&&navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){h.current.play(),v(!0)}),navigator.mediaSession.setActionHandler("pause",function(){h.current.pause(),v(!1)}),navigator.mediaSession.setActionHandler("stop",function(){h.current.pause(),v(!1)}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",y))},[l,y]),l?(a=l.id,t=l.name,r=l.cover,(0,b.jsxs)("div",g({className:w.default["personal-fm"]},{children:[(0,b.jsx)("div",g({className:"title"},{children:"私人FM"}),void 0),(0,b.jsxs)("div",g({className:"music-box"},{children:[(0,b.jsx)("div",g({className:"image"},{children:(0,b.jsx)("img",{src:r+"?param=300y300"},void 0)}),void 0),(0,b.jsx)(O.Link,g({className:"song",to:"/Song?id="+a,target:"_blank",title:t},{children:t}),void 0),(0,b.jsx)("div",g({className:"progress-container",ref:p},{children:(0,b.jsx)("div",{className:"progress",ref:m,onClick:function(e){var t=m.current,t=(e.pageX-t.offsetLeft)/t.clientWidth;h.current.currentTime=t*l.duration}},void 0)}),void 0),(0,b.jsxs)("div",g({className:"btn-container"},{children:[(0,b.jsx)("div",g({className:"icon",title:f?"暂停":"播放",onClick:function(){f?h.current.pause():h.current.play(),v(!f)}},{children:f?(0,b.jsx)(k.PauseOutlined,{},void 0):(0,b.jsx)(k.CaretRightOutlined,{},void 0)}),void 0),(0,b.jsx)("div",g({className:"icon",title:"喜欢",onClick:function(){o(!0),n(l.id)}},{children:s?(0,b.jsx)(k.HeartFilled,{style:{color:"#c62f2f"}},void 0):(0,b.jsx)(k.HeartOutlined,{},void 0)}),void 0),(0,b.jsx)("div",g({className:"icon",title:"不喜欢",onClick:function(){(0,M.unlike)(l.id),y()}},{children:(0,b.jsx)(k.DeleteOutlined,{},void 0)}),void 0),(0,b.jsx)("div",g({className:"icon",title:"下一首",onClick:y},{children:(0,b.jsx)(k.StepForwardOutlined,{},void 0)}),void 0)]}),void 0)]}),void 0),(0,b.jsx)("audio",{ref:h,src:"https://music.163.com/song/media/outer/url?id="+a,onEnded:y,onCanPlay:function(){f&&h.current.play()},onTimeUpdate:function(e){var t=e.target.currentTime/l.duration*100+"%",e="-"+(0,C.convertTime)(l.duration-e.target.currentTime);p.current.style.setProperty("--time","'"+e+"'"),m.current.style.setProperty("--progress",t)}},void 0)]}),void 0)):(0,b.jsx)(P.default,{},void 0)}},75:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},o=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),l=n(0),u=n(17),c=n(26),d=n(49),f=i(n(110));t.default=function(){var e=this,i=(0,u.useQuery)("id");if(!/\d+/.test(i))return(0,a.jsx)("div",{children:"id 错误"},void 0);var t=(0,l.useState)(null),n=t[0],s=t[1];return(0,l.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,l.useEffect)(function(){s(null),r(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,d.playlistDetail)(i)];case 1:return r=e.sent(),t=(0,c.resolveDetail)(r),n=r.playlist.trackIds.map(function(e){return e.id}),[4,(0,d.playlistComment)(i)];case 2:return r=e.sent(),s({detail:t,songIds:n,comment:r}),[2]}})})},[i]),(0,a.jsx)(f.default,{pageState:n},void 0)}},76:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},l=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),u=n(0),c=i(n(111)),d=n(294),f=n(13),v=n(26),h=n(17),p={currentPage:1,total:0,type:"song",loading:!0,data:[]},m={song:"1",album:"10",singer:"100",playlist:"1000"};t.default=function(){var e=this,o=(0,h.useQuery)("keyword");if(!o)return(0,s.jsx)("div",{children:"请输入搜索内容"},void 0);var t=(0,h.useSetState)(p),n=t[0],a=t[1];return(0,u.useEffect)(function(){var i=n.currentPage,s=n.type;a({loading:!0});r(e,void 0,void 0,function(){var t,n,r;return l(this,function(e){switch(e.label){case 0:return t=30*(i-1),[4,(0,d.search)(o,m[s],t)];case 1:return t=e.sent(),"song"===s?(n=(0,v.resolveSongs)(t.result.songs,"search"),r=t.result.songCount):"album"===s?(n=t.result.albums.map(function(e){var t=e.id,n=e.name,r=e.artists;return{id:t,name:n,picUrl:(0,f.replaceHttpToHttps)(e.picUrl),singer:r.map(function(e){return{id:e.id,name:e.name}})}}),r=t.result.albumCount):"singer"===s?(n=t.result.artists.map(function(e){return{id:e.id,name:e.name,picUrl:(0,f.replaceHttpToHttps)(e.picUrl)}}),r=t.result.artistCount):"playlist"===s&&(n=t.result.playlists.map(function(e){var t=e.id,n=e.name,r=e.description;return{id:t,name:n,picUrl:(0,f.replaceHttpToHttps)(e.coverImgUrl),description:r}}),r=t.result.playlistCount),a({loading:!1,total:r,data:n}),[2]}})})},[o,n.currentPage,n.type]),(0,s.jsx)(c.default,{pageState:n,setPageState:a},void 0)}},77:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},a=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=n(0),c=n(17),d=n(26),f=n(508),v=i(n(113));t.default=function(){var e=this,s=(0,c.useQuery)("id"),t=(0,u.useState)(null),n=t[0],o=t[1];return(0,u.useEffect)(function(){o(null),r(e,void 0,void 0,function(){var t,n,r,i;return a(this,function(e){switch(e.label){case 0:return[4,(0,f.singerInfo)(s)];case 1:return t=e.sent(),[4,(0,f.singerDesc)(s)];case 2:return i=e.sent(),n={name:t.artist.name,alias:t.artist.alias,cover:t.artist.picUrl},r=(0,d.resolveSongs)(t.hotSongs,"detail"),i={intro:i.introduction,briefDesc:i.briefDesc},o({header:n,songList:r,intro:i}),[2]}})})},[s]),(0,u.useEffect)(function(){var e=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.name;e&&(document.title=e+"的音乐")},[n]),(0,l.jsx)(v.default,{pageState:n},void 0)}},78:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,o,a,l){return new(a=a||Promise)(function(n,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function i(e){try{s(l.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}s((l=l.apply(e,o||[])).next())})},l=this&&this.__generator||function(n,r){var i,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],s=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),u=n(0),c=n(47),d=n(17),f=n(26),v=i(n(114));t.default=function(){var e=this,o=(0,d.useQuery)("id");if(!o)return(0,s.jsx)("div",{children:"歌曲id错误"},void 0);var t=(0,u.useState)(null),n=t[0],a=t[1];return(0,u.useEffect)(function(){a(null),r(e,void 0,void 0,function(){var t,n,r,i,s;return l(this,function(e){switch(e.label){case 0:return[4,(0,c.songDetail)([o])];case 1:return t=e.sent(),[4,(0,c.getLyric)(o)];case 2:return s=e.sent(),n=(0,f.resolveDetail)(t),r=(0,f.resolveSongs)(t.songs,"detail"),i=(0,f.resolveLyric)(s),[4,(0,c.songComment)(o)];case 3:return s=e.sent(),a({detail:n,songList:r,lyric:i,comment:s}),[2]}})})},[o]),(0,u.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,s.jsx)(v.default,{pageState:n},void 0)}},79:function(e,t,n){"use strict";n.r(t);var r=n(81),i=n(10);t.default=function(){return Object(i.jsx)(r.default,{})}},80:function(e,t,n){"use strict";n.r(t);var r=n(82),i=n(10);t.default=function(){return Object(i.jsx)(r.default,{})}},81:function(e,t,n){"use strict";n.r(t);var r=n(17),i=n(10);t.default=function(){var e=Object(r.useQuery)("id");return Object(i.jsxs)("div",{className:"user",children:["User Id=",e]})}},82:function(e,t,n){"use strict";n.r(t);var r=n(17),i=n(10);t.default=function(){var e=Object(r.useQuery)("id");return Object(i.jsxs)("div",{className:"video",children:["Video Id=",e]})}},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(s.prototype.save=function(e,t){var n=this.cache,r=this.cacheIds;30<=r.length&&(r=r.shift(),n.delete(r)),n.set(e,t)},s.prototype.get=function(e){return this.cache.get(e)||null},s.prototype.del=function(t){var e=this.cache,n=this.cacheIds,r=n.findIndex(function(e){return e===t});-1!==r&&(n.splice(r,1),e.delete(t))},s.prototype.delAll=function(){this.cache.clear(),this.cacheIds=[]},s);function s(){this.cacheIds=[],this.cache=new Map}t.default=function(){return r=r||new i}}});