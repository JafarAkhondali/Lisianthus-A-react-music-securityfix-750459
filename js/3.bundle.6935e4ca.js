(window.webpackJsonp=window.webpackJsonp||[]).push([[3,18,26],{194:function(e,t,n){"use strict";n.r(t);n(63),n(303),n(110),n(78),n(59),n(71),n(38),n(79),n(60),n(54),n(72),n(70),n(53),n(80),n(62);var a=n(0),l=n.n(a),i=n(24),r=n(31);function o(e,t,n,a,r,c,l){try{var i=e[c](l),o=i.value}catch(e){return void n(e)}i.done?t(o):Promise.resolve(o).then(a,r)}function c(i){return function(){var e=this,l=arguments;return new Promise(function(t,n){var a=i.apply(e,l);function r(e){o(a,t,n,r,c,"next",e)}function c(e){o(a,t,n,r,c,"throw",e)}r(void 0)})}}var m=function(){var t=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)("/comment/album?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.a)("/album?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),s=n(61),f=n(226),d=n(307);function E(e,t,n,a,r,c,l){try{var i=e[c](l),o=i.value}catch(e){return void n(e)}i.done?t(o):Promise.resolve(o).then(a,r)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=Object(i.e)().search,r=Object(s.e)(e,"id");if(!r)return l.a.createElement("div",null,"id错误");var t=v(Object(a.useState)(null),2),e=t[0],c=t[1];return Object(a.useEffect)(function(){var e=function(){var i,e=(i=regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(r);case 2:return a=e.sent,t=Object(f.c)(a.songs),n=Object(f.a)(a),e.next=7,m(r);case 7:a=e.sent,c({detail:n,comment:a,songs:t});case 9:case"end":return e.stop()}},e)}),function(){var e=this,l=arguments;return new Promise(function(t,n){var a=i.apply(e,l);function r(e){E(a,t,n,r,c,"next",e)}function c(e){E(a,t,n,r,c,"throw",e)}r(void 0)})});return function(){return e.apply(this,arguments)}}();c(null),e()},[r]),l.a.createElement(d.default,{state:e})}},307:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(457),l=n(491),i=n(492),o=n(493),m=n(126);t.default=function(e){e=e.state;return e?r.a.createElement("div",{className:c.default.album},r.a.createElement(l.a,{data:e.detail,songs:e.songs}),r.a.createElement(i.a,{data:e.songs}),r.a.createElement(o.a,{data:e.comment,songs:e.songs})):r.a.createElement(m.a,null)}},457:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},491:function(e,t,n){"use strict";n(59),n(71),n(111),n(91),n(53),n(225),n(110),n(224),n(78),n(38),n(79),n(60),n(54),n(72),n(70),n(80);var a=n(0),p=n.n(a),y="detail_25jrL",b="list-left_2yfy6",g="image_2bPOj",h="list-right_2mj2G",N="title_1lnwV",j="btns_2-io8",w="creator_3n7vo",k="label_3EjNA",O="singer_1GFVl",S="lyric_1lU6E",_="toggle_384mF",A="description_3nXU6",a=n(223),x=n(176),C=n(88),I=n(481),F=n(476),U=n(486);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T=a.d.setPlaylist;t.a=function(e){var t=e.data,n=e.songs,a=e.lyric,r=t.isSonglist,c=t.isAlbum,l=t.isSong,i=t.title,o=t.cover,m=t.creator,u=t.labels,s=t.description,f=t.singers,d=t.publishTime,E=t.albumId,v=t.albumName,e=r?"歌单":c?"专辑":"单曲",t=n[0].isFree;return p.a.createElement("div",{className:y+" detail"},p.a.createElement("div",{className:b},p.a.createElement("div",{className:g},p.a.createElement("img",{src:"".concat(o,"?param=240y240")}))),p.a.createElement("div",{className:h},p.a.createElement("div",{className:N,style:{"--text":"'".concat(e,"'")}},i),c&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:O},"歌手：",f.map(function(e,t){var n=e.id,e=e.name;return p.a.createElement(p.a.Fragment,{key:t},p.a.createElement("a",{href:"#/Singer?id=".concat(n)},e),p.a.createElement("span",null," / "))})),p.a.createElement("div",null,"发行时间：",new Date(d).toLocaleDateString().replace(/\//g,"-"))),l&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:O},"歌手：",f.map(function(e,t){var n=e.id,e=e.name;return p.a.createElement(p.a.Fragment,{key:t},p.a.createElement("a",{href:"#/Singer?id=".concat(n)},e),p.a.createElement("span",null," / "))})),p.a.createElement("div",null,"所属专辑：",p.a.createElement("a",{href:"#/Album?id=".concat(E)},v))),r&&p.a.createElement("div",{className:w},p.a.createElement("a",{href:"#/User?id=".concat(m.id)},p.a.createElement("img",{src:"".concat(m.avatar,"?param=40y40")}),m.name),new Date(m.createTime).toLocaleString().replace(/[ ].+/,"").replace(/\//g,"-"),"创建"),p.a.createElement("div",{className:j},(c||r)&&p.a.createElement(C.a,{icon:p.a.createElement(I.a,null),onClick:function(){var e=n.filter(function(e){return e.isFree});T(e)}},"播放全部"),l&&p.a.createElement(p.a.Fragment,null,p.a.createElement(C.a,{icon:p.a.createElement(I.a,null),onClick:function(){T(n)},disabled:!t},"播放"),p.a.createElement(C.a,{icon:p.a.createElement(F.a,null),onClick:function(){Object(x.a)(n[0].id)},disabled:!t},"添加到歌单"),p.a.createElement(C.a,{icon:p.a.createElement(U.a,null),onClick:function(){Object(x.b)(name,id)},disabled:!t},"下载"))),r&&p.a.createElement("div",{className:k},"标签：",u.map(function(e,t){return p.a.createElement("span",{key:t},e)})),(r||c)&&p.a.createElement("div",{className:A},s),l&&p.a.createElement("input",{type:"checkbox",id:"toggle-lyric",className:_,style:{display:"none"}}),l&&0===a.length&&p.a.createElement("div",null,"暂无歌词"),l&&p.a.createElement("div",{className:S},a.map(function(e,t){var n=R(e,2),e=n[0],n=n[1];return p.a.createElement("p",{key:t},e,n&&p.a.createElement(p.a.Fragment,null,p.a.createElement("br",null),n))})),l&&p.a.createElement("label",{htmlFor:"toggle-lyric"})))}},492:function(e,t,n){"use strict";n(456),n(93),n(178),n(53),n(70),n(304),n(91),n(78),n(59),n(71),n(38),n(79),n(60),n(54),n(72),n(80);var a=n(0),d=n.n(a),r="songs_3dNMY",c="title_1N7Gm",E="icons_2bnDC",v="singer_3Y19L",p="playButton_3n5OR",y="fee_3nc7T",l=n(223),b=n(470),g=n(300),h=n(481),N=n(485),j=n(476),w=n(486),k=n(484),O=n(179),S=n(61),_=n(176);function A(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=e.data,o=e.isCreator,m=Object(a.useContext)(l.a).playlist,u=l.d.setPlaylist,t=i(Object(a.useState)(t),2),s=t[0],f=t[1];return d.a.createElement("div",{className:r},d.a.createElement("div",{className:c},"歌曲列表",d.a.createElement("span",null,s.length,"首歌")),d.a.createElement("table",null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",{scope:"col"}),d.a.createElement("th",{scope:"col"},"歌曲标题"),d.a.createElement("th",{scope:"col"},"时长"),d.a.createElement("th",{scope:"col"},"歌手"),d.a.createElement("th",{scope:"col"},"专辑"))),d.a.createElement("tbody",null,s.map(function(e,t){var a=e.id,n=e.name,r=e.singers,c=e.duration,l=e.isFree,i=e.albumId,e=e.albumName;return d.a.createElement("tr",{key:t,className:l?"":y},d.a.createElement("td",null,d.a.createElement("span",null,t+1),d.a.createElement(h.a,{className:p,onClick:function(){var t,e;t=a,e=s.find(function(e){return e.id===t}),u([e])}})),d.a.createElement("td",null,d.a.createElement("a",{href:"#/Song?id=".concat(a)},n),d.a.createElement("div",{className:E},l&&d.a.createElement(d.a.Fragment,null,d.a.createElement(N.a,{title:"添加到播放列表",onClick:function(){var t,e;t=a,m.find(function(e){return e.id===t})||(e=s.find(function(e){return e.id===t}),e=[].concat(A(m),[e]),u(e,!1))}}),d.a.createElement(j.a,{title:"收藏到歌单",onClick:function(){var e;e=a,Object(_.a)(e)}}),d.a.createElement(w.a,{title:"下载",onClick:function(){var e,t;e=n,t=a,Object(_.b)(e,t)}})),o&&d.a.createElement(k.a,{title:"删除",onClick:function(){var t,e,n;t=a,e=+Object(S.e)(window.location.hash,"id"),n=s.findIndex(function(e){return e.id===t}),b.a.confirm({title:"删除歌曲",content:"是否要删除歌曲 ".concat(s[n].name," ？"),okText:"是",cancelText:"否",onOk:function(){return Object(O.d)("del",e,[t]).then(function(){g.b.success("已删除");var e=s.slice();e.splice(n,1),f(e)})}})}}))),d.a.createElement("td",null,Object(S.b)(c)),d.a.createElement("td",null,r.map(function(e,t){var n=e.id,e=e.name;return d.a.createElement(d.a.Fragment,{key:t},d.a.createElement("a",{href:"#/Singer?id=".concat(n),title:e,className:v},e),d.a.createElement("span",null," / "))})),d.a.createElement("td",null,d.a.createElement("a",{href:"#/Album?id=".concat(i),title:e},e)))}))))}},493:function(e,t,n){"use strict";n(91);var a=n(0),l=n.n(a),i={"comment-list":"comment-list_1x3ow",title:"title_wQwDf",total:"total_15S_0","sub-title":"sub-title_26rkG",comment:"comment_QmkHt",container:"container_RtfsL",content:"content_8OEHS",image:"image_1WnJG",reply:"reply_2xYmi",footer:"footer_2kjrJ"},o=n(489),m=n(61);t.a=function(e){var t=e.data,n=t.hotComments,e=t.comments,t=t.total;return l.a.createElement("div",{className:i["comment-list"]},l.a.createElement("div",{className:i.title},"评论列表",l.a.createElement("span",{className:i.total},"共",t,"条")),0<n.length&&l.a.createElement("div",{className:i["sub-title"]},"精彩评论"),0<n.length&&n.map(function(e,t){var n=e.beReplied,a=e.content,r=e.user,c=e.time,e=e.likedCount;return l.a.createElement("div",{className:i.comment,key:t},l.a.createElement("div",{className:i.image},l.a.createElement("img",{src:"".concat(r.avatarUrl,"?param=50y50"),loading:"lazy"})),l.a.createElement("div",{className:i.container},l.a.createElement("div",{className:i.content},l.a.createElement("span",null,l.a.createElement("a",{href:"#/User?id=".concat(r.userId)},r.nickname,"："),a),n[0]&&l.a.createElement("div",{className:i.reply},l.a.createElement("span",null,l.a.createElement("a",{href:"#/User?id=".concat(n[0].user.userId)},n[0].user.nickname,"："),n[0].content))),l.a.createElement("div",{className:i.footer},l.a.createElement("span",{className:i.date},Object(m.a)(c)),l.a.createElement("span",{className:i.like},l.a.createElement(o.a,{style:{color:"#1890ff"}}),"(",e,")"))))}),0<e.length&&l.a.createElement("div",{className:i["sub-title"]},"最新评论"),0<e.length&&e.map(function(e,t){var n=e.beReplied,a=e.content,r=e.user,c=e.time,e=e.likedCount;return l.a.createElement("div",{className:i.comment,key:t},l.a.createElement("div",{className:i.image},l.a.createElement("img",{src:"".concat(r.avatarUrl,"?param=50y50"),loading:"lazy"})),l.a.createElement("div",{className:i.container},l.a.createElement("div",{className:i.content},l.a.createElement("span",null,l.a.createElement("a",{href:"#/User?id=".concat(r.userId)},r.nickname,"："),a),n[0]&&l.a.createElement("div",{className:i.reply},l.a.createElement("span",null,l.a.createElement("a",{href:"#/User?id=".concat(n[0].user.userId)},n[0].user.nickname,"："),n[0].content))),l.a.createElement("div",{className:i.footer},l.a.createElement("span",{className:i.date},Object(m.a)(c)),l.a.createElement("span",{className:i.like},l.a.createElement(o.a,{style:{color:"#1890ff"}}),"(",e,")"))))}))}}}]);