!function(o){function e(e){for(var t,n,r=e[0],a=e[1],l=e[2],i=0,u=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&u.push(c[n][0]),c[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);u.length;)u.shift()();return f.push.apply(f,l||[]),s()}function s(){for(var e,t=0;t<f.length;t++){for(var n=f[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==c[l]&&(r=!1)}r&&(f.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},c={1:0},f=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),a=0;a<r.length;a++)e(r[a]);var d=t;f.push([315,0,2]),s()}({103:function(e,t,n){"use strict";n.r(t),t.default={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}},104:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(294)),i=r(n(105)),u=r(n(70)),o=r(n(106)),s=r(n(22));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(s.default,null);var t=n.detail,e=n.songList,n=n.comment;return a.default.createElement("div",{className:l.default.album},a.default.createElement(i.default,{data:{detail:t,songList:e}}),a.default.createElement(u.default,{songList:e}),a.default.createElement(o.default,{data:n}))}},105:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=r(n(495)),s=r(n(496)),c=r(n(497)),f=r(n(498));t.default=function(e){var t=(i=e.data).detail,n=i.songList,r=i.songIds,a=i.lyric,l=t.isPlaylist,e=t.isAlbum,i=t.isSong;return u.default.createElement("div",{className:o.default.detail},l&&u.default.createElement(s.default,{detailData:t,songList:n,songIds:r}),e&&u.default.createElement(c.default,{detailData:t,songList:n}),i&&u.default.createElement(f.default,{detailData:t,songData:n[0],lyric:a}))}},106:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(501)),s=n(14),c=n(13),f=n(12);t.default=(0,u.memo)(function(e){var t=(r=e.data).hotComments,n=r.comments,e=r.total,r=function(e,t){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"sub-title"},e),t.map(function(e,t){var n=e.beReplied,r=e.content,a=e.user,l=e.time,e=e.likedCount;return u.default.createElement("div",{className:"comment",key:t},u.default.createElement("div",{className:"image"},u.default.createElement("img",{src:(0,f.replaceHttpToHttps)(a.avatarUrl)+"?param=50y50",loading:"lazy"})),u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"content"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+a.userId},a.nickname,"："),r),n[0]&&u.default.createElement("div",{className:"reply"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+n[0].user.userId},n[0].user.nickname,"："),n[0].content))),u.default.createElement("div",{className:"footer"},u.default.createElement("span",{className:"date"},(0,f.convertDate)(l)),u.default.createElement("span",{className:"like"},u.default.createElement(c.LikeOutlined,{style:{color:"#1890ff"}}),"(",e,")"))))}))};return u.default.createElement("div",{className:o.default["comment-list"]},u.default.createElement("div",{className:"title"},"评论列表",u.default.createElement("span",{className:"total"},"共 ",e," 条")),0<t.length&&r("精彩评论",t),0<n.length&&r("最新评论",n))})},107:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(296)),i=r(n(22)),u=r(n(49)),o=r(n(50)),s=r(n(51));t.default=function(e){var t=e.pageState,n=e.onPlayAll;if(!t)return a.default.createElement(i.default,null);var r=t.banner,e=t.recommendPlaylist,t=t.recentSong;return a.default.createElement("div",{className:l.default.discovery},a.default.createElement("div",{className:"banner"},a.default.createElement(u.default,{data:r})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"推荐歌单"),a.default.createElement(o.default,{data:e,onPlayAll:n})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"最新音乐"),a.default.createElement(s.default,{data:t})))}},108:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(300)),u=n(14),o=n(13),s=r(n(22)),c=n(12);t.default=function(e){var t=e.pageState,l=e.onDelete;return t?(e=t.create,t=t.subscribe,i.default.createElement("div",{className:a.default.view},i.default.createElement("div",{className:"title"},"我创建的歌单"),e.map(function(e){var t=e.name,n=e.coverImgUrl,r=e.trackCount,a=e.id;return i.default.createElement(u.Link,{className:"item",key:a,to:"/Playlist?id="+a},i.default.createElement("div",{className:"image"},i.default.createElement("img",{src:(0,c.replaceHttpToHttps)(n)+"?param=100y100",loading:"lazy"})),i.default.createElement("div",{className:"content"},i.default.createElement("span",null,t),i.default.createElement("span",null,r,"首")),i.default.createElement(o.DeleteOutlined,{className:"delete",onClick:function(e){e.preventDefault(),l(a,1)}}))}),i.default.createElement("div",{className:"title"},"我收藏的歌单"),t.map(function(e){var t=e.name,n=e.coverImgUrl,r=e.trackCount,a=e.id;return i.default.createElement(u.Link,{className:"item",key:a,to:"/Playlist?id="+a},i.default.createElement("div",{className:"image"},i.default.createElement("img",{src:(0,c.replaceHttpToHttps)(n)+"?param=100y100",loading:"lazy"})),i.default.createElement("div",{className:"content"},i.default.createElement("span",null,t),i.default.createElement("span",null,r,"首")),i.default.createElement(o.DeleteOutlined,{className:"delete",onClick:function(e){e.preventDefault(),l(a,2)}}))}))):i.default.createElement(s.default,null)}},109:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(302)),i=r(n(105)),u=r(n(70)),o=r(n(106)),s=r(n(22));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(s.default,null);var t=r.detail,n=r.songIds,e=r.comment,r=t.isCreator;return a.default.createElement("div",{className:l.default.playlist},a.default.createElement(i.default,{data:{detail:t,songIds:n}}),a.default.createElement(u.default,{songIds:n,isCreator:r}),a.default.createElement(o.default,{data:e}))}},110:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(0)),i=r(n(303)),u=r(n(304)),o=r(n(295)),s=r(n(22)),c=r(n(70)),f=r(n(52)),d=r(n(53)),m=r(n(54));t.default=function(e){var t=e.pageState,n=e.setPageState,r=t.loading,a=t.data,e=t.currentPage,t=t.total;return l.default.createElement("div",{className:i.default.view},l.default.createElement(u.default,{onChange:function(e){n({type:e,loading:!0,currentPage:1})}},l.default.createElement(u.default.Pane,{key:"song",text:"单曲"},r?l.default.createElement(s.default,null):l.default.createElement(c.default,{songList:a})),l.default.createElement(u.default.Pane,{key:"album",text:"专辑"},r?l.default.createElement(s.default,null):l.default.createElement(f.default,{data:a})),l.default.createElement(u.default.Pane,{key:"singer",text:"歌手"},r?l.default.createElement(s.default,null):l.default.createElement(d.default,{data:a})),l.default.createElement(u.default.Pane,{key:"playlist",text:"歌单"},r?l.default.createElement(s.default,null):l.default.createElement(m.default,{data:a}))),l.default.createElement(o.default,{currentPage:e,total:t,pageSize:30,onChange:function(e){n({currentPage:e})}}))}},111:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(505)),i=n(14);function u(e){e=e.children;return a.default.createElement("div",{className:l.default["link-image-list"]},e)}u.Item=function(e){var t=e.src,n=e.linkTo,e=e.text;return a.default.createElement("div",{className:"item"},a.default.createElement(i.Link,{to:n,className:"item-image"},a.default.createElement("img",{src:t+"?param=240y240",loading:"lazy"})),a.default.createElement(i.Link,{to:n,className:"item-info"},e))},t.default=u},112:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(305)),i=r(n(22)),u=r(n(70)),o=r(n(55)),s=r(n(304)),c=r(n(56));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(i.default,null);var t=n.header,e=n.songList,n=n.intro;return a.default.createElement("div",{className:l.default.singer},a.default.createElement(o.default,{data:t}),a.default.createElement(s.default,null,a.default.createElement(s.default.Pane,{key:"0",text:"热门作品"},a.default.createElement(u.default,{songList:e})),a.default.createElement(s.default.Pane,{key:"1",text:"歌手介绍"},a.default.createElement(c.default,{data:n}))))}},113:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(308)),i=r(n(105)),u=r(n(106)),o=r(n(22));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(o.default,null);var t=r.detail,n=r.songList,e=r.lyric,r=r.comment;return a.default.createElement("div",{className:l.default.song},a.default.createElement(i.default,{data:{detail:t,songList:n,lyric:e}}),a.default.createElement(u.default,{data:r}))}},12:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceHttpToHttps=t.debounce=t.throttle=t.convertDate=t.convertTime=t.hasToken=void 0;t.hasToken=function(){var e=Number(localStorage.getItem("timestampBefore"));if(Date.now()>=e)return localStorage.removeItem("timestampBefore"),localStorage.removeItem("token"),!1;e=localStorage.getItem("token");return Boolean(e)};t.convertTime=function(e){var t=e%60>>0;return(e/60>>0).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")};t.convertDate=function(e){var t=Date.now()-e,e=new Date(t);return t<=6e4?"刚刚":t<=36e5?(t/6e4>>0)+" 分钟前":t<=864e5?(t/36e5>>0)+" 小时前":1970<e.getFullYear()?e.getFullYear()-1970+" 年前":e.getMonth()?e.getMonth()+" 月前":e.getDate()-1+" 天前"};t.throttle=function(n,r){var a=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&(a=!1,n.call.apply(n,i([this],e,!1)),setTimeout(function(){a=!0},r))}};t.debounce=function(r,a){var l;return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(l),l=setTimeout(function(){r.call.apply(r,i([e],t,!1))},a)}};t.replaceHttpToHttps=function(e){return e.replace(/http\:/,"https:")}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useQuery=t.useSetState=t.useInterval=void 0;var r=n(0),a=n(14);t.useInterval=function(e,t){var n=(0,r.useRef)(function(){});(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t);return function(){return clearInterval(e)}}},[t])};t.useSetState=function(e){var t=(0,r.useState)(e=void 0===e?{}:e),e=t[0],n=t[1];return[e,(0,r.useCallback)(function(t){n(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]};t.useQuery=function(e){var t=(0,a.useLocation)().search,e=new RegExp("[?&]"+e+"=([\\w%]+)"),e=t.match(e);return e?e[1]:null}},17:function(e,u,o){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0}),u.FuncContext=u.StateContext=void 0;var f=c(o(0)),d=o(14),m=o(16),p=o(23),h=t(o(31)),v=t(o(47)),y=t(o(456)),g=t(o(490));o(492);var t={id:776039,name:"ONE's hope",singers:[{id:18303,name:"やなぎなぎ"}],duration:369.72,cover:"https://p1.music.126.net/l22TRH7bs4VG6HMT2Iy56w==/2511284557902801.jpg",isFree:!0,albumId:76484,albumName:"Colorful Parade"},b={isPlaying:!1,playlist:[t],playMode:"list-loop",playingItem:s(s({},t),{lyric:null})};u.StateContext=f.default.createContext(null),u.FuncContext=f.default.createContext(null),u.default=function(){var e=(0,d.useLocation)().pathname,t=(0,d.useHistory)(),n=(0,m.useSetState)(b),a=n[0],r=n[1],l=(0,f.useRef)(null);v.default.includes(e)||t.replace("/Discovery");var t=(0,f.useMemo)(function(){return f.default.lazy(function(){return Promise.resolve().then(function(){return c(o(493)("./routes"+e))})})},[e]),i=(0,f.useMemo)(function(){return{getSong:function(e,t){var n=t.playlist,r=t.playingItem,t=t.playMode,a=n.length;if(a<=1||"single-cycle"===t)return r;var l,i=n.findIndex(function(e){return e.id===r.id});switch(t){case"list-loop":l="next"===e?(i+1)%a:(a+i-1)%a;break;case"random":(l=Math.random()*a>>0)===i&&(l=(i+1)%a)}return n[l]},playSong:function(e,t){var n=e.id;r({isPlaying:!0,playingItem:s(s({},e),{lyric:null})}),(0,h.default)().play(n,t).then(function(e){e?(l.current.play(),r({playingItem:(0,h.default)().getPlayingItem()})):p.message.error("加载歌曲失败，id:"+n)})},collectSong:function(e){p.Modal.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:f.default.createElement(g.default,{id:e})})},pauseSong:function(){l.current.pause(),(0,h.default)().pause(),r({isPlaying:!1})},setPlaylist:function(e){r({playlist:e})},setPlayMode:function(e){r({playMode:e})}}},[]);return(0,f.useEffect)(function(){var e,t,n,r;navigator.mediaSession&&MediaMetadata&&a.playingItem&&(e=(r=a.playingItem).name,t=r.singers,n=r.cover,r=r.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[a]),(0,f.useEffect)(function(){navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){var e=a.playingItem;i.playSong(e)}),navigator.mediaSession.setActionHandler("pause",function(){i.pauseSong()}),navigator.mediaSession.setActionHandler("previoustrack",function(){var e=i.getSong("prev",a);i.playSong(e)}),navigator.mediaSession.setActionHandler("nexttrack",function(){var e=i.getSong("next",a);i.playSong(e)}))},[a]),(0,f.useEffect)(function(){(0,h.default)().setOnEnded(function(){var e=i.getSong;(0,i.playSong)(e("next",a))})},[a]),f.default.createElement(u.FuncContext.Provider,{value:i},f.default.createElement(u.StateContext.Provider,{value:a},f.default.createElement(y.default,{TargetComponent:t}),f.default.createElement("audio",{ref:l,src:"./silence.mp3",loop:!0})))}},22:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));n(457);var l=new Array(16).fill(0);t.default=function(){return a.default.createElement("div",{className:"loading-container"},a.default.createElement("div",{className:"loader"},l.map(function(e,t){return a.default.createElement("div",{className:"square",key:t})})),a.default.createElement("div",{className:"loading-text"},"加载中"))}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDetail=t.resolveSongs=t.resolveLyric=void 0;var f=n(12);t.resolveLyric=function(e){var t=e.uncollected,n=e.nolyric,r=e.lrc,e=e.tlyric;if(t||n)return[];function a(e,r){var t=e.lastIndexOf("]"),a=e.slice(t+1);e.match(/\d+\:\d+[\.\:]\d+/g).forEach(function(e){var t,n,n=(n=(t=e).match(/\d+/g),e=n[0],t=n[1],n=n[2],60*Number(e)+Number(t)+.001*Number(n));r?l[n]=[a,"",n]:l[n]&&(l[n][1]=a)})}var r=r.lyric.split("\n").filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}),e=(null===(e=null===(e=null==e?void 0:e.lyric)||void 0===e?void 0:e.split("\n"))||void 0===e?void 0:e.filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}))||[],l={};return r.forEach(function(e){return a(e,!0)}),e.forEach(function(e){return a(e,!1)}),Object.values(l).sort(function(e,t){return e[2]-t[2]})};t.resolveSongs=function(e,i){return e.map(function(e){var t=e.id,n=e.name,r=["topSong","fm","search"].includes(i)?e.album:e.al,a="detail"===i?e.ar:e.artists,l=["simiSong","fm","search"].includes(i)?e.duration:e.dt;return{id:t,name:n,isFree:1!==e.fee,duration:.001*l,singers:a.map(function(e){return{id:e.id,name:e.name}}),albumId:r.id,albumName:r.name,cover:(0,f.replaceHttpToHttps)(r.picUrl||"")}})};t.resolveDetail=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var a=e.playlist,l=a.name,i=a.tags,u=a.description,o=a.createTime,a=(0,f.replaceHttpToHttps)(e.playlist.coverImgUrl),o={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:(0,f.replaceHttpToHttps)(e.playlist.creator.avatarUrl),createTime:o};return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a,creator:o,isCreator:Number(localStorage.getItem("userid"))===o.id,tags:i,description:u}}if(n){var s=e.album,l=s.name,c=s.publishTime,u=s.description,s=e.album.artists.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a=(0,f.replaceHttpToHttps)(e.album.picUrl),singers:s,publishTime:c,description:u}}c=e.songs[0],l=c.name,u=c.al,c=u.id,u=u.name,s=e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a=(0,f.replaceHttpToHttps)(e.songs[0].al.picUrl),singers:s,albumId:c,albumName:u}}},27:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},l=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(268)),o={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.default=function(t,n){return void 0===n&&(n={}),a(void 0,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,(0,u.default)(r(r({url:"https://server0309.herokuapp.com"+t},o),n))];case 1:return[2,e.sent().data]}})})}},291:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.phoneLogin=t.emailLogin=void 0;var a=r(n(27)),l=r(n(460));t.emailLogin=function(e,t){return(0,a.default)("/login?email="+e+"&md5_password="+(0,l.default)(t),{method:"POST"})};t.phoneLogin=function(e,t){return(0,a.default)("/login/cellphone?phone="+e+"&md5_password="+(0,l.default)(t),{method:"POST"})};t.logout=function(){return(0,a.default)("/logout")}},293:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.searchSuggest=void 0;var a=r(n(27));t.searchSuggest=function(e){return(0,a.default)("/search/suggest?keywords="+e)};t.search=function(e,t,n){return(0,a.default)("/search?keywords="+e+"&type="+t+"&offset="+n)}},294:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},295:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=r(n(500)),s=r(n(103));t.default=function(e){var t=e.currentPage,n=e.total,r=e.pageSize,a=e.onChange,l=Math.ceil(n/r);return l<=1?null:u.default.createElement("div",{className:o.default.pagination},u.default.createElement("div",{className:"page-btn",onClick:function(){return i("prev")}},"<"),u.default.createElement("div",{className:"page"},t),u.default.createElement("div",{className:"page-btn",onClick:function(){return i("next")}},">"));function i(e){"prev"===e&&1<t?(document.getElementsByClassName(s.default.right)[0].scrollTop=0,a(t-1)):"next"===e&&t<l&&(document.getElementsByClassName(s.default.right)[0].scrollTop=0,a(t+1))}}},296:function(e,t,n){"use strict";n.r(t),t.default={discovery:"discovery_3WDUG"}},297:function(e,t,n){"use strict";n.r(t),t.default={carousel:"carousel_zTOnU"}},298:function(e,t,n){"use strict";n.r(t),t.default={"recommend-playlist":"recommend-playlist_oeGbV"}},299:function(e,t,n){"use strict";n.r(t),t.default={"recent-songlist":"recent-songlist_1kSQW"}},300:function(e,t,n){"use strict";n.r(t),t.default={view:"view_RhBwb"}},301:function(e,t,n){"use strict";n.r(t),t.default={"personal-fm":"personal-fm_27kHT"}},302:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_1gevM"}},303:function(e,t,n){"use strict";n.r(t),t.default={view:"view_ulEkr"}},304:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(504));function s(e){var n=e.children,r=e.onChange,t=(0,u.useMemo)(function(){var t=[];return u.default.Children.forEach(n,function(e){u.default.isValidElement(e)&&t.push({key:e.key,text:e.props.text,element:e})}),t},[n]),e=(0,u.useState)(t[0].key),a=e[0],l=e[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:o.default.tabs},t.map(function(e){var t=e.key,e=e.text;return u.default.createElement("div",{key:t,className:a===t?o.default["tab-active"]:o.default.tab,onClick:function(){l(t),r&&r(t)}},e)})),t.filter(function(e){return e.key===a})[0].element)}s.Pane=function(e){return e.children},t.default=s},305:function(e,t,n){"use strict";n.r(t),t.default={singer:"singer_C4mAo"}},306:function(e,t,n){"use strict";n.r(t),t.default={title:"title_-x2Xp",image:"image_vfSBc"}},307:function(e,t,n){"use strict";n.r(t),t.default={intro:"intro_3cW6L"}},308:function(e,t,n){"use strict";n.r(t),t.default={song:"song_3h_lc"}},31:function(e,t,n){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},s=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(n(27)),c=r(n(268)),f=r(n(93)),d=n(46),m=n(25),p=n(12),i=r(n(428)),h=(v.prototype.drawCanvas=function(){this.reqId=requestAnimationFrame(this.drawCanvas);var e=this.canvasContext,t=this.playingItem;if(t){var n=(0,i.default)(t.abuffer);e.clearRect(0,0,900,310);for(var r=900/n.length,a=0;a<n.length;++a){var l=310*n[a];e.fillRect(a*r,310-l,r,l)}}},v.prototype.getMusic=function(i){var n=this;return new Promise(function(a,e){var t,l=n.audioContext;n.rejectFn=e,i!==(null===(e=null===(e=n.playingItem)||void 0===e?void 0:e.info)||void 0===e?void 0:e.id)?(t=(0,f.default)().get(i))?l.decodeAudioData(t.buffer.slice(0)).then(function(e){a(u(u({},t),{abuffer:e}))}):(0,o.default)("/getMusicUrl?id="+i).then(function(e){var t;e.error||null!==(t=e.url)&&void 0!==t&&t.includes("music.163.com/404")?a(null):(e=e.url,e=(0,c.default)({url:(0,p.replaceHttpToHttps)(e),responseType:"arraybuffer"}).then(function(e){return e.data}).catch(function(e){return null}),Promise.all([e,(0,d.songDetail)([i]),(0,d.getLyric)(i)]).then(function(e){var t=e[0],n=e[1],e=e[2];if(null===t)return console.log("get music fail, id:",i),void a(null);var n=(0,m.resolveSongs)(n.songs,"detail")[0],e=(0,m.resolveLyric)(e),r={buffer:t,info:u(u({},n),{lyric:e})};(0,f.default)().save(i,r),l.decodeAudioData(t.slice(0)).then(function(e){r.info.duration=e.duration,a(u(u({},r),{abuffer:e}))})}))}):a(n.playingItem)})},v.prototype.restart=function(){return l(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.audioContext.resume()];case 1:return e.sent(),[2,!0]}})})},v.prototype.play=function(u,o){return l(this,void 0,void 0,function(){var t,n,r,a,l,i=this;return s(this,function(e){switch(e.label){case 0:return(l=(t=this).currentSource,n=t.audioContext,r=t.gainNode,a=t.playingItem,(0,t.rejectFn)(),"suspended"===n.state&&(this.restart(),a&&a.info.id===u&&void 0===o))?[2,!0]:(this.startTime=!1,l&&(l.onended=null,l.stop(0),l.disconnect()),[4,this.getMusic(u).catch(function(e){return null})]);case 1:return(a=e.sent())?((l=n.createBufferSource()).buffer=a.abuffer,l.connect(r),this.currentSource=l,this.startTime=n.currentTime-(o||0),l.start(n.currentTime,o||0),this.playingItem=a,l.onended=function(){i.startTime=!1,i.onEnded&&i.onEnded()},[2,!0]):[2,!1]}})})},v.prototype.pause=function(){return l(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.audioContext.suspend()];case 1:return e.sent(),[2,!0]}})})},v.prototype.setVolume=function(e){this.gainNode.gain.value=e},v.prototype.drawStart=function(){cancelAnimationFrame(this.reqId),this.reqId=requestAnimationFrame(this.drawCanvas)},v.prototype.drawStop=function(){this.canvasContext.clearRect(0,0,900,310),cancelAnimationFrame(this.reqId)},v.prototype.setCanvasContext=function(e){e.fillStyle="#6dccff",this.canvasContext=e},v.prototype.download=function(r,a){return l(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return[4,this.getMusic(r)];case 1:return(t=e.sent())?(n=new Blob([t.buffer]),t=URL.createObjectURL(n),(n=document.createElement("a")).href=t,n.download=a+".mp3",n.click(),URL.revokeObjectURL(t),[2,!0]):[2,!1]}})})},v.prototype.setOnEnded=function(e){this.onEnded=e},v.prototype.getCurrentTime=function(){var e=this.audioContext,t=this.startTime;return!1!==t?e.currentTime-t:0},v.prototype.getPlayingItem=function(){return this.playingItem.info},v);function v(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.canvasContext=null,this.currentSource=null,this.onEnded=null,this.startTime=!1,this.playingItem=null,this.rejectFn=function(){},this.drawCanvas=this.drawCanvas.bind(this),console.info("musicInstance",this)}t.default=function(){return a=a||new h}},315:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),t=r(n(10)),n=r(n(320));t.default.render(a.default.createElement(n.default,null),document.getElementById("root"))},320:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=n(14),i=r(n(17));n(507),t.default=function(){return a.default.createElement(l.HashRouter,null,a.default.createElement(i.default,null))}},393:function(e,t,n){var r={"./af":126,"./af.js":126,"./ar":127,"./ar-dz":128,"./ar-dz.js":128,"./ar-kw":129,"./ar-kw.js":129,"./ar-ly":130,"./ar-ly.js":130,"./ar-ma":131,"./ar-ma.js":131,"./ar-sa":132,"./ar-sa.js":132,"./ar-tn":133,"./ar-tn.js":133,"./ar.js":127,"./az":134,"./az.js":134,"./be":135,"./be.js":135,"./bg":136,"./bg.js":136,"./bm":137,"./bm.js":137,"./bn":138,"./bn-bd":139,"./bn-bd.js":139,"./bn.js":138,"./bo":140,"./bo.js":140,"./br":141,"./br.js":141,"./bs":142,"./bs.js":142,"./ca":143,"./ca.js":143,"./cs":144,"./cs.js":144,"./cv":145,"./cv.js":145,"./cy":146,"./cy.js":146,"./da":147,"./da.js":147,"./de":148,"./de-at":149,"./de-at.js":149,"./de-ch":150,"./de-ch.js":150,"./de.js":148,"./dv":151,"./dv.js":151,"./el":152,"./el.js":152,"./en-au":153,"./en-au.js":153,"./en-ca":154,"./en-ca.js":154,"./en-gb":155,"./en-gb.js":155,"./en-ie":156,"./en-ie.js":156,"./en-il":157,"./en-il.js":157,"./en-in":158,"./en-in.js":158,"./en-nz":159,"./en-nz.js":159,"./en-sg":160,"./en-sg.js":160,"./eo":161,"./eo.js":161,"./es":162,"./es-do":163,"./es-do.js":163,"./es-mx":164,"./es-mx.js":164,"./es-us":165,"./es-us.js":165,"./es.js":162,"./et":166,"./et.js":166,"./eu":167,"./eu.js":167,"./fa":168,"./fa.js":168,"./fi":169,"./fi.js":169,"./fil":170,"./fil.js":170,"./fo":171,"./fo.js":171,"./fr":172,"./fr-ca":173,"./fr-ca.js":173,"./fr-ch":174,"./fr-ch.js":174,"./fr.js":172,"./fy":175,"./fy.js":175,"./ga":176,"./ga.js":176,"./gd":177,"./gd.js":177,"./gl":178,"./gl.js":178,"./gom-deva":179,"./gom-deva.js":179,"./gom-latn":180,"./gom-latn.js":180,"./gu":181,"./gu.js":181,"./he":182,"./he.js":182,"./hi":183,"./hi.js":183,"./hr":184,"./hr.js":184,"./hu":185,"./hu.js":185,"./hy-am":186,"./hy-am.js":186,"./id":187,"./id.js":187,"./is":188,"./is.js":188,"./it":189,"./it-ch":190,"./it-ch.js":190,"./it.js":189,"./ja":191,"./ja.js":191,"./jv":192,"./jv.js":192,"./ka":193,"./ka.js":193,"./kk":194,"./kk.js":194,"./km":195,"./km.js":195,"./kn":196,"./kn.js":196,"./ko":197,"./ko.js":197,"./ku":198,"./ku.js":198,"./ky":199,"./ky.js":199,"./lb":200,"./lb.js":200,"./lo":201,"./lo.js":201,"./lt":202,"./lt.js":202,"./lv":203,"./lv.js":203,"./me":204,"./me.js":204,"./mi":205,"./mi.js":205,"./mk":206,"./mk.js":206,"./ml":207,"./ml.js":207,"./mn":208,"./mn.js":208,"./mr":209,"./mr.js":209,"./ms":210,"./ms-my":211,"./ms-my.js":211,"./ms.js":210,"./mt":212,"./mt.js":212,"./my":213,"./my.js":213,"./nb":214,"./nb.js":214,"./ne":215,"./ne.js":215,"./nl":216,"./nl-be":217,"./nl-be.js":217,"./nl.js":216,"./nn":218,"./nn.js":218,"./oc-lnc":219,"./oc-lnc.js":219,"./pa-in":220,"./pa-in.js":220,"./pl":221,"./pl.js":221,"./pt":222,"./pt-br":223,"./pt-br.js":223,"./pt.js":222,"./ro":224,"./ro.js":224,"./ru":225,"./ru.js":225,"./sd":226,"./sd.js":226,"./se":227,"./se.js":227,"./si":228,"./si.js":228,"./sk":229,"./sk.js":229,"./sl":230,"./sl.js":230,"./sq":231,"./sq.js":231,"./sr":232,"./sr-cyrl":233,"./sr-cyrl.js":233,"./sr.js":232,"./ss":234,"./ss.js":234,"./sv":235,"./sv.js":235,"./sw":236,"./sw.js":236,"./ta":237,"./ta.js":237,"./te":238,"./te.js":238,"./tet":239,"./tet.js":239,"./tg":240,"./tg.js":240,"./th":241,"./th.js":241,"./tk":242,"./tk.js":242,"./tl-ph":243,"./tl-ph.js":243,"./tlh":244,"./tlh.js":244,"./tr":245,"./tr.js":245,"./tzl":246,"./tzl.js":246,"./tzm":247,"./tzm-latn":248,"./tzm-latn.js":248,"./tzm.js":247,"./ug-cn":249,"./ug-cn.js":249,"./uk":250,"./uk.js":250,"./ur":251,"./ur.js":251,"./uz":252,"./uz-latn":253,"./uz-latn.js":253,"./uz.js":252,"./vi":254,"./vi.js":254,"./x-pseudo":255,"./x-pseudo.js":255,"./yo":256,"./yo.js":256,"./zh-cn":257,"./zh-cn.js":257,"./zh-hk":258,"./zh-hk.js":258,"./zh-mo":259,"./zh-mo.js":259,"./zh-tw":260,"./zh-tw.js":260};function a(e){e=l(e);return n(e)}function l(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=l,(e.exports=a).id=393},428:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(429)),u=r(n(31)),o=512,s=o/2+1,c=new Array(s).fill(0),f=function(e){return.54-.46*Math.cos(6.283185307179586*e/(o-1))},d=function(e){var t=new i.default(o),n=t.createComplexArray();t.realTransform(n,e);for(var r=0;r<s;++r){var a=n[2*r],l=n[2*r+1],l=Math.pow(Math.pow(a,2)+Math.pow(l,2),.5),l=20*Math.log10(l);isFinite(l)?l<c[r]?c[r]=.08*l+.92*c[r]:c[r]=.8*l+c[r]*(1-.8):c[r]=0}};t.default=function(e){for(var t=e.getChannelData(0),e=(0,u.default)().getCurrentTime()/e.duration*t.length>>0,n=t.slice(e,e+o),r=o-n.length,a=0;a<r;++a)n[n.length]=0;for(a=0;a<o;++a){var l=f(a);n[a]*=l}return d(n),c.map(function(e){return e?.0125*(e+20):0})}},429:function(e,t,n){"use strict";n.r(t);n(430);var r,a,l=(r=[function(e,t,n){function r(e){if(this.size=0|e,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(2*this.size),n=0;n<t.length;n+=2){var r=Math.PI*n/this.size;t[n]=Math.cos(r),t[n+1]=-Math.sin(r)}this.table=t;for(var a=0,l=1;this.size>l;l<<=1)a++;this._width=a%2==0?a-1:a,this._bitrev=new Array(1<<this._width);for(var i=0;i<this._bitrev.length;i++)for(var u=this._bitrev[i]=0;u<this._width;u+=2){var o=this._width-u-2;this._bitrev[i]|=(i>>>u&3)<<o}this._out=null,this._data=null,this._inv=0}(e.exports=r).prototype.fromComplexArray=function(e,t){for(var n=t||new Array(e.length>>>1),r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n},r.prototype.createComplexArray=function(){for(var e=new Array(this._csize),t=0;t<e.length;t++)e[t]=0;return e},r.prototype.toComplexArray=function(e,t){for(var n=t||this.createComplexArray(),r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n},r.prototype.completeSpectrum=function(e){for(var t=this._csize,n=t>>>1,r=2;r<n;r+=2)e[t-r]=e[r],e[t-r+1]=-e[r+1]},r.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,l=this._bitrev;if(4===a)for(e=f=0;f<n;f+=a,e++){var i=l[e];this._singleTransform2(f,i,r)}else for(e=f=0;f<n;f+=a,e++){var u=l[e];this._singleTransform4(f,u,r)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>2,f=0;f<n;f+=a)for(var d=f+c,m=f,p=0;m<d;m+=2,p+=r){var h=m,v=h+c,y=v+c,g=y+c,b=t[h],_=t[h+1],E=t[v],w=t[v+1],j=t[y],O=t[y+1],S=t[g],x=t[g+1],k=s[p],P=o*s[p+1],M=E*k-w*P,E=E*P+w*k,P=s[2*p],w=o*s[2*p+1],k=j*P-O*w,j=j*w+O*P,w=s[3*p],O=o*s[3*p+1],P=S*w-x*O,S=S*O+x*w,O=b+k,x=_+j,w=b-k,b=_-j,k=M+P,_=E+S,j=o*(M-P),M=o*(E-S),P=x+_,E=O-k,S=x-_,x=w+M,_=b-j,M=w-M,j=b+j;t[h]=O+k,t[h+1]=P,t[v]=x,t[v+1]=_,t[y]=E,t[y+1]=S,t[g]=M,t[g+1]=j}},r.prototype._singleTransform2=function(e,t,n){var r=this._out,a=this._data,l=a[t],i=a[t+1],u=a[t+n],a=a[t+n+1],t=i+a,n=l-u,a=i-a;r[e]=l+u,r[e+1]=t,r[e+2]=n,r[e+3]=a},r.prototype._singleTransform4=function(e,t,n){var r=this._out,a=this._data,l=this._inv?-1:1,i=2*n,u=3*n,o=a[t],s=a[t+1],c=a[t+n],f=a[t+n+1],d=a[t+i],m=a[t+i+1],n=a[t+u],i=a[t+u+1],a=o+d,t=s+m,u=o-d,o=s-m,d=c+n,s=f+i,m=l*(c-n),c=l*(f-i),n=t+s,l=u+c,f=o-m,i=a-d,s=t-s,c=u-c,m=o+m;r[e]=a+d,r[e+1]=n,r[e+2]=l,r[e+3]=f,r[e+4]=i,r[e+5]=s,r[e+6]=c,r[e+7]=m},r.prototype._realTransform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,l=this._bitrev;if(4===a)for(e=m=0;m<n;m+=a,e++){var i=l[e];this._singleRealTransform2(m,i>>>1,r>>>1)}else for(e=m=0;m<n;m+=a,e++){var u=l[e];this._singleRealTransform4(m,u>>>1,r>>>1)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>1,f=c>>>1,d=f>>>1,m=0;m<n;m+=a)for(var p=0,h=0;p<=d;p+=2,h+=r){var v=m+p,y=v+f,g=y+f,b=g+f,_=t[v],E=t[v+1],w=t[y],j=t[y+1],O=t[g],S=t[g+1],x=t[b],k=t[b+1],P=s[h],M=o*s[h+1],b=w*P-j*M,w=w*M+j*P,M=s[2*h],j=o*s[2*h+1],P=O*M-S*j,O=O*j+S*M,j=s[3*h],S=o*s[3*h+1],M=x*j-k*S,x=x*S+k*j,S=_+P,k=E+O,j=_-P,_=E-O,P=b+M,E=w+x,O=o*(b-M),b=o*(w-x),M=k+E,w=j+b,x=_-O;t[v]=S+P,t[v+1]=M,t[y]=w,t[y+1]=x,0!==p?p!==d&&(w=-_+-o*O,y=S+-o*P,x=-k- -o*E,_=m+c-p,t[O=m+f-p]=j+-o*b,t[1+O]=w,t[_]=y,t[1+_]=x):(E=k-E,t[g]=S-P,t[g+1]=E)}},r.prototype._singleRealTransform2=function(e,t,n){var r=this._out,a=this._data,l=a[t],t=a[t+n],n=l-t;r[e]=l+t,r[e+1]=0,r[e+2]=n,r[e+3]=0},r.prototype._singleRealTransform4=function(e,t,n){var r=this._out,a=this._data,l=this._inv?-1:1,i=a[t],u=a[t+n],o=a[t+2*n],a=a[t+3*n],t=i+o,n=i-o,i=u+a,o=l*(u-a),l=n,u=-o,a=t-i,n=n,o=o;r[e]=t+i,r[e+1]=0,r[e+2]=l,r[e+3]=u,r[e+4]=a,r[e+5]=0,r[e+6]=n,r[e+7]=o}}],a={},i.m=r,i.c=a,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0));function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}t.default=l},456:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(103)),s=i(n(22)),c=i(n(458)),f=i(n(471)),d=i(n(473));t.default=(0,u.memo)(function(e){return e=e.TargetComponent,u.default.createElement("div",{className:o.default.layout},u.default.createElement("div",{className:o.default.top},u.default.createElement(c.default,null)),u.default.createElement("div",{className:o.default.middle},u.default.createElement("div",{className:o.default.left},u.default.createElement(f.default,null)),u.default.createElement("div",{className:o.default.right},u.default.createElement(u.Suspense,{fallback:u.default.createElement(s.default,null)},u.default.createElement(e,null)))),u.default.createElement("div",{className:o.default.bottom},u.default.createElement(d.default,null)))})},457:function(e,t,n){"use strict";n.r(t)},458:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),c=o(n(459)),f=n(23),d=n(13),m=n(12),p=n(291),h=o(n(469)),v=o(n(470));t.default=(0,s.memo)(function(){var e=this,t=(0,s.useState)({name:null,avatar:null}),n=t[0],r=t[1],a=(t=(0,s.useState)(!1))[0],l=t[1];return(0,s.useEffect)(function(){var e,t;(0,m.hasToken)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&r({name:e,avatar:t}))},[]),t=function(){null===n.name&&l(!a)},s.default.createElement("div",{className:c.default.header},s.default.createElement(f.Avatar,{onClick:t,size:40,icon:s.default.createElement(d.UserOutlined,null),src:n.avatar?n.avatar+"?param=80y80":null}),s.default.createElement("div",{className:"username"},n.name||"未登录"),n.name&&s.default.createElement("div",{className:"logout",onClick:function(){return i(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,(0,p.logout)()];case 1:return 200===e.sent().code&&(window.localStorage.clear(),r({name:null,avatar:null})),[2]}})})}},"退出登录"),s.default.createElement(v.default,null),a&&s.default.createElement(h.default,{onCancel:t,setUserInfo:r}))})},459:function(e,t,n){"use strict";n.r(t),t.default={header:"header_2ZE5y"}},46:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},a=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLyric=t.songDetail=t.songComment=void 0;var i=l(n(27));t.songComment=function(e){return(0,i.default)("/comment/music?id="+e)};t.songDetail=function(e){return(0,i.default)("/song/detail?ids="+e.join())};t.getLyric=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,i.default)("/lyric?id="+t)]})})}},460:function(e,t,n){"use strict";n.r(t);n(461);function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t,n,r,a,l){return f((l=f(f(t,e),f(r,l)))<<a|l>>>32-a,n)}function d(e,t,n,r,a,l,i){return u(t&n|~t&r,e,t,a,l,i)}function m(e,t,n,r,a,l,i){return u(t&r|n&~r,e,t,a,l,i)}function p(e,t,n,r,a,l,i){return u(t^n^r,e,t,a,l,i)}function h(e,t,n,r,a,l,i){return u(n^(t|~r),e,t,a,l,i)}function i(e,t){var n,r,a,l;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,u=-271733879,o=-1732584194,s=271733878,c=0;c<e.length;c+=16)i=d(n=i,r=u,a=o,l=s,e[c],7,-680876936),s=d(s,i,u,o,e[c+1],12,-389564586),o=d(o,s,i,u,e[c+2],17,606105819),u=d(u,o,s,i,e[c+3],22,-1044525330),i=d(i,u,o,s,e[c+4],7,-176418897),s=d(s,i,u,o,e[c+5],12,1200080426),o=d(o,s,i,u,e[c+6],17,-1473231341),u=d(u,o,s,i,e[c+7],22,-45705983),i=d(i,u,o,s,e[c+8],7,1770035416),s=d(s,i,u,o,e[c+9],12,-1958414417),o=d(o,s,i,u,e[c+10],17,-42063),u=d(u,o,s,i,e[c+11],22,-1990404162),i=d(i,u,o,s,e[c+12],7,1804603682),s=d(s,i,u,o,e[c+13],12,-40341101),o=d(o,s,i,u,e[c+14],17,-1502002290),i=m(i,u=d(u,o,s,i,e[c+15],22,1236535329),o,s,e[c+1],5,-165796510),s=m(s,i,u,o,e[c+6],9,-1069501632),o=m(o,s,i,u,e[c+11],14,643717713),u=m(u,o,s,i,e[c],20,-373897302),i=m(i,u,o,s,e[c+5],5,-701558691),s=m(s,i,u,o,e[c+10],9,38016083),o=m(o,s,i,u,e[c+15],14,-660478335),u=m(u,o,s,i,e[c+4],20,-405537848),i=m(i,u,o,s,e[c+9],5,568446438),s=m(s,i,u,o,e[c+14],9,-1019803690),o=m(o,s,i,u,e[c+3],14,-187363961),u=m(u,o,s,i,e[c+8],20,1163531501),i=m(i,u,o,s,e[c+13],5,-1444681467),s=m(s,i,u,o,e[c+2],9,-51403784),o=m(o,s,i,u,e[c+7],14,1735328473),i=p(i,u=m(u,o,s,i,e[c+12],20,-1926607734),o,s,e[c+5],4,-378558),s=p(s,i,u,o,e[c+8],11,-2022574463),o=p(o,s,i,u,e[c+11],16,1839030562),u=p(u,o,s,i,e[c+14],23,-35309556),i=p(i,u,o,s,e[c+1],4,-1530992060),s=p(s,i,u,o,e[c+4],11,1272893353),o=p(o,s,i,u,e[c+7],16,-155497632),u=p(u,o,s,i,e[c+10],23,-1094730640),i=p(i,u,o,s,e[c+13],4,681279174),s=p(s,i,u,o,e[c],11,-358537222),o=p(o,s,i,u,e[c+3],16,-722521979),u=p(u,o,s,i,e[c+6],23,76029189),i=p(i,u,o,s,e[c+9],4,-640364487),s=p(s,i,u,o,e[c+12],11,-421815835),o=p(o,s,i,u,e[c+15],16,530742520),i=h(i,u=p(u,o,s,i,e[c+2],23,-995338651),o,s,e[c],6,-198630844),s=h(s,i,u,o,e[c+7],10,1126891415),o=h(o,s,i,u,e[c+14],15,-1416354905),u=h(u,o,s,i,e[c+5],21,-57434055),i=h(i,u,o,s,e[c+12],6,1700485571),s=h(s,i,u,o,e[c+3],10,-1894986606),o=h(o,s,i,u,e[c+10],15,-1051523),u=h(u,o,s,i,e[c+1],21,-2054922799),i=h(i,u,o,s,e[c+8],6,1873313359),s=h(s,i,u,o,e[c+15],10,-30611744),o=h(o,s,i,u,e[c+6],15,-1560198380),u=h(u,o,s,i,e[c+13],21,1309151649),i=h(i,u,o,s,e[c+4],6,-145523070),s=h(s,i,u,o,e[c+11],10,-1120210379),o=h(o,s,i,u,e[c+2],15,718787259),u=h(u,o,s,i,e[c+9],21,-343485551),i=f(i,n),u=f(u,r),o=f(o,a),s=f(s,l);return[i,u,o,s]}function o(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function s(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function r(e){for(var t,n="0123456789abcdef",r="",a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function a(e){return unescape(encodeURIComponent(e))}function l(e){return o(i(s(e=a(e)),8*e.length))}function c(e,t){return function(e,t){var n,r=s(e),a=[],l=[];for(a[15]=l[15]=void 0,16<r.length&&(r=i(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],l[n]=1549556828^r[n];return t=i(a.concat(s(t)),512+8*t.length),o(i(l.concat(t),640))}(a(e),a(t))}t.default=function(e,t,n){return t?n?c(t,e):r(c(t,e)):n?l(e):r(l(e))}},469:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return l(t,e),t},d=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},m=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),p=n(23),h=n(291),v=n(12),y={labelCol:{span:4},wrapperCol:{span:20}},g={wrapperCol:{offset:18,span:4}};t.default=function(e){var t=this,o=e.onCancel,s=e.setUserInfo,c=(e=(0,u.useState)(!1))[0],f=e[1];return u.default.createElement(p.Modal,{title:"登录",visible:!0,onCancel:o,footer:null},u.default.createElement(p.Form,r({},y,{onFinish:function(u){return d(t,void 0,void 0,function(){var t,n,r,a,l,i;return m(this,function(e){switch(e.label){case 0:if(t=u.username,n=u.password,!t||!n)return[2];if(/^[\w-.]+@[\w-.]+\.\w+$/.test(t))r="email";else{if(!/^1[3-9]\d{9}$/.test(t))return[2];r="phone"}return c?[2]:(f(!0),"email"!==r?[3,2]:[4,(0,h.emailLogin)(t,n)]);case 1:return l=e.sent(),[3,4];case 2:return[4,(0,h.phoneLogin)(t,n)];case 3:l=e.sent(),e.label=4;case 4:return a=l,window.localStorage.setItem("username",a.profile.nickname),window.localStorage.setItem("avatar",(0,v.replaceHttpToHttps)(a.profile.avatarUrl)),window.localStorage.setItem("userid",a.account.id),window.localStorage.setItem("token",a.token),i=Number(a.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1]),window.localStorage.setItem("timestampBefore",String(Date.now()+1e3*i)),s({name:a.profile.nickname,avatar:(0,v.replaceHttpToHttps)(a.profile.avatarUrl)}),o(),[2]}})})}}),u.default.createElement(p.Form.Item,{label:"账号",name:"username",rules:[{required:!0,message:"请输入账号"}]},u.default.createElement(p.Input,{placeholder:"输入手机号或邮箱"})),u.default.createElement(p.Form.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},u.default.createElement(p.Input,{type:"password",placeholder:"输入密码",autoComplete:"on"})),u.default.createElement(p.Form.Item,r({},g),u.default.createElement(p.Button,{type:"primary",htmlType:"submit",loading:c},"登录"))))}},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["/Album","/Discovery","/MySongList","/PersonalFM","/Playlist","/Search","/Singer","/Song","/User","/Video"]},470:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},f=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},d=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var m=l(n(0)),p=n(14),h=n(23),v=n(13),y=n(12),g=n(293);t.default=function(){var e=this,t=(0,p.useHistory)(),n=(0,m.useState)(""),r=n[0],a=n[1],l=(o=(0,m.useState)(!1))[0],i=o[1],u=(0,m.useRef)(null),o=(n=(0,m.useState)({}))[0],s=n[1],c=(0,m.useCallback)((0,y.debounce)(function(r){return f(e,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,(0,g.searchSuggest)(r)];case 1:return t=e.sent().result,n={},Array.isArray(t.songs)&&(n.songs=t.songs.map(function(e){return{path:"/Song?id="+e.id,text:e.name+" - "+e.artists.map(function(e){return e.name}).join("/")}})),Array.isArray(t.albums)&&(n.albums=t.albums.map(function(e){return{path:"/Album?id="+e.id,text:e.name+" - "+e.artist.name}})),Array.isArray(t.artists)&&(n.singers=t.artists.map(function(e){return{path:"/Singer?id="+e.id,text:e.name}})),Array.isArray(t.playlists)&&(n.playlists=t.playlists.map(function(e){return{path:"/Playlist?id="+e.id,text:e.name}})),s(n),[2]}})})},800),[]);return(0,m.useEffect)(function(){r&&c(r)},[r]),m.default.createElement("div",{className:"search-container"},m.default.createElement(h.Input,{className:"search-input",placeholder:"搜索音乐",suffix:m.default.createElement(v.SearchOutlined,null),ref:u,onFocus:function(){return i(!0)},onBlur:function(){return setTimeout(i,100,!1)},value:r,onChange:function(e){return a(e.target.value)},onPressEnter:function(){u.current&&u.current.blur(),t.push("/Search?keyword="+r),a(""),s({})},style:{width:l?320:160}}),l&&m.default.createElement("div",{className:"search-suggest"},o.songs&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"单曲"),m.default.createElement("div",{className:"search-suggest-list"},o.songs.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.albums&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"专辑"),m.default.createElement("div",{className:"search-suggest-list"},o.albums.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.singers&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"歌手"),m.default.createElement("div",{className:"search-suggest-list"},o.singers.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)}))),o.playlists&&m.default.createElement("div",null,m.default.createElement("div",{className:"search-suggest-title"},"歌单"),m.default.createElement("div",{className:"search-suggest-list"},o.playlists.map(function(e){return m.default.createElement(p.Link,{className:"search-suggest-item",to:e.path,key:e.path},e.text)})))))}},471:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(472)),s=n(14),c=n(13);t.default=(0,u.memo)(function(){var e=(0,u.useState)("Discovery"),r=e[0],t=e[1],n=(0,s.useLocation)().pathname;return(0,u.useEffect)(function(){t(n.slice(1))},[n]),u.default.createElement("div",{className:o.default.container},u.default.createElement("input",{type:"checkbox",id:"toggle",className:"input-toggle"}),u.default.createElement("div",{className:"sidebar"},u.default.createElement("div",{className:"category"},"推荐"),[{text:"发现音乐",Icon:c.SearchOutlined,key:"Discovery"},{text:"私人FM",Icon:c.CustomerServiceOutlined,key:"PersonalFM"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"我的音乐"),[{text:"我的歌单",Icon:c.HeartOutlined,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"GitHub"),u.default.createElement("a",{className:"item",href:"https://github.com/lisianthus-a/react-music",target:"_blank"},u.default.createElement(c.GithubOutlined,null)," 项目地址"),u.default.createElement("a",{className:"item",href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},u.default.createElement(c.FileTextOutlined,null)," API文档")),u.default.createElement("label",{htmlFor:"toggle"},u.default.createElement("div",{className:"toggle"})))})},472:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3Mt4v"}},473:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(474)),s=n(17),c=n(16),f=i(n(31)),d=i(n(475)),m=i(n(477)),p=i(n(479)),h=i(n(488));t.default=(0,u.memo)(function(){var e=(0,u.useContext)(s.StateContext),t=(l=(0,u.useState)(0))[0],n=l[1],r=e.isPlaying,a=e.playMode,l=e.playlist,e=e.playingItem;return(0,c.useInterval)(function(){var e=(0,f.default)().getCurrentTime();n(e)},300),u.default.createElement("div",{className:o.default["music-player"]},u.default.createElement(d.default,{playingItem:e,currentTime:t}),u.default.createElement(m.default,null),u.default.createElement(p.default,{isPlaying:r,playingItem:e,playlist:l,playMode:a,currentTime:t}),u.default.createElement(h.default,{playingItem:e,currentTime:t,setCurrentTime:n}))})},474:function(e,t,n){"use strict";n.r(t),t.default={"music-player":"music-player_39d43"}},475:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(476)),s=n(14),c=n(12);t.default=function(e){var t=e.playingItem,n=e.currentTime,r=t.id,a=t.name,l=t.cover,i=t.singers,e=t.duration,t=(0,u.useMemo)(function(){return i.map(function(e){return e.name}).join("/")},[i]),e=(0,c.convertTime)(n)+" / "+(0,c.convertTime)(e);return u.default.createElement("div",{className:o.default.container},u.default.createElement("img",{src:l+"?param=50y50"}),u.default.createElement("div",{className:"information"},u.default.createElement("div",{className:"song"},u.default.createElement(s.Link,{to:"/Song?id="+r},a)," - ",u.default.createElement("span",{className:"singer",title:t},t)),u.default.createElement("div",{className:"time"},e)))}},476:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3o_Fk"}},477:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),s=i(n(478)),c=n(13),f=n(17);t.default=(0,o.memo)(function(){function e(e){e=n(e,l),r(e)}var t=(0,o.useContext)(f.FuncContext),n=t.getSong,r=t.playSong,a=t.pauseSong,l=(0,o.useContext)(f.StateContext),i=l.isPlaying,u=l.playingItem;return o.default.createElement("div",{className:s.default.container},o.default.createElement("div",{className:"prev",title:"上一首",onClick:function(){return e("prev")}},o.default.createElement(c.StepBackwardOutlined,null)),o.default.createElement("div",{className:"play-or-pause",onClick:function(){i?a():r(u)},title:"播放/暂停"},i?o.default.createElement(c.PauseOutlined,null):o.default.createElement(c.CaretRightOutlined,null)),o.default.createElement("div",{className:"next",title:"下一首",onClick:function(){return e("next")}},o.default.createElement(c.StepForwardOutlined,null)))})},478:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3ew1h"}},479:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(0)),i=r(n(480)),u=r(n(481)),o=r(n(483)),s=r(n(486));t.default=function(e){var t=e.isPlaying,n=e.playingItem,r=e.playlist,a=e.playMode,e=e.currentTime;return l.default.createElement("div",{className:i.default["other-button"]},l.default.createElement(u.default,{isPlaying:t,playingItem:n,playlist:r,currentTime:e}),l.default.createElement(o.default,{playMode:a}),l.default.createElement(s.default,null))}},48:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userPlaylist=t.deleteSonglist=t.songlistSubscribe=t.songlistTracks=t.playlistComment=t.playlistDetail=void 0;var a=r(n(27));t.playlistDetail=function(e){return(0,a.default)("/playlist/detail?id="+e)};t.playlistComment=function(e){return(0,a.default)("/comment/playlist?id="+e)};t.songlistTracks=function(e,t,n){return(0,a.default)("/playlist/tracks?op="+e+"&pid="+t+"&tracks="+n)};t.songlistSubscribe=function(e,t){return(0,a.default)("/playlist/subscribe?t="+(t=void 0===t?1:t)+"&id="+e)};t.deleteSonglist=function(e){return(0,a.default)("/playlist/delete?id="+e)};t.userPlaylist=function(e){return(0,a.default)("/user/playlist?uid="+e)}},480:function(e,t,n){"use strict";n.r(t),t.default={"other-button":"other-button_1-Ybf"}},481:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},h=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},v=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=l(n(0)),g=i(n(482)),b=n(13),_=n(12),E=n(16),w=i(n(31)),j=i(n(93)),O=n(17);t.default=function(e){var u=this,o=e.isPlaying,s=e.playlist,c=e.playingItem,l=e.currentTime,f=(t=(0,y.useContext)(O.FuncContext)).playSong,i=t.collectSong,d=t.setPlaylist,t=(e=(0,y.useState)(c.lyric))[0],n=e[1],r=(0,y.useRef)(null),m=(0,y.useRef)(null),p=(0,y.useRef)(null),a=(0,y.useRef)(c.id);return(0,E.useInterval)(function(){if(toggleList.checked){var a=m.current.getElementsByClassName("lyric");if(0!==a.length){var e=Number(a[0].dataset.time);if(Number(a[a.length-1].dataset.time)<=l)t=a[a.length-1];else{if(l<=e)return;var e=function(){for(var e=0,t=a.length-1;e<=t;){var n=e+t>>1,r=Number(a[n].dataset.time);l<r?t=n-1:e=1+n}return e-1}(),t=a[e]}p.current!==t&&(p.current&&p.current.classList.remove("active"),(p.current=t).classList.add("active"),t=p.current.offsetTop+p.current.scrollHeight/2-195,m.current.scrollTop=t<0?0:t)}}},400),(0,y.useEffect)(function(){c.id!==a.current?(p.current&&p.current.classList.remove("active"),m.current.scrollTop=0,a.current=c.id,n(c.lyric)):c.lyric&&n(c.lyric)},[c]),(0,y.useEffect)(function(){var e;r.current&&(e=r.current.getContext("2d"),(0,w.default)().setCanvasContext(e),(0,w.default)().drawStart())},[r]),y.default.createElement("div",{className:g.default.playlist},y.default.createElement("div",{className:"icon",title:"播放列表"},y.default.createElement("label",{htmlFor:"toggleList"},y.default.createElement(b.UnorderedListOutlined,null),s.length)),y.default.createElement("input",{type:"checkbox",id:"toggleList",className:"toggle"}),y.default.createElement("div",{className:"list"},y.default.createElement("canvas",{ref:r,height:"310",width:"900"}),y.default.createElement("div",{className:"list-left"},y.default.createElement("div",{className:"title"},y.default.createElement("span",null,"播放列表 (",s.length,")"),y.default.createElement("span",{className:"clean",onClick:function(){(0,j.default)().delAll(),d([])}},y.default.createElement(b.DeleteOutlined,null)," 清空")),y.default.createElement("div",{className:"content"},s.map(function(e,t){var r=e.id,a=e.name,n=e.singers,e=e.duration;return y.default.createElement("div",{className:r===c.id?"item playing":"item",key:r,onClick:function(){return n=t,h(u,void 0,void 0,function(){var t;return v(this,function(e){return t=s[n],f(t),[2]})});var n}},r===c.id&&y.default.createElement(b.CaretRightOutlined,null),y.default.createElement("div",{className:"song-title",title:a},a),y.default.createElement("div",{className:"icons"},y.default.createElement(b.PlusOutlined,{title:"添加到歌单",onClick:function(e){return t=r,e.stopPropagation(),void i(t);var t}}),y.default.createElement(b.DownloadOutlined,{title:"下载",onClick:function(e){return t=r,n=a,e.stopPropagation(),void(0,w.default)().download(t,n);var t,n}}),y.default.createElement(b.DeleteOutlined,{title:"删除",onClick:function(e){return l=e,i=t,h(u,void 0,void 0,function(){var t,n,r,a;return v(this,function(e){return l.stopPropagation(),t=s.slice(),n=t.findIndex(function(e){return e.id===c.id}),r=t.splice(i,1),(0,j.default)().del(r[0].id),d(t),n===i&&o&&(a=t[i]||t[t.length-1])&&f(a),[2]})});var l,i}})),y.default.createElement("div",{className:"singer",title:n.map(function(e){return e.name}).join("/")},n.map(function(e){return e.name}).join("/")),y.default.createElement("div",{className:"duration"},(0,_.convertTime)(e)))}))),y.default.createElement("div",{className:"list-right"},y.default.createElement("div",{className:"title"},y.default.createElement("span",{title:c.name},c.name)),y.default.createElement("div",{className:"content",ref:m},null===t&&y.default.createElement("p",null,"歌词加载中..."),t&&0===t.length&&y.default.createElement("p",null,"暂无歌词"),t&&t.map(function(e,t){var n=e[0],r=e[1],e=e[2];return y.default.createElement("p",{key:t,"data-time":e,className:"lyric"},n,r&&y.default.createElement(y.default.Fragment,null,y.default.createElement("br",null),r))}))),y.default.createElement("label",{htmlFor:"toggleList"},y.default.createElement("div",{className:"close"},"X"))))}},482:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_3Uhd9"}},483:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(484)),s=n(17),i=i(n(485)),n=n(13),c={"list-loop":u.default.createElement(n.RetweetOutlined,{title:"列表循环"}),random:u.default.createElement(i.default,{type:"icon-random",title:"随机"}),"single-cycle":u.default.createElement(i.default,{type:"icon-Singlecycle",title:"单曲循环"})};t.default=(0,u.memo)(function(e){var t=e.playMode,n=(0,u.useContext)(s.FuncContext).setPlayMode,e=c[t];return u.default.createElement("div",{className:o.default["play-mode"]},u.default.createElement("div",{className:"icon",onClick:function(){var e="list-loop"===t?"random":"random"===t?"single-cycle":"list-loop";n(e)}},e))})},484:function(e,t,n){"use strict";n.r(t),t.default={"play-mode":"play-mode_3wZ9F"}},485:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),i=(0,n(13).createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"});t.default=function(e){return l.default.createElement(i,r({},e))}},486:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(487)),s=n(23),c=n(13),f=i(n(31));t.default=(0,u.memo)(function(){return u.default.createElement("div",{className:o.default.volume},u.default.createElement("div",{className:"icon",title:"音量"},u.default.createElement(c.SoundOutlined,null)),u.default.createElement("div",{className:"slider"},u.default.createElement(s.Slider,{defaultValue:100,onChange:function(e){(0,f.default)().setVolume(.01*e)},tipFormatter:function(e){return e+"%"}})))})},487:function(e,t,n){"use strict";n.r(t),t.default={volume:"volume_3rxth"}},488:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=l(n(0)),p=i(n(489)),h=n(12),v=n(17);t.default=(0,m.memo)(function(e){var n=e.playingItem,t=e.currentTime,r=e.setCurrentTime,a=n.duration,l=(d=(0,m.useState)(!1))[0],i=d[1],u=(0,m.useRef)(null),o=(0,m.useRef)(null),s=(0,m.useContext)(v.FuncContext).playSong,e=function(e){var t;0===e.button&&(window.addEventListener("mousemove",f),window.addEventListener("mouseup",c),i(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,u.current.style.width=100*t+"%",o.current.textContent=(0,h.convertTime)(t*a))},c=function(e){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",c),i(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t*a;t<0?t=0:a<t&&(t=a),r(t),s(n,t)},f=function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;1<t?t=1:t<0&&(t=0),u.current.style.width=100*t+"%",o.current.textContent=(0,h.convertTime)(t*a)},d=(0,m.useMemo)(function(){return l?{width:u.current.style.width}:{width:t/a*100+"%"}},[t,a]);return m.default.createElement("div",{className:p.default.progressbar},m.default.createElement("div",{className:"track",onMouseDown:e}),m.default.createElement("div",{className:"rail",onMouseDown:e,ref:u,style:d},m.default.createElement("div",{className:"handle"}),m.default.createElement("div",{className:"tooltip",ref:o,style:{display:l?"block":"none"}})))})},489:function(e,t,n){"use strict";n.r(t),t.default={progressbar:"progressbar_2Rh8C"}},49:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=l(n(0)),d=n(14),m=i(n(297)),p=n(12),h=n(16);t.default=function(e){var t=e.data,u=t.length,o=(0,d.useHistory)(),s=(r=(0,f.useState)(0))[0],n=r[1],r=(e=(0,f.useState)(!0))[0],a=e[1],l=(0,p.debounce)(a,5e3);(0,h.useInterval)(function(){n((s+1)%u)},r?5e3:null);var c=function(e){n(e),a(!1),l(!0)};return f.default.createElement("div",{className:m.default.carousel},f.default.createElement("div",{className:"card-container"},t.map(function(e,t){var n,r=e.imageUrl,a=e.targetId,l=e.targetType,i=e.url;return f.default.createElement("div",{className:"card",key:t,onClick:function(){return function(e,t,n,r){if(s===e)switch(n){case 1:o.push("/Song?id="+t);break;case 10:o.push("/Album?id="+t);break;case 1e3:o.push("SongList?id="+t);break;case 1004:o.push("/Video?id="+t);break;case 3e3:window.open(r);break;default:return}else c(e)}(t,a,l,i)},style:(n=0<(e=(n=t)-s)?e-u:e+u,n=Math.abs(e)>Math.abs(n)?n:e,e={},0===n?(e.left="33.3%",e.zIndex=999,e.opacity=1,e.transform="scale(1)"):e.left=0<n?16.7+40*n+"%":50+40*n+"%",2<=Math.abs(n)&&(e.opacity=0,e.transform="scale(0)"),e)},f.default.createElement("img",{src:(0,p.replaceHttpToHttps)(r)+"?param=500y200"}))})),f.default.createElement("div",{className:"rects"},t.map(function(e,t){return f.default.createElement("div",{key:t,className:s===t?"rect-active":"rect",onClick:function(){return c(t)}})})))}},490:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},f=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(0)),m=i(n(491)),p=n(23),h=i(n(22)),v=n(48);t.default=function(e){var t=this,n=e.id,r=(0,d.useState)(null),a=r[0],l=r[1],i=(e=(0,d.useState)(null))[0],u=e[1],e=(r=(0,d.useState)(!1))[0],o=r[1],s=window.localStorage.getItem("userid");return s?((0,d.useEffect)(function(){c(t,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,(0,v.userPlaylist)(s)];case 1:return n=e.sent(),t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单 ("+t.length+")",value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单 ("+n.length+")",value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],l(n),[2]}})})},[]),a?d.default.createElement("div",{className:m.default["collect-song"]},d.default.createElement(p.TreeSelect,{treeData:a,style:{width:"100%"},onChange:function(e){return u(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"}),d.default.createElement(p.Button,{onClick:function(){i&&(o(!0),(0,v.songlistTracks)("add",i,n).then(function(){p.Modal.destroyAll(),p.message.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:30}},"确认")):d.default.createElement(h.default,null)):d.default.createElement("div",null,"未找到 userid，请重新登录")}},491:function(e,t,n){"use strict";n.r(t),t.default={"collect-song":"collect-song_1DAiM"}},493:function(e,t,n){var r={"./routes":47,"./routes/":47,"./routes/Album":69,"./routes/Album/":69,"./routes/Album/components/View":104,"./routes/Album/components/View.module.scss":294,"./routes/Album/components/View.tsx":104,"./routes/Album/index":69,"./routes/Album/index.tsx":69,"./routes/Discovery":71,"./routes/Discovery/":71,"./routes/Discovery/components/Carousel":49,"./routes/Discovery/components/Carousel/":49,"./routes/Discovery/components/Carousel/index":49,"./routes/Discovery/components/Carousel/index.module.scss":297,"./routes/Discovery/components/Carousel/index.tsx":49,"./routes/Discovery/components/RecentSonglist":51,"./routes/Discovery/components/RecentSonglist/":51,"./routes/Discovery/components/RecentSonglist/index":51,"./routes/Discovery/components/RecentSonglist/index.module.scss":299,"./routes/Discovery/components/RecentSonglist/index.tsx":51,"./routes/Discovery/components/RecommentPlaylist":50,"./routes/Discovery/components/RecommentPlaylist/":50,"./routes/Discovery/components/RecommentPlaylist/index":50,"./routes/Discovery/components/RecommentPlaylist/index.module.scss":298,"./routes/Discovery/components/RecommentPlaylist/index.tsx":50,"./routes/Discovery/components/View":107,"./routes/Discovery/components/View.module.scss":296,"./routes/Discovery/components/View.tsx":107,"./routes/Discovery/index":71,"./routes/Discovery/index.tsx":71,"./routes/MySongList":72,"./routes/MySongList/":72,"./routes/MySongList/components/View":108,"./routes/MySongList/components/View.module.scss":300,"./routes/MySongList/components/View.tsx":108,"./routes/MySongList/index":72,"./routes/MySongList/index.tsx":72,"./routes/PersonalFM":73,"./routes/PersonalFM/":73,"./routes/PersonalFM/index":73,"./routes/PersonalFM/index.module.scss":301,"./routes/PersonalFM/index.tsx":73,"./routes/Playlist":74,"./routes/Playlist/":74,"./routes/Playlist/components/View":109,"./routes/Playlist/components/View.module.scss":302,"./routes/Playlist/components/View.tsx":109,"./routes/Playlist/index":74,"./routes/Playlist/index.tsx":74,"./routes/Search":75,"./routes/Search/":75,"./routes/Search/components/AlbumList":52,"./routes/Search/components/AlbumList/":52,"./routes/Search/components/AlbumList/index":52,"./routes/Search/components/AlbumList/index.tsx":52,"./routes/Search/components/PlaylistList":54,"./routes/Search/components/PlaylistList/":54,"./routes/Search/components/PlaylistList/index":54,"./routes/Search/components/PlaylistList/index.tsx":54,"./routes/Search/components/SingerList":53,"./routes/Search/components/SingerList/":53,"./routes/Search/components/SingerList/index":53,"./routes/Search/components/SingerList/index.tsx":53,"./routes/Search/components/View":110,"./routes/Search/components/View.module.scss":303,"./routes/Search/components/View.tsx":110,"./routes/Search/index":75,"./routes/Search/index.tsx":75,"./routes/Singer":76,"./routes/Singer/":76,"./routes/Singer/components/Header":55,"./routes/Singer/components/Header/":55,"./routes/Singer/components/Header/index":55,"./routes/Singer/components/Header/index.module.scss":306,"./routes/Singer/components/Header/index.tsx":55,"./routes/Singer/components/Introduction":56,"./routes/Singer/components/Introduction/":56,"./routes/Singer/components/Introduction/index":56,"./routes/Singer/components/Introduction/index.module.scss":307,"./routes/Singer/components/Introduction/index.tsx":56,"./routes/Singer/components/View":112,"./routes/Singer/components/View.module.scss":305,"./routes/Singer/components/View.tsx":112,"./routes/Singer/index":76,"./routes/Singer/index.tsx":76,"./routes/Song":77,"./routes/Song/":77,"./routes/Song/components/View":113,"./routes/Song/components/View.module.scss":308,"./routes/Song/components/View.tsx":113,"./routes/Song/index":77,"./routes/Song/index.tsx":77,"./routes/User":78,"./routes/User/":78,"./routes/User/components/View":80,"./routes/User/components/View.js":80,"./routes/User/index":78,"./routes/User/index.js":78,"./routes/Video":79,"./routes/Video/":79,"./routes/Video/components/View":81,"./routes/Video/components/View.js":81,"./routes/Video/index":79,"./routes/Video/index.js":79,"./routes/index":47,"./routes/index.ts":47};function a(e){e=l(e);return n(e)}function l(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=l,(e.exports=a).id=493},494:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},a=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.album=t.albumComment=void 0;var i=l(n(27));t.albumComment=function(e){return(0,i.default)("/comment/album?id="+e)};t.album=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,i.default)("/album?id="+t)]})})}},495:function(e,t,n){"use strict";n.r(t),t.default={detail:"detail_25jrL"}},496:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},f=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},d=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=l(n(0)),p=n(17),h=n(14),v=n(23),y=n(13),g=n(46),b=n(25),_=i(n(93));t.default=function(e){var t=this,n=e.detailData,l=e.songList,i=e.songIds,u=(s=(0,m.useContext)(p.FuncContext)).setPlaylist,o=s.playSong,r=n.title,a=n.cover,e=n.creator,s=n.tags,n=n.description;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"list-left"},m.default.createElement("div",{className:"image"},m.default.createElement("img",{src:a+"?param=240y240"}))),m.default.createElement("div",{className:"list-right"},m.default.createElement("div",{className:"title-playlist"},r),m.default.createElement("div",{className:"creator"},m.default.createElement(h.Link,{to:"/User?id="+e.id},m.default.createElement("img",{src:e.avatar+"?param=40y40"}),e.name),new Date(e.createTime).toLocaleDateString().replace(/\//g,"-"),"创建"),m.default.createElement("div",{className:"btns"},m.default.createElement(v.Button,{icon:m.default.createElement(y.CaretRightOutlined,null),onClick:function(){return c(t,void 0,void 0,function(){var t,n,r,a;return f(this,function(e){switch(e.label){case 0:return(t=[],l)?(t=l.filter(function(e){return e.isFree}),[3,5]):[3,1];case 1:if(!i)return[3,5];n=Math.ceil(.02*i.length),r=0,e.label=2;case 2:return r<n?(a=50*r,a=i.slice(a,50+a),[4,(0,g.songDetail)(a)]):[3,5];case 3:a=e.sent(),a=(0,b.resolveSongs)(a.songs,"detail").filter(function(e){return e.isFree}),t=d(d([],t,!0),a,!0),e.label=4;case 4:return++r,[3,2];case 5:return(0,_.default)().delAll(),u(t),o(t[0]),[2]}})})}},"播放全部")),m.default.createElement("div",{className:"tags"},"标签：",s.map(function(e,t){return m.default.createElement("span",{key:t},e)})),m.default.createElement("div",{className:"description"},n)))}},497:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),s=n(17),c=n(14),f=n(23),d=n(13);t.default=function(e){var t=e.detailData,n=e.songList,r=(u=(0,o.useContext)(s.FuncContext)).playSong,a=u.setPlaylist,l=t.title,i=t.cover,e=t.singers,u=t.publishTime,t=t.description;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"list-left"},o.default.createElement("div",{className:"image"},o.default.createElement("img",{src:i+"?param=240y240"}))),o.default.createElement("div",{className:"list-right"},o.default.createElement("div",{className:"title-album"},l),o.default.createElement("div",{className:"singer"},"歌手：",e.map(function(e,t){var n=e.id,e=e.name;return o.default.createElement(o.default.Fragment,{key:t},o.default.createElement(c.Link,{to:"/Singer?id="+n},e),o.default.createElement("span",null," / "))})),o.default.createElement("div",null,"发行时间：",new Date(u).toLocaleDateString().replace(/\//g,"-")),o.default.createElement("div",{className:"btns"},o.default.createElement(f.Button,{icon:o.default.createElement(d.CaretRightOutlined,null),onClick:function(){var e=n[0];r(e),a(n)}},"播放全部")),o.default.createElement("div",{className:"description"},t)))}},498:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=l(n(0)),y=n(17),g=n(14),b=n(23),_=n(13),E=i(n(31));t.default=function(e){var t=e.detailData,n=e.songData,r=e.lyric,a=t.title,l=t.cover,i=t.singers,u=t.albumId,o=t.albumName,s=n.id,c=n.name,e=n.isFree,f=(t=(0,v.useContext)(y.FuncContext)).playSong,d=t.collectSong,m=t.setPlaylist,p=(t=(0,v.useContext)(y.StateContext)).playingItem,h=t.playlist;return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"list-left"},v.default.createElement("div",{className:"image"},v.default.createElement("img",{src:l+"?param=240y240"}))),v.default.createElement("div",{className:"list-right"},v.default.createElement("div",{className:"title-song"},a),v.default.createElement("div",{className:"singer"},"歌手：",i.map(function(e,t){var n=e.id,e=e.name;return v.default.createElement(v.default.Fragment,{key:t},v.default.createElement(g.Link,{to:"/Singer?id="+n},e),v.default.createElement("span",null," / "))})),v.default.createElement("div",null,"所属专辑：",v.default.createElement(g.Link,{to:"/Album?id="+u},o)),v.default.createElement("div",{className:"btns"},v.default.createElement(b.Button,{icon:v.default.createElement(_.CaretRightOutlined,null),onClick:function(){var e;p.id!==n.id&&(h.find(function(e){return e.id===n.id})||((e=h.slice()).push(n),m(e)),f(n))},disabled:!e},"播放"),v.default.createElement(b.Button,{icon:v.default.createElement(_.HeartOutlined,null),onClick:function(){d(s)},disabled:!e},"添加到歌单"),v.default.createElement(b.Button,{icon:v.default.createElement(_.DownloadOutlined,null),onClick:function(){(0,E.default)().download(s,c)},disabled:!e},"下载")),v.default.createElement("input",{type:"checkbox",id:"toggle-lyric",className:"toggle",style:{display:"none"}}),0===r.length&&v.default.createElement("div",null,"暂无歌词"),v.default.createElement("div",{className:"lyric"},r.map(function(e,t){var n=e[0],e=e[1];return v.default.createElement("p",{key:t},n,e&&v.default.createElement(v.default.Fragment,null,v.default.createElement("br",null),e))})),v.default.createElement("label",{htmlFor:"toggle-lyric"})))}},499:function(e,t,n){"use strict";n.r(t),t.default={songlist:"songlist_1AHFN"}},50:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(298)),u=n(14),o=n(13),s=n(12),c=function(e){return 1e4<=e?(1e-4*e>>0)+" 万":e};t.default=function(e){var t=e.data,l=e.onPlayAll,e=function(e){return i.default.createElement("div",{className:"playlist"},e.map(function(e){var n=e.id,t=e.name,r=e.copywriter,a=e.picUrl,e=e.playCount;return i.default.createElement("div",{className:"listitem",key:n},i.default.createElement(u.Link,{className:"image",to:"/Playlist?id="+n},i.default.createElement("img",{src:(0,s.replaceHttpToHttps)(a)+"?param=240y240",loading:"lazy"}),i.default.createElement("div",{className:"copywriter"},r),i.default.createElement("div",{className:"play-count"},i.default.createElement(o.CustomerServiceOutlined,null),c(e)),i.default.createElement("div",{className:"play-button",onClick:function(e){return t=n,e.preventDefault(),void l(t);var t}},i.default.createElement(o.CaretRightOutlined,null))),i.default.createElement(u.Link,{className:"description",to:"/Playlist?id="+n},t))}))};return i.default.createElement("div",{className:a.default["recommend-playlist"]},e(t.slice(0,5)),e(t.slice(5,10)))}},500:function(e,t,n){"use strict";n.r(t),t.default={pagination:"pagination_1ik9H"}},501:function(e,t,n){"use strict";n.r(t),t.default={"comment-list":"comment-list_1x3ow"}},502:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.simiSong=t.topSong=t.recommendPlaylist=t.banner=void 0;var a=r(n(27));t.banner=function(){return(0,a.default)("/banner")};t.recommendPlaylist=function(e){return(0,a.default)("/personalized?limit="+(e=void 0===e?10:e))};t.topSong=function(e){return(0,a.default)("/top/song?type="+(e=void 0===e?0:e))};t.simiSong=function(e){return(0,a.default)("/simi/song?id="+e)}},503:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unlike=t.getFMList=void 0;var a=r(n(27));t.getFMList=function(){return(0,a.default)("/personal_fm?_t="+Date.now())};t.unlike=function(e){return(0,a.default)("/fm_trash?id="+e)}},504:function(e,t,n){"use strict";n.r(t),t.default={tabs:"tabs_2nnn9",tab:"tab_1pU_B","tab-active":"tab-active_qjqOx"}},505:function(e,t,n){"use strict";n.r(t),t.default={"link-image-list":"link-image-list_3_g2E"}},506:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.singerDesc=t.singerInfo=void 0;var a=r(n(27));t.singerInfo=function(e){return(0,a.default)("/artists?id="+e)};t.singerDesc=function(e){return(0,a.default)("/artist/desc?id="+e)}},507:function(e,t,n){"use strict";n.r(t)},51:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),f=i(n(299)),d=n(17),m=n(14),p=n(13);t.default=function(e){var i=e.data,u=(e=(0,c.useContext)(d.FuncContext)).playSong,o=e.setPlaylist,s=(0,c.useContext)(d.StateContext).playlist,e=function(e,l){return e.map(function(e,t){var n=e.id,r=e.name,a=e.cover,e=e.singers;return c.default.createElement("div",{className:"item",key:n},c.default.createElement("div",{className:"order"},(t+1+l).toString().padStart(2,"0")),c.default.createElement(m.Link,{className:"image",to:"/Song?id="+n},c.default.createElement("img",{src:a+"?param=50y50",loading:"lazy"}),c.default.createElement("div",{className:"play-button",onClick:function(e){return function(e,t){e.preventDefault();e=i[t],t=s.slice();t.push(e),o(t),u(e)}(e,t+l)}},c.default.createElement(p.CaretRightOutlined,null))),c.default.createElement("div",{className:"information"},c.default.createElement(m.Link,{className:"song-title",to:"/Song?id="+n},r),c.default.createElement("div",{className:"singer"},e.map(function(e){return e.name}).join("/"))))})};return c.default.createElement("div",{className:f.default["recent-songlist"]},c.default.createElement("div",{className:f.default.left},e(i.slice(0,5),0)),c.default.createElement("div",{className:f.default.right},e(i.slice(5,10),5)))}},52:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(111));t.default=function(e){return e=e.data,a.default.createElement(l.default,null,e.map(function(e){var t=e.id,n=e.name,r=e.singer,e=e.picUrl,r=a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,n),a.default.createElement("div",null,r.map(function(e){return e.name}).join(" / ")));return a.default.createElement(l.default.Item,{key:t,linkTo:"/Album?id="+t,src:e,text:r})}))}},53:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(111));t.default=function(e){return e=e.data,a.default.createElement(l.default,null,e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return a.default.createElement(l.default.Item,{key:t,linkTo:"/Singer?id="+t,src:e,text:n})}))}},54:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(111));t.default=function(e){return e=e.data,a.default.createElement(l.default,null,e.map(function(e){var t=e.id,n=e.name,e=e.picUrl;return a.default.createElement(l.default.Item,{key:t,linkTo:"/Playlist?id="+t,src:e,text:n})}))}},55:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(306)),i=n(12);t.default=function(e){var t=(n=e.data).name,e=n.alias,n=n.cover;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:l.default.title},t,a.default.createElement("span",null,e.join(";"))),a.default.createElement("div",{className:l.default.image},a.default.createElement("img",{src:(0,i.replaceHttpToHttps)(n)+"?param=640y300"})))}},56:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(307));t.default=function(e){var e=(t=e.data).briefDesc,t=t.intro;return a.default.createElement("div",{className:l.default.intro},a.default.createElement("div",{className:"block"},a.default.createElement("h2",null,"歌手简介"),a.default.createElement("span",null,e)),t.map(function(e,t){var n=e.ti,e=e.txt;return a.default.createElement("div",{className:"block",key:t},a.default.createElement("h2",null,n),a.default.createElement("span",null,e))}))}},69:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),c=n(494),f=n(16),d=n(25),m=o(n(104));t.default=function(){var e=this,a=(0,f.useQuery)("id");if(!a)return s.default.createElement("div",null,"id错误");var t=(0,s.useState)(null),n=t[0],l=t[1];return(0,s.useEffect)(function(){l(null),i(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,c.album)(a)];case 1:return r=e.sent(),t=(0,d.resolveDetail)(r),n=(0,d.resolveSongs)(r.songs,"detail"),[4,(0,c.albumComment)(a)];case 2:return r=e.sent(),l({detail:t,songList:n,comment:r}),[2]}})})},[a]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),s.default.createElement(m.default,{pageState:n})}},70:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},b=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},_=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=l(n(0)),w=i(n(499)),u=i(n(22)),o=i(n(295)),j=n(14),O=n(17),S=n(23),x=n(13),k=n(48),P=n(12),M=n(16),N=n(46),C=n(25),D=i(n(31));t.default=(0,E.memo)(function(e){var t=this,n=e.songList,r=e.songIds,s=e.isCreator,a=(0,E.useContext)(O.StateContext),c=(e=(0,E.useContext)(O.FuncContext)).playSong,f=e.collectSong,d=e.setPlaylist,m=(0,M.useQuery)("id"),p=a.playingItem,h=a.playlist,v=(a=(0,E.useState)(n||[]))[0],y=a[1],g=(a=(0,E.useState)(1))[0],a=a[1];return(0,E.useEffect)(function(){r&&b(t,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:return y([]),t=50*(g-1),t=r.slice(t,50+t),[4,(0,N.songDetail)(t)];case 1:return t=e.sent(),y((0,C.resolveSongs)(t.songs,"detail")),[2]}})})},[r,g]),0===v.length?E.default.createElement(u.default,null):E.default.createElement("div",{className:w.default.songlist},E.default.createElement("div",{className:"title"},"歌曲列表",E.default.createElement("span",null,(n||r).length,"首歌")),E.default.createElement("table",null,E.default.createElement("thead",null,E.default.createElement("tr",null,E.default.createElement("th",{scope:"col"}),E.default.createElement("th",{scope:"col"},"歌曲标题"),E.default.createElement("th",{scope:"col"},"时长"),E.default.createElement("th",{scope:"col"},"歌手"),E.default.createElement("th",{scope:"col"},"专辑"))),E.default.createElement("tbody",null,v.map(function(n,e){var t=n.id,r=n.name,a=n.singers,l=n.duration,i=n.isFree,u=n.albumId,o=n.albumName;return E.default.createElement("tr",{key:t,className:i?void 0:"fee"},E.default.createElement("td",null,E.default.createElement("span",null,50*(g-1)+e+1),E.default.createElement(x.CaretRightOutlined,{className:p.id===t?"play-btn-playing":"play-btn",onClick:function(){var t,e;c(t=n),h.find(function(e){return e.id===t.id})||((e=h.slice()).push(t),d(e))}})),E.default.createElement("td",null,E.default.createElement(j.Link,{to:"/Song?id="+t,title:r},r),E.default.createElement("div",{className:"icons"},i&&E.default.createElement(E.default.Fragment,null,E.default.createElement(x.PlusOutlined,{title:"添加到播放列表",onClick:function(){var t,e;t=n,h.find(function(e){return e.id===t.id})||((e=h.slice()).push(t),d(e))}}),E.default.createElement(x.HeartOutlined,{title:"收藏到歌单",onClick:function(){f(t)}}),E.default.createElement(x.DownloadOutlined,{title:"下载",onClick:function(){var e,t;e=n,t=n.id,e=n.name,(0,D.default)().download(t,e)}})),s&&E.default.createElement(x.DeleteOutlined,{title:"删除",onClick:function(){var r;r=n,S.Modal.confirm({title:"删除歌曲",content:"是否要删除歌曲 "+r.name+" ？",okText:"是",cancelText:"否",onOk:function(){return b(this,void 0,void 0,function(){var t,n;return _(this,function(e){switch(e.label){case 0:return[4,(0,k.songlistTracks)("del",m,r.id)];case 1:return e.sent(),S.message.success("已删除"),t=v.slice(),n=v.findIndex(function(e){return e.id===r.id}),t.splice(n,1),y(t),[2]}})})}})}}))),E.default.createElement("td",null,(0,P.convertTime)(l)),E.default.createElement("td",null,a.map(function(e,t){var n=e.id,e=e.name;return E.default.createElement(E.default.Fragment,{key:t},E.default.createElement(j.Link,{to:"/Singer?id="+n,title:e,className:w.default.singer},e),t!==a.length-1&&E.default.createElement("span",null," / "))})),E.default.createElement("td",null,E.default.createElement(j.Link,{to:"/Album?id="+u,title:o},o)))}))),E.default.createElement(o.default,{currentPage:g,total:(null==r?void 0:r.length)||0,pageSize:50,onChange:a}))})},71:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},o=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),c=i(n(107)),f=n(17),d=n(25),m=n(502),p=n(46),h=n(48);t.default=function(){var e=this,t=(0,s.useState)(null),n=t[0],a=t[1],l=(t=(0,s.useContext)(f.FuncContext)).setPlaylist,i=t.playSong;return(0,s.useEffect)(function(){document.title="发现音乐"},[]),(0,s.useEffect)(function(){u(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.banner)()];case 1:return t=e.sent(),[4,(0,m.recommendPlaylist)()];case 2:return n=e.sent(),[4,(0,m.topSong)()];case 3:return r=e.sent(),a({banner:t.banners,recommendPlaylist:n.result,recentSong:(0,d.resolveSongs)(r.data,"topSong")}),[2]}})})},[]),s.default.createElement(c.default,{pageState:n,onPlayAll:function(r){return u(e,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:return[4,(0,h.playlistDetail)(r)];case 1:return n=e.sent(),t=n.playlist.trackIds.map(function(e){return e.id}),[4,(0,p.songDetail)(t)];case 2:return n=e.sent(),t=(0,d.resolveSongs)(n.songs,"detail"),n=t.filter(function(e){return e.isFree}),l(n),i(t[0]),[2]}})})}})}},72:function(e,t,n){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},s=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),f=n(48),d=n(23),m=i(n(108)),p=n(12);t.default=function(){var e=this,r=window.localStorage.getItem("userid");if(!r||!(0,p.hasToken)())return c.default.createElement("div",null,"需要登录使用");var t=(0,c.useState)(null),l=t[0],i=t[1];return(0,c.useEffect)(function(){document.title="我的歌单"},[]),(0,c.useEffect)(function(){o(e,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return[4,(0,f.userPlaylist)(r)];case 1:return t=e.sent(),n={create:[],subscribe:[]},t.playlist.forEach(function(e){(e.subscribed?n.subscribe:n.create).push(e)}),i(n),[2]}})})},[]),c.default.createElement(m.default,{pageState:l,onDelete:function(r,a){d.Modal.confirm({maskClosable:!0,title:"删除歌单",content:"是否要删除该歌单？",okText:"是",cancelText:"否",onOk:function(){var e,t,n=1===a?(t=l.create.findIndex(function(e){return e.id===r}),(e=l.create.slice()).splice(t,1),u(u({},l),{create:e})):(t=l.subscribe.findIndex(function(e){return e.id===r}),(n=l.subscribe.slice()).splice(t,1),u(u({},l),{subscribe:n}));return i(n),(0,f.deleteSonglist)(r)},onCancel:function(){d.Modal.destroyAll()}})}})}},73:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},g=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},b=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=l(n(0)),E=i(n(301)),w=i(n(103)),j=n(14),O=n(13),S=i(n(22)),x=n(17),k=n(503),P=n(12),M=n(25);t.default=function(){var e=this;if(!(0,P.hasToken)())return _.default.createElement("div",null,"私人 FM 需要登录使用");var t=(0,_.useContext)(x.FuncContext),a=t.pauseSong,n=t.collectSong;(0,_.useEffect)(function(){document.title="私人FM"},[]),(0,_.useEffect)(function(){var e=document.getElementsByClassName(w.default.middle)[0],t=document.getElementsByClassName(w.default.bottom)[0];e.style.height="calc(100% - 64px)",e.style.transition="height 1s",t.style.display="none";var n=document.getElementById("toggleList");n.checked&&n.click(),a();var r=null;return navigator.mediaSession&&(r=navigator.mediaSession.metadata),function(){e.style.height="calc(100% - 128px)",t.style.display="block",setTimeout(function(){e.style.transition=""},1e3),r&&(navigator.mediaSession.metadata=r)}},[]);var r=(0,_.useState)(!1),l=r[0],i=r[1],u=(0,_.useState)(null),o=u[0],s=u[1],c=(t=(0,_.useState)([]))[0],f=t[1],d=(r=(0,_.useState)(!1))[0],m=r[1],p=(0,_.useRef)(null),h=(0,_.useRef)(null),v=(0,_.useRef)(null);(0,_.useEffect)(function(){0<c.length||g(e,void 0,void 0,function(){var t,n;return b(this,function(e){switch(e.label){case 0:return[4,(0,k.getFMList)()];case 1:return n=e.sent(),t=(0,M.resolveSongs)(n.data,"fm"),o||(n=t.pop(),s(n)),f(t),[2]}})})},[c]);var y=function(){var e,t;0!==c.length&&(t=(e=c.slice()).pop(),s(t),f(e),i(!1))};return(0,_.useEffect)(function(){var e,t,n,r;o&&navigator.mediaSession&&MediaMetadata&&(e=o.name,t=o.singers,n=o.cover,r=o.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[o]),(0,_.useEffect)(function(){o&&navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){p.current.play(),m(!0)}),navigator.mediaSession.setActionHandler("pause",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("stop",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",y))},[o,y]),o?(u=o.id,t=o.name,r=o.cover,_.default.createElement("div",{className:E.default["personal-fm"]},_.default.createElement("div",{className:"title"},"私人FM"),_.default.createElement("div",{className:"music-box"},_.default.createElement("div",{className:"image"},_.default.createElement("img",{src:r+"?param=300y300"})),_.default.createElement(j.Link,{className:"song",to:"/Song?id="+u,target:"_blank",title:t},t),_.default.createElement("div",{className:"progress-container",ref:h},_.default.createElement("div",{className:"progress",ref:v,onClick:function(e){var t=v.current,t=(e.pageX-t.offsetLeft)/t.clientWidth;p.current.currentTime=t*o.duration}})),_.default.createElement("div",{className:"btn-container"},_.default.createElement("div",{className:"icon",title:d?"暂停":"播放",onClick:function(){d?p.current.pause():p.current.play(),m(!d)}},d?_.default.createElement(O.PauseOutlined,null):_.default.createElement(O.CaretRightOutlined,null)),_.default.createElement("div",{className:"icon",title:"喜欢",onClick:function(){i(!0),n(o.id)}},l?_.default.createElement(O.HeartFilled,{style:{color:"#c62f2f"}}):_.default.createElement(O.HeartOutlined,null)),_.default.createElement("div",{className:"icon",title:"不喜欢",onClick:function(){(0,k.unlike)(o.id),y()}},_.default.createElement(O.DeleteOutlined,null)),_.default.createElement("div",{className:"icon",title:"下一首",onClick:y},_.default.createElement(O.StepForwardOutlined,null)))),_.default.createElement("audio",{ref:p,src:"https://music.163.com/song/media/outer/url?id="+u,onEnded:y,onCanPlay:function(){d&&p.current.play()},onTimeUpdate:function(e){var t=e.target.currentTime/o.duration*100+"%",e="-"+(0,P.convertTime)(o.duration-e.target.currentTime);h.current.style.setProperty("--time","'"+e+"'"),v.current.style.setProperty("--progress",t)}}))):_.default.createElement(S.default,null)}},74:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),c=n(16),f=n(25),d=n(48),m=o(n(109));t.default=function(){var e=this,a=(0,c.useQuery)("id");if(!/\d+/.test(a))return s.default.createElement("div",null,"id 错误");var t=(0,s.useState)(null),n=t[0],l=t[1];return(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,s.useEffect)(function(){l(null),i(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,d.playlistDetail)(a)];case 1:return r=e.sent(),t=(0,f.resolveDetail)(r),n=r.playlist.trackIds.map(function(e){return e.id}),[4,(0,d.playlistComment)(a)];case 2:return r=e.sent(),l({detail:t,songIds:n,comment:r}),[2]}})})},[a]),s.default.createElement(m.default,{pageState:n})}},75:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},s=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),f=i(n(110)),d=n(293),m=n(12),p=n(25),h=n(16),v={currentPage:1,total:0,type:"song",loading:!0,data:[]},y={song:"1",album:"10",singer:"100",playlist:"1000"};t.default=function(){var e=this,i=(0,h.useQuery)("keyword");if(!i)return c.default.createElement("div",null,"请输入搜索内容");var t=(0,h.useSetState)(v),n=t[0],u=t[1];return(0,c.useEffect)(function(){var a=n.currentPage,l=n.type;u({loading:!0});o(e,void 0,void 0,function(){var t,n,r;return s(this,function(e){switch(e.label){case 0:return t=30*(a-1),[4,(0,d.search)(i,y[l],t)];case 1:return t=e.sent(),"song"===l?(n=(0,p.resolveSongs)(t.result.songs,"search"),r=t.result.songCount):"album"===l?(n=t.result.albums.map(function(e){var t=e.id,n=e.name,r=e.artists;return{id:t,name:n,picUrl:(0,m.replaceHttpToHttps)(e.picUrl),singer:r.map(function(e){return{id:e.id,name:e.name}})}}),r=t.result.albumCount):"singer"===l?(n=t.result.artists.map(function(e){return{id:e.id,name:e.name,picUrl:(0,m.replaceHttpToHttps)(e.picUrl)}}),r=t.result.artistCount):"playlist"===l&&(n=t.result.playlists.map(function(e){var t=e.id,n=e.name,r=e.description;return{id:t,name:n,picUrl:(0,m.replaceHttpToHttps)(e.coverImgUrl),description:r}}),r=t.result.playlistCount),u({loading:!1,total:r,data:n}),[2]}})})},[i,n.currentPage,n.type]),c.default.createElement(f.default,{pageState:n,setPageState:u})}},76:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},o=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),c=n(16),f=n(25),d=n(506),m=i(n(112));t.default=function(){var e=this,l=(0,c.useQuery)("id"),t=(0,s.useState)(null),n=t[0],i=t[1];return(0,s.useEffect)(function(){i(null),u(e,void 0,void 0,function(){var t,n,r,a;return o(this,function(e){switch(e.label){case 0:return[4,(0,d.singerInfo)(l)];case 1:return t=e.sent(),[4,(0,d.singerDesc)(l)];case 2:return a=e.sent(),n={name:t.artist.name,alias:t.artist.alias,cover:t.artist.picUrl},r=(0,f.resolveSongs)(t.hotSongs,"detail"),a={intro:a.introduction,briefDesc:a.briefDesc},i({header:n,songList:r,intro:a}),[2]}})})},[l]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.name;e&&(document.title=e+"的音乐")},[n]),s.default.createElement(m.default,{pageState:n})}},77:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},s=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),f=n(46),d=n(16),m=n(25),p=i(n(113));t.default=function(){var e=this,i=(0,d.useQuery)("id");if(!i)return c.default.createElement("div",null,"歌曲id错误");var t=(0,c.useState)(null),n=t[0],u=t[1];return(0,c.useEffect)(function(){u(null),o(e,void 0,void 0,function(){var t,n,r,a,l;return s(this,function(e){switch(e.label){case 0:return[4,(0,f.songDetail)([i])];case 1:return t=e.sent(),[4,(0,f.getLyric)(i)];case 2:return l=e.sent(),n=(0,m.resolveDetail)(t),r=(0,m.resolveSongs)(t.songs,"detail"),a=(0,m.resolveLyric)(l),[4,(0,f.songComment)(i)];case 3:return l=e.sent(),u({detail:n,songList:r,lyric:a,comment:l}),[2]}})})},[i]),(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),c.default.createElement(p.default,{pageState:n})}},78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(80);t.default=function(){return a.a.createElement(l.default,null)}},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(81);t.default=function(){return a.a.createElement(l.default,null)}},80:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(16);t.default=function(){var e=Object(l.useQuery)("id");return a.a.createElement("div",{className:"user"},"User Id=",e)}},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(16);t.default=function(){var e=Object(l.useQuery)("id");return a.a.createElement("div",{className:"video"},"Video Id=",e)}},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(l.prototype.save=function(e,t){var n=this.cache,r=this.cacheIds;30<=r.length&&(r=r.shift(),n.delete(r)),n.set(e,t)},l.prototype.get=function(e){return this.cache.get(e)||null},l.prototype.del=function(t){var e=this.cache,n=this.cacheIds,r=n.findIndex(function(e){return e===t});-1!==r&&(n.splice(r,1),e.delete(t))},l.prototype.delAll=function(){this.cache.clear(),this.cacheIds=[]},l);function l(){this.cacheIds=[],this.cache=new Map}t.default=function(){return r=r||new a}}});