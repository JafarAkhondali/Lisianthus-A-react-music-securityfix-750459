!function(o){function e(e){for(var t,n,r=e[0],a=e[1],i=e[2],l=0,u=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&u.push(c[n][0]),c[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);u.length;)u.shift()();return f.push.apply(f,i||[]),s()}function s(){for(var e,t=0;t<f.length;t++){for(var n=f[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(r=!1)}r&&(f.splice(t--,1),e=l(l.s=n[0]))}return e}var n={},c={1:0},f=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=o,l.c=n,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),a=0;a<r.length;a++)e(r[a]);var d=t;f.push([707,0,2]),s()}({116:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLyric=t.songDetail=t.songComment=void 0;var l=i(n(75));t.songComment=function(e){return(0,l.default)("/comment/music?id="+e)};t.songDetail=function(e){return(0,l.default)("/song/detail?ids="+e.join())};t.getLyric=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,l.default)("/lyric?id="+t)]})})}},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["/Album","/Discovery","/MySongList","/PersonalFM","/Playlist","/Singer","/Song","/User","/Video"]},125:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),d=n(35),m=l(n(458)),p=n(34),v=n(139);t.default=function(e){var t=e.data,u=t.length,o=(0,d.useHistory)(),s=(r=(0,f.useState)(0))[0],n=r[1],r=(e=(0,f.useState)(!0))[0],a=e[1],i=(0,p.debounce)(a,5e3);(0,v.useInterval)(function(){n((s+1)%u)},r?5e3:null);var c=function(e){n(e),a(!1),i(!0)};return f.default.createElement("div",{className:m.default.carousel},f.default.createElement("div",{className:"card-container"},t.map(function(e,t){var n,r=e.imageUrl,a=e.targetId,i=e.targetType,l=e.url;return f.default.createElement("div",{className:"card",key:t,onClick:function(){return function(e,t,n,r){if(s===e)switch(n){case 1:o.push("/Song?id="+t);break;case 10:o.push("/Album?id="+t);break;case 1e3:o.push("SongList?id="+t);break;case 1004:o.push("/Video?id="+t);break;case 3e3:window.open(r);break;default:return}else c(e)}(t,a,i,l)},style:(n=0<(e=(n=t)-s)?e-u:e+u,n=Math.abs(e)>Math.abs(n)?n:e,e={},0===n?(e.left="33.3%",e.zIndex=999,e.opacity=1,e.transform="scale(1)"):e.left=0<n?16.7+40*n+"%":50+40*n+"%",2<=Math.abs(n)&&(e.opacity=0,e.transform="scale(0)"),e)},f.default.createElement("img",{src:(0,p.replaceHttpToHttps)(r)+"?param=500y200"}))})),f.default.createElement("div",{className:"rects"},t.map(function(e,t){return f.default.createElement("div",{key:t,className:s===t?"rect-active":"rect",onClick:function(){return c(t)}})})))}},126:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(0)),a=r(n(459)),u=n(35),o=n(48),s=n(34),c=function(e){return 1e4<=e?(1e-4*e>>0)+" 万":e};t.default=function(e){var t=e.data,i=e.onPlayAll,e=function(e){return l.default.createElement("div",{className:"playlist"},e.map(function(e){var n=e.id,t=e.name,r=e.copywriter,a=e.picUrl,e=e.playCount;return l.default.createElement("div",{className:"listitem",key:n},l.default.createElement(u.Link,{className:"image",to:"/Playlist?id="+n},l.default.createElement("img",{src:(0,s.replaceHttpToHttps)(a)+"?param=240y240",loading:"lazy"}),l.default.createElement("div",{className:"copywriter"},r),l.default.createElement("div",{className:"play-count"},l.default.createElement(o.CustomerServiceOutlined,null),c(e)),l.default.createElement("div",{className:"play-button",onClick:function(e){return t=n,e.preventDefault(),void i(t);var t}},l.default.createElement(o.CaretRightOutlined,null))),l.default.createElement(u.Link,{className:"description",to:"/Playlist?id="+n},t))}))};return l.default.createElement("div",{className:a.default["recommend-playlist"]},e(t.slice(0,5)),e(t.slice(5,10)))}},127:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=l(n(460)),c=n(53),f=n(35),d=n(48);t.default=function(e){var l=e.data,u=(0,o.useContext)(c.FuncContext).playSong,e=function(e,i){return e.map(function(e,n){var t=e.id,r=e.name,a=e.cover,e=e.singers;return o.default.createElement("div",{className:"item",key:t},o.default.createElement("div",{className:"order"},(n+1+i).toString().padStart(2,"0")),o.default.createElement(f.Link,{className:"image",to:"/Song?id="+t},o.default.createElement("img",{src:a+"?param=50y50",loading:"lazy"}),o.default.createElement("div",{className:"play-button",onClick:function(e){return t=n+i,e.preventDefault(),void u(l[t]);var t}},o.default.createElement(d.CaretRightOutlined,null))),o.default.createElement("div",{className:"information"},o.default.createElement(f.Link,{className:"song-title",to:"/Song?id="+t},r),o.default.createElement("div",{className:"singer"},e.map(function(e){return e.name}).join("/"))))})};return o.default.createElement("div",{className:s.default["recent-songlist"]},o.default.createElement("div",{className:s.default.left},e(l.slice(0,5),0)),o.default.createElement("div",{className:s.default.right},e(l.slice(5,10),5)))}},132:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(485)),l=n(34);t.default=function(e){var t=(n=e.data).name,e=n.alias,n=n.cover;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:i.default.title},t,a.default.createElement("span",null,e.join(";"))),a.default.createElement("div",{className:i.default.image},a.default.createElement("img",{src:(0,l.replaceHttpToHttps)(n)+"?param=640y300"})))}},133:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(486));t.default=function(e){var e=(t=e.data).briefDesc,t=t.intro;return a.default.createElement("div",{className:i.default.intro},a.default.createElement("div",{className:"block"},a.default.createElement("h2",null,"歌手简介"),a.default.createElement("span",null,e)),t.map(function(e,t){var n=e.ti,e=e.txt;return a.default.createElement("div",{className:"block",key:t},a.default.createElement("h2",null,n),a.default.createElement("span",null,e))}))}},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetState=t.useInterval=void 0;var r=n(0);t.useInterval=function(e,t){var n=(0,r.useRef)(function(){});(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t);return function(){return clearInterval(e)}}},[t])};t.useSetState=function(e){var t=(0,r.useState)(e=void 0===e?{}:e),e=t[0],n=t[1];return[e,(0,r.useCallback)(function(t){n(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]}},160:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},u=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(35),f=n(644),d=n(34),m=n(76),p=o(n(267));t.default=function(){var e=this,t=(0,c.useLocation)().search,a=(0,d.searchItem)(t,"id");if(!a)return s.default.createElement("div",null,"id错误");var n=(t=(0,s.useState)(null))[0],i=t[1];return(0,s.useEffect)(function(){i(null),l(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,f.album)(a)];case 1:return r=e.sent(),t=(0,m.resolveDetail)(r),n=(0,m.resolveSongs)(r.songs,"detail"),[4,(0,f.albumComment)(a)];case 2:return r=e.sent(),i({detail:t,songList:n,comment:r}),[2]}})})},[a]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),s.default.createElement(p.default,{pageState:n})}},161:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},o=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=l(n(271)),f=n(53),d=n(76),m=n(651),p=n(116),v=n(92);t.default=function(){var e=this,t=(0,s.useState)(null),n=t[0],a=t[1],i=(t=(0,s.useContext)(f.FuncContext)).setPlaylist,l=t.playSong;return(0,s.useEffect)(function(){document.title="发现音乐"},[]),(0,s.useEffect)(function(){u(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.banner)()];case 1:return t=e.sent(),[4,(0,m.recommendPlaylist)()];case 2:return n=e.sent(),[4,(0,m.topSong)()];case 3:return r=e.sent(),a({banner:t.banners,recommendPlaylist:n.result,recentSong:(0,d.resolveSongs)(r.data,"topSong")}),[2]}})})},[]),s.default.createElement(c.default,{pageState:n,onPlayAll:function(r){return u(e,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:return[4,(0,v.playlistDetail)(r)];case 1:return n=e.sent(),t=n.playlist.trackIds.map(function(e){return e.id}),[4,(0,p.songDetail)(t)];case 2:return n=e.sent(),t=(0,d.resolveSongs)(n.songs,"detail"),n=t.filter(function(e){return e.isFree}),i(n),l(t[0]),[2]}})})}})}},162:function(e,t,n){"use strict";n.r(t);n(292),n(652),n(653),n(654),n(655),n(656),n(657),n(660),n(661),n(663),n(466),n(667),n(669),n(473),n(670),n(673),n(444),n(688),n(689),n(690),n(692),n(693),n(694);var a=n(0),u=n.n(a),o=n(92),s=n(243),c=n(171),f=n(34);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function m(e,t,n,r,a,i,l){try{var u=e[i](l),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var r=window.localStorage.getItem("userid");if(!r||!Object(f.hasToken)())return u.a.createElement("div",null,"需要登录使用");var e=p(Object(a.useState)(null),2),i=e[0],l=e[1];Object(a.useEffect)(function(){document.title="我的歌单"}),Object(a.useEffect)(function(){(function(){var u,e=(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.userPlaylist)(r);case 2:n=e.sent,t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),l({create:t,subscribe:n});case 6:case"end":return e.stop()}},e)}),function(){var e=this,l=arguments;return new Promise(function(t,n){var r=u.apply(e,l);function a(e){m(r,t,n,a,i,"next",e)}function i(e){m(r,t,n,a,i,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()()},[]);return u.a.createElement(c.default,{state:i,onDelete:function(r,a){s.a.confirm({maskClosable:!0,title:"删除歌单",content:"是否要删除该歌单？",okText:"是",cancelText:"否",onOk:function(){var e,t,n=1===a?(e=i.create.findIndex(function(e){return e.id===r}),(t=i.create.slice()).splice(e,1),d(d({},i),{},{create:t})):(t=i.subscribe.findIndex(function(e){return e.id===r}),(n=i.subscribe.slice()).splice(t,1),d(d({},i),{},{subscribe:n}));return l(n),Object(o.deleteSonglist)(r)},onCancel:function(){s.a.destroyAll()}})}})}},165:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},b=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},g=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=i(n(0)),E=l(n(482)),w=l(n(264)),j=n(35),O=n(48),S=l(n(67)),x=n(53),k=n(696),P=n(34),M=n(76);t.default=function(){var e=this;if(!(0,P.hasToken)())return _.default.createElement("div",null,"私人 FM 需要登录使用");var t=(0,_.useContext)(x.FuncContext),a=t.pauseSong,n=t.collectSong;(0,_.useEffect)(function(){document.title="私人FM"},[]),(0,_.useEffect)(function(){var e=document.getElementsByClassName(w.default.middle)[0],t=document.getElementsByClassName(w.default.bottom)[0];e.style.height="calc(100% - 64px)",e.style.transition="height 1s",t.style.display="none";var n=document.getElementById("toggleList");n.checked&&n.click(),a();var r=null;return navigator.mediaSession&&(r=navigator.mediaSession.metadata),function(){e.style.height="calc(100% - 128px)",t.style.display="block",setTimeout(function(){e.style.transition=""},1e3),r&&(navigator.mediaSession.metadata=r)}},[]);var r=(0,_.useState)(!1),i=r[0],l=r[1],u=(0,_.useState)(null),o=u[0],s=u[1],c=(t=(0,_.useState)([]))[0],f=t[1],d=(r=(0,_.useState)(!1))[0],m=r[1],p=(0,_.useRef)(null),v=(0,_.useRef)(null),h=(0,_.useRef)(null);(0,_.useEffect)(function(){0<c.length||b(e,void 0,void 0,function(){var t,n;return g(this,function(e){switch(e.label){case 0:return[4,(0,k.getFMList)()];case 1:return n=e.sent(),t=(0,M.resolveSongs)(n.data,"fm"),o||(n=t.pop(),s(n)),f(t),[2]}})})},[c]);var y=function(){var e,t;0!==c.length&&(t=(e=c.slice()).pop(),s(t),f(e),l(!1))};return(0,_.useEffect)(function(){var e,t,n,r;o&&navigator.mediaSession&&MediaMetadata&&(e=o.name,t=o.singers,n=o.cover,r=o.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[o]),(0,_.useEffect)(function(){o&&navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){p.current.play(),m(!0)}),navigator.mediaSession.setActionHandler("pause",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("stop",function(){p.current.pause(),m(!1)}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",y))},[o,y]),o?(u=o.id,t=o.name,r=o.cover,_.default.createElement("div",{className:E.default["personal-fm"]},_.default.createElement("div",{className:"title"},"私人FM"),_.default.createElement("div",{className:"music-box"},_.default.createElement("div",{className:"image"},_.default.createElement("img",{src:r+"?param=300y300"})),_.default.createElement(j.Link,{className:"song",to:"/Song?id="+u,target:"_blank",title:t},t),_.default.createElement("div",{className:"progress-container",ref:v},_.default.createElement("div",{className:"progress",ref:h,onClick:function(e){var t=h.current,t=(e.pageX-t.offsetLeft)/t.clientWidth;p.current.currentTime=t*o.duration}})),_.default.createElement("div",{className:"btn-container"},_.default.createElement("div",{className:"icon",title:d?"暂停":"播放",onClick:function(){d?p.current.pause():p.current.play(),m(!d)}},d?_.default.createElement(O.PauseOutlined,null):_.default.createElement(O.CaretRightOutlined,null)),_.default.createElement("div",{className:"icon",title:"喜欢",onClick:function(){l(!0),n(o.id)}},i?_.default.createElement(O.HeartFilled,{style:{color:"#c62f2f"}}):_.default.createElement(O.HeartOutlined,null)),_.default.createElement("div",{className:"icon",title:"不喜欢",onClick:function(){(0,k.unlike)(o.id),y()}},_.default.createElement(O.DeleteOutlined,null)),_.default.createElement("div",{className:"icon",title:"下一首",onClick:y},_.default.createElement(O.StepForwardOutlined,null)))),_.default.createElement("audio",{ref:p,src:"https://music.163.com/song/media/outer/url?id="+u,onEnded:y,onCanPlay:function(){d&&p.current.play()},onTimeUpdate:function(e){var t=e.target.currentTime/o.duration*100+"%",e="-"+(0,P.convertTime)(o.duration-e.target.currentTime);v.current.style.setProperty("--time","'"+e+"'"),h.current.style.setProperty("--progress",t)}}))):_.default.createElement(S.default,null)}},166:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},u=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(35),f=n(34),d=n(76),m=n(92),p=o(n(275));t.default=function(){var e=this,t=(0,c.useLocation)().search,a=Number((0,f.searchItem)(t,"id"));if(!a||isNaN(a))return s.default.createElement("div",null,"id 错误");var n=(t=(0,s.useState)(null))[0],i=t[1];return(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,s.useEffect)(function(){i(null),l(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,m.playlistDetail)(a)];case 1:return r=e.sent(),t=(0,d.resolveDetail)(r),n=r.playlist.trackIds.map(function(e){return e.id}),[4,(0,m.playlistComment)(a)];case 2:return r=e.sent(),i({detail:t,songIds:n,comment:r}),[2]}})})},[a]),s.default.createElement(p.default,{pageState:n})}},167:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},o=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),c=n(35),f=n(34),d=n(76),m=n(697),p=l(n(276));t.default=function(){var e=this,t=(0,c.useLocation)().search,i=(0,f.searchItem)(t,"id"),n=(t=(0,s.useState)(null))[0],l=t[1];return(0,s.useEffect)(function(){l(null),u(e,void 0,void 0,function(){var t,n,r,a;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.singerInfo)(i)];case 1:return t=e.sent(),[4,(0,m.singerDesc)(i)];case 2:return a=e.sent(),n={name:t.artist.name,alias:t.artist.alias,cover:t.artist.picUrl},r=(0,d.resolveSongs)(t.hotSongs,"detail"),a={intro:a.introduction,briefDesc:a.briefDesc},l({header:n,songList:r,intro:a}),[2]}})})},[i]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.name;e&&(document.title=e+"的音乐")},[n]),s.default.createElement(p.default,{pageState:n})}},168:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},s=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(0)),f=n(35),d=n(116),m=n(34),p=n(76),v=l(n(277));t.default=function(){var e=this,t=(0,f.useLocation)().search,l=(0,m.searchItem)(t,"id");if(!l)return c.default.createElement("div",null,"歌曲id错误");var n=(t=(0,c.useState)(null))[0],u=t[1];return(0,c.useEffect)(function(){u(null),o(e,void 0,void 0,function(){var t,n,r,a,i;return s(this,function(e){switch(e.label){case 0:return[4,(0,d.songDetail)([l])];case 1:return t=e.sent(),[4,(0,d.getLyric)(l)];case 2:return i=e.sent(),n=(0,p.resolveDetail)(t),r=(0,p.resolveSongs)(t.songs,"detail"),a=(0,p.resolveLyric)(i),[4,(0,d.songComment)(l)];case 3:return i=e.sent(),u({detail:n,songList:r,lyric:a,comment:i}),[2]}})})},[l]),(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),c.default.createElement(v.default,{pageState:n})}},169:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(172);t.default=function(){return a.a.createElement(i.default,null)}},170:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(173);t.default=function(){return a.a.createElement(i.default,null)}},171:function(e,t,n){"use strict";n.r(t);n(695),n(473);var r=n(0),u=n.n(r),o=n(61),s=n(35),c=n(242),r=n(67),a=n.n(r),f=n(34);t.default=function(e){var t=e.state,r=e.onDelete;if(!t)return u.a.createElement(a.a,null);function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;e.preventDefault(),r(t,n)}return u.a.createElement("div",{className:o.default["my-songlist"]},u.a.createElement("div",{className:o.default.title},"我创建的歌单"),t.create.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,i=e.id;return u.a.createElement(s.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(i)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(c.a,{className:o.default.delete,onClick:function(e){return l(e,i)}}))}),u.a.createElement("div",{className:o.default.title},"我收藏的歌单"),t.subscribe.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,i=e.id;return u.a.createElement(s.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(i)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(c.a,{className:o.default.delete,onClick:function(e){return l(e,i,2)}}))}))}},172:function(e,t,n){"use strict";n.r(t);n(278),n(488);var r=n(0),a=n.n(r),i=n(36),l=n(34);t.default=function(){var e=Object(i.l)().search,e=Object(l.searchItem)(e,"id");return a.a.createElement("div",{className:"user"},"User Id=",e)}},173:function(e,t,n){"use strict";n.r(t);n(278),n(488);var r=n(0),a=n.n(r),i=n(36),l=n(34);t.default=function(){var e=Object(i.l)().search,e=Object(l.searchItem)(e,"id");return a.a.createElement("div",{className:"video"},"Video Id=",e)}},254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(i.prototype.save=function(e,t){var n,r=this.cache,a=this.cacheIds;30<=a.length&&(n=a.shift(),r.delete(n));e={id:e};r.set(e,t),a.push(e)},i.prototype.get=function(t){var e=this.cacheIds.find(function(e){return e.id===t});return e?this.cache.get(e):null},i.prototype.del=function(t){var e=this.cache,n=this.cacheIds,r=n.findIndex(function(e){return e.id===t});-1!==r&&(r=n.splice(r,1)[0],e.delete(r))},i.prototype.delAll=function(){for(var e=this.cache,t=0,n=this.cacheIds;t<n.length;t++){var r=n[t];e.delete(r)}this.cacheIds=[]},i);function i(){this.cacheIds=[],this.cache=new WeakMap}t.default=function(){return r=r||new a}},264:function(e,t,n){"use strict";n.r(t),t.default={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}},267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(456)),l=r(n(268)),u=r(n(269)),o=r(n(270)),s=r(n(67));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(s.default,null);var t=n.detail,e=n.songList,n=n.comment;return a.default.createElement("div",{className:i.default.album},a.default.createElement(l.default,{data:{detail:t,songList:e}}),a.default.createElement(u.default,{songList:e}),a.default.createElement(o.default,{data:n}))}},268:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=r(n(645)),s=r(n(646)),c=r(n(647)),f=r(n(648));t.default=function(e){var t=(l=e.data).detail,n=l.songList,r=l.songIds,a=l.lyric,i=t.isPlaylist,e=t.isAlbum,l=t.isSong;return u.default.createElement("div",{className:o.default.detail},i&&u.default.createElement(s.default,{detailData:t,songList:n,songIds:r}),e&&u.default.createElement(c.default,{detailData:t,songList:n}),l&&u.default.createElement(f.default,{detailData:t,songData:n[0],lyric:a}))}},269:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},w=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},j=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var O=i(n(0)),S=l(n(649)),x=l(n(264)),k=l(n(67)),P=n(35),M=n(53),N=n(70),C=n(48),D=n(92),I=n(34),T=n(116),L=n(76),A=l(n(89));t.default=function(e){var t=this,n=e.songList,r=e.songIds,s=e.isCreator,a=(0,O.useContext)(M.StateContext),i=(e=(0,O.useContext)(M.FuncContext)).playSong,l=e.collectSong,u=e.setPlaylist,c=a.playingItem,o=a.playlist,f=(a=(0,O.useState)(n||[]))[0],d=a[1],m=(a=(0,O.useState)(1))[0],p=a[1],v=(0,O.useCallback)(function(t){var e;o.find(function(e){return e.id===t.id})||((e=o.slice()).push(t),u(e))},[o]),h=(0,O.useCallback)(function(e){var t=e.id,e=e.name;(0,A.default)().download(t,e)},[]),y=(0,O.useCallback)(function(t){var e;i(t),o.find(function(e){return e.id===t.id})||((e=o.slice()).push(t),u(e))},[o]),b=(0,O.useCallback)(function(e){l(e)},[]),g=(0,O.useCallback)(function(r){N.Modal.confirm({title:"删除歌曲",content:"是否要删除歌曲 "+r.name+" ？",okText:"是",cancelText:"否",onOk:function(){return w(this,void 0,void 0,function(){var t,n;return j(this,function(e){switch(e.label){case 0:return n=Number((0,I.searchItem)(window.location.hash,"id")),[4,(0,D.songlistTracks)("del",n,r.id)];case 1:return e.sent(),N.message.success("已删除"),t=f.slice(),n=f.findIndex(function(e){return e.id===r.id}),t.splice(n,1),d(t),[2]}})})}})},[f]),_=(0,O.useMemo)(function(){return r?Math.ceil(.02*r.length):1},[r]),E=(0,O.useCallback)(function(e){e="prev"===e?m-1||1:m+1<_?m+1:_;p(e)},[r,m,_]);return(0,O.useEffect)(function(){r&&w(t,void 0,void 0,function(){var t;return j(this,function(e){switch(e.label){case 0:return document.getElementsByClassName(x.default.right)[0].scrollTop=0,d([]),t=50*(m-1),t=r.slice(t,50+t),[4,(0,T.songDetail)(t)];case 1:return t=e.sent(),d((0,L.resolveSongs)(t.songs,"detail")),[2]}})})},[r,m]),0===f.length?O.default.createElement(k.default,null):O.default.createElement("div",{className:S.default.songlist},O.default.createElement("div",{className:"title"},"歌曲列表",O.default.createElement("span",null,(n||r).length,"首歌")),O.default.createElement("table",null,O.default.createElement("thead",null,O.default.createElement("tr",null,O.default.createElement("th",{scope:"col"}),O.default.createElement("th",{scope:"col"},"歌曲标题"),O.default.createElement("th",{scope:"col"},"时长"),O.default.createElement("th",{scope:"col"},"歌手"),O.default.createElement("th",{scope:"col"},"专辑"))),O.default.createElement("tbody",null,f.map(function(e,t){var n=e.id,r=e.name,a=e.singers,i=e.duration,l=e.isFree,u=e.albumId,o=e.albumName;return O.default.createElement("tr",{key:n,className:l?"":"fee"},O.default.createElement("td",null,O.default.createElement("span",null,50*(m-1)+t+1),O.default.createElement(C.CaretRightOutlined,{className:c.id===n?"play-btn-playing":"play-btn",onClick:function(){return y(e)}})),O.default.createElement("td",null,O.default.createElement(P.Link,{to:"/Song?id="+n,title:r},r),O.default.createElement("div",{className:"icons"},l&&O.default.createElement(O.default.Fragment,null,O.default.createElement(C.PlusOutlined,{title:"添加到播放列表",onClick:function(){return v(e)}}),O.default.createElement(C.HeartOutlined,{title:"收藏到歌单",onClick:function(){return b(n)}}),O.default.createElement(C.DownloadOutlined,{title:"下载",onClick:function(){return h(e)}})),s&&O.default.createElement(C.DeleteOutlined,{title:"删除",onClick:function(){return g(e)}}))),O.default.createElement("td",null,(0,I.convertTime)(i)),O.default.createElement("td",null,a.map(function(e,t){var n=e.id,e=e.name;return O.default.createElement(O.default.Fragment,{key:t},O.default.createElement(P.Link,{to:"/Singer?id="+n,title:e,className:S.default.singer},e),t!==a.length-1&&O.default.createElement("span",null," / "))})),O.default.createElement("td",null,O.default.createElement(P.Link,{to:"/Album?id="+u,title:o},o)))}))),1<_&&O.default.createElement("div",{className:"pagination"},O.default.createElement("div",{className:"page-btn",onClick:function(){return E("prev")}},"<"),O.default.createElement("div",{className:"page"},m),O.default.createElement("div",{className:"page-btn",onClick:function(){return E("next")}},">")))}},270:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(650)),s=n(35),c=n(48),f=n(34);t.default=function(e){var t=(r=e.data).hotComments,n=r.comments,e=r.total,r=(0,u.useCallback)(function(e,t){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"sub-title"},e),t.map(function(e,t){var n=e.beReplied,r=e.content,a=e.user,i=e.time,e=e.likedCount;return u.default.createElement("div",{className:"comment",key:t},u.default.createElement("div",{className:"image"},u.default.createElement("img",{src:(0,f.replaceHttpToHttps)(a.avatarUrl)+"?param=50y50",loading:"lazy"})),u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"content"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+a.userId},a.nickname,"："),r),n[0]&&u.default.createElement("div",{className:"reply"},u.default.createElement("span",null,u.default.createElement(s.Link,{to:"User?id="+n[0].user.userId},n[0].user.nickname,"："),n[0].content))),u.default.createElement("div",{className:"footer"},u.default.createElement("span",{className:"date"},(0,f.convertDate)(i)),u.default.createElement("span",{className:"like"},u.default.createElement(c.LikeOutlined,{style:{color:"#1890ff"}}),"(",e,")"))))}))},[]);return u.default.createElement("div",{className:o.default["comment-list"]},u.default.createElement("div",{className:"title"},"评论列表",u.default.createElement("span",{className:"total"},"共 ",e," 条")),0<t.length&&r("精彩评论",t),0<n.length&&r("最新评论",n))}},271:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(457)),l=r(n(67)),u=r(n(125)),o=r(n(126)),s=r(n(127));t.default=function(e){var t=e.pageState,n=e.onPlayAll;if(!t)return a.default.createElement(l.default,null);var r=t.banner,e=t.recommendPlaylist,t=t.recentSong;return a.default.createElement("div",{className:i.default.discovery},a.default.createElement("div",{className:"banner"},a.default.createElement(u.default,{data:r})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"推荐歌单"),a.default.createElement(o.default,{data:e,onPlayAll:n})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"最新音乐"),a.default.createElement(s.default,{data:t})))}},275:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(483)),l=r(n(268)),u=r(n(269)),o=r(n(270)),s=r(n(67));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(s.default,null);var t=r.detail,n=r.songIds,e=r.comment,r=t.isCreator;return a.default.createElement("div",{className:i.default.playlist},a.default.createElement(l.default,{data:{detail:t,songIds:n}}),a.default.createElement(u.default,{songIds:n,isCreator:r}),a.default.createElement(o.default,{data:e}))}},276:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(484)),l=r(n(67)),u=r(n(269)),o=r(n(132)),s=r(n(698)),c=r(n(133));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(l.default,null);var t=n.header,e=n.songList,n=n.intro;return a.default.createElement("div",{className:i.default.singer},a.default.createElement(o.default,{data:t}),a.default.createElement(s.default,null,a.default.createElement(s.default.Pane,{key:"0",text:"热门作品"},a.default.createElement(u.default,{songList:e})),a.default.createElement(s.default.Pane,{key:"1",text:"歌手介绍"},a.default.createElement(c.default,{data:n}))))}},277:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=r(n(487)),l=r(n(268)),u=r(n(270)),o=r(n(67));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(o.default,null);var t=r.detail,n=r.songList,e=r.lyric,r=r.comment;return a.default.createElement("div",{className:i.default.song},a.default.createElement(l.default,{data:{detail:t,songList:n,lyric:e}}),a.default.createElement(u.default,{data:r}))}},34:function(e,t,n){"use strict";var l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceHttpToHttps=t.debounce=t.throttle=t.convertDate=t.searchItem=t.convertTime=t.hasToken=void 0;t.hasToken=function(){var e=Number(localStorage.getItem("timestampBefore"));return Date.now()>=e?(localStorage.removeItem("timestampBefore"),localStorage.removeItem("token"),!1):!!localStorage.getItem("token")};t.convertTime=function(e){var t=e%60>>0;return(e/60>>0).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")};t.searchItem=function(e,t){var t=e.match(new RegExp("[?&]"+t+"=\\w+"));return(null===(t=null===(t=null==t?void 0:t[0])||void 0===t?void 0:t.split("="))||void 0===t?void 0:t[1])||null};t.convertDate=function(e){var t=Date.now()-e,e=new Date(t);return t<=6e4?"刚刚":t<=36e5?(t/6e4>>0)+" 分钟前":t<=864e5?(t/36e5>>0)+" 小时前":1970<e.getFullYear()?e.getFullYear()-1970+" 年前":e.getMonth()?e.getMonth()+" 月前":e.getDate()-1+" 天前"};t.throttle=function(n,r){var a=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&(a=!1,n.call.apply(n,l([this],e,!1)),setTimeout(function(){a=!0},r))}};t.debounce=function(r,a){var i;return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(i),i=setTimeout(function(){r.call.apply(r,l([e],t,!1))},a)}};t.replaceHttpToHttps=function(e){return e.replace(/http\:/,"https:")}},455:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.phoneLogin=t.emailLogin=void 0;var a=r(n(75)),i=r(n(617));t.emailLogin=function(e,t){return(0,a.default)("/login?email="+e+"&md5_password="+(0,i.default)(t),{method:"POST"})};t.phoneLogin=function(e,t){return(0,a.default)("/login/cellphone?phone="+e+"&md5_password="+(0,i.default)(t),{method:"POST"})};t.logout=function(){return(0,a.default)("/logout")}},456:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},457:function(e,t,n){"use strict";n.r(t),t.default={discovery:"discovery_3WDUG"}},458:function(e,t,n){"use strict";n.r(t),t.default={carousel:"carousel_zTOnU"}},459:function(e,t,n){"use strict";n.r(t),t.default={"recommend-playlist":"recommend-playlist_oeGbV"}},460:function(e,t,n){"use strict";n.r(t),t.default={"recent-songlist":"recent-songlist_1kSQW"}},482:function(e,t,n){"use strict";n.r(t),t.default={"personal-fm":"personal-fm_27kHT"}},483:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_1gevM"}},484:function(e,t,n){"use strict";n.r(t),t.default={singer:"singer_C4mAo"}},485:function(e,t,n){"use strict";n.r(t),t.default={title:"title_-x2Xp",image:"image_vfSBc"}},486:function(e,t,n){"use strict";n.r(t),t.default={intro:"intro_3cW6L"}},487:function(e,t,n){"use strict";n.r(t),t.default={song:"song_3h_lc"}},53:function(e,u,o){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0}),u.FuncContext=u.StateContext=void 0;var f=c(o(0)),d=o(35),m=o(139),p=o(70),v=t(o(89)),h=t(o(121)),y=t(o(612)),b=t(o(640));o(642);var t={id:776039,name:"ONE's hope",singers:[{id:18303,name:"やなぎなぎ"}],duration:369.72,cover:"https://p1.music.126.net/l22TRH7bs4VG6HMT2Iy56w==/2511284557902801.jpg",isFree:!0,albumId:76484,albumName:"Colorful Parade"},g={isPlaying:!1,playlist:[t],playMode:"list-loop",playingItem:s(s({},t),{lyric:null})};u.StateContext=f.default.createContext(null),u.FuncContext=f.default.createContext(null),u.default=function(){var e=(0,d.useLocation)().pathname,t=(0,d.useHistory)(),n=(0,m.useSetState)(g),a=n[0],r=n[1],i=(0,f.useRef)(null);h.default.includes(e)||t.replace("/Discovery");var t=(0,f.useMemo)(function(){return f.default.lazy(function(){return Promise.resolve().then(function(){return c(o(643)("./routes"+e))})})},[e]),l=(0,f.useMemo)(function(){return{getSong:function(e,t){var n=t.playlist,r=t.playingItem,t=t.playMode,a=n.length;if(a<=1||"single-cycle"===t)return r;var i,l=n.findIndex(function(e){return e.id===r.id});switch(t){case"list-loop":i="next"===e?(l+1)%a:(a+l-1)%a;break;case"random":(i=Math.random()*a>>0)===l&&(i=(l+1)%a)}return n[i]},playSong:function(e,t){var n=e.id;r({isPlaying:!0,playingItem:s(s({},e),{lyric:null})}),(0,v.default)().play(n,t).then(function(e){e?(i.current.play(),r({playingItem:(0,v.default)().getPlayingItem()})):p.message.error("加载歌曲失败，id:"+n)})},collectSong:function(e){p.Modal.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:f.default.createElement(b.default,{id:e})})},pauseSong:function(){i.current.pause(),(0,v.default)().pause(),r({isPlaying:!1})},setPlaylist:function(e){r({playlist:e})},setPlayMode:function(e){r({playMode:e})}}},[]);return(0,f.useEffect)(function(){var e,t,n,r;navigator.mediaSession&&MediaMetadata&&a.playingItem&&(e=(r=a.playingItem).name,t=r.singers,n=r.cover,r=r.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:n+"?param=96y96",sizes:"96x96",type:"image/jpeg"},{src:n+"?param=128y128",sizes:"128x128",type:"image/jpeg"},{src:n+"?param=192y192",sizes:"192x192",type:"image/jpeg"},{src:n+"?param=256y256",sizes:"256x256",type:"image/jpeg"},{src:n+"?param=384y384",sizes:"384x384",type:"image/jpeg"},{src:n+"?param=512y512",sizes:"512x512",type:"image/jpeg"}]}))},[a]),(0,f.useEffect)(function(){navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){var e=a.playingItem;l.playSong(e)}),navigator.mediaSession.setActionHandler("pause",function(){l.pauseSong()}),navigator.mediaSession.setActionHandler("previoustrack",function(){var e=l.getSong("prev",a);l.playSong(e)}),navigator.mediaSession.setActionHandler("nexttrack",function(){var e=l.getSong("next",a);l.playSong(e)}))},[a]),(0,f.useEffect)(function(){(0,v.default)().setOnEnded(function(){var e=l.getSong;(0,l.playSong)(e("next",a))})},[a]),f.default.createElement(u.FuncContext.Provider,{value:l},f.default.createElement(u.StateContext.Provider,{value:a},f.default.createElement(y.default,{TargetComponent:t}),f.default.createElement("audio",{ref:i,src:"./silence.mp3",loop:!0})))}},570:function(e,t,n){var r={"./af":293,"./af.js":293,"./ar":294,"./ar-dz":295,"./ar-dz.js":295,"./ar-kw":296,"./ar-kw.js":296,"./ar-ly":297,"./ar-ly.js":297,"./ar-ma":298,"./ar-ma.js":298,"./ar-sa":299,"./ar-sa.js":299,"./ar-tn":300,"./ar-tn.js":300,"./ar.js":294,"./az":301,"./az.js":301,"./be":302,"./be.js":302,"./bg":303,"./bg.js":303,"./bm":304,"./bm.js":304,"./bn":305,"./bn-bd":306,"./bn-bd.js":306,"./bn.js":305,"./bo":307,"./bo.js":307,"./br":308,"./br.js":308,"./bs":309,"./bs.js":309,"./ca":310,"./ca.js":310,"./cs":311,"./cs.js":311,"./cv":312,"./cv.js":312,"./cy":313,"./cy.js":313,"./da":314,"./da.js":314,"./de":315,"./de-at":316,"./de-at.js":316,"./de-ch":317,"./de-ch.js":317,"./de.js":315,"./dv":318,"./dv.js":318,"./el":319,"./el.js":319,"./en-au":320,"./en-au.js":320,"./en-ca":321,"./en-ca.js":321,"./en-gb":322,"./en-gb.js":322,"./en-ie":323,"./en-ie.js":323,"./en-il":324,"./en-il.js":324,"./en-in":325,"./en-in.js":325,"./en-nz":326,"./en-nz.js":326,"./en-sg":327,"./en-sg.js":327,"./eo":328,"./eo.js":328,"./es":329,"./es-do":330,"./es-do.js":330,"./es-mx":331,"./es-mx.js":331,"./es-us":332,"./es-us.js":332,"./es.js":329,"./et":333,"./et.js":333,"./eu":334,"./eu.js":334,"./fa":335,"./fa.js":335,"./fi":336,"./fi.js":336,"./fil":337,"./fil.js":337,"./fo":338,"./fo.js":338,"./fr":339,"./fr-ca":340,"./fr-ca.js":340,"./fr-ch":341,"./fr-ch.js":341,"./fr.js":339,"./fy":342,"./fy.js":342,"./ga":343,"./ga.js":343,"./gd":344,"./gd.js":344,"./gl":345,"./gl.js":345,"./gom-deva":346,"./gom-deva.js":346,"./gom-latn":347,"./gom-latn.js":347,"./gu":348,"./gu.js":348,"./he":349,"./he.js":349,"./hi":350,"./hi.js":350,"./hr":351,"./hr.js":351,"./hu":352,"./hu.js":352,"./hy-am":353,"./hy-am.js":353,"./id":354,"./id.js":354,"./is":355,"./is.js":355,"./it":356,"./it-ch":357,"./it-ch.js":357,"./it.js":356,"./ja":358,"./ja.js":358,"./jv":359,"./jv.js":359,"./ka":360,"./ka.js":360,"./kk":361,"./kk.js":361,"./km":362,"./km.js":362,"./kn":363,"./kn.js":363,"./ko":364,"./ko.js":364,"./ku":365,"./ku.js":365,"./ky":366,"./ky.js":366,"./lb":367,"./lb.js":367,"./lo":368,"./lo.js":368,"./lt":369,"./lt.js":369,"./lv":370,"./lv.js":370,"./me":371,"./me.js":371,"./mi":372,"./mi.js":372,"./mk":373,"./mk.js":373,"./ml":374,"./ml.js":374,"./mn":375,"./mn.js":375,"./mr":376,"./mr.js":376,"./ms":377,"./ms-my":378,"./ms-my.js":378,"./ms.js":377,"./mt":379,"./mt.js":379,"./my":380,"./my.js":380,"./nb":381,"./nb.js":381,"./ne":382,"./ne.js":382,"./nl":383,"./nl-be":384,"./nl-be.js":384,"./nl.js":383,"./nn":385,"./nn.js":385,"./oc-lnc":386,"./oc-lnc.js":386,"./pa-in":387,"./pa-in.js":387,"./pl":388,"./pl.js":388,"./pt":389,"./pt-br":390,"./pt-br.js":390,"./pt.js":389,"./ro":391,"./ro.js":391,"./ru":392,"./ru.js":392,"./sd":393,"./sd.js":393,"./se":394,"./se.js":394,"./si":395,"./si.js":395,"./sk":396,"./sk.js":396,"./sl":397,"./sl.js":397,"./sq":398,"./sq.js":398,"./sr":399,"./sr-cyrl":400,"./sr-cyrl.js":400,"./sr.js":399,"./ss":401,"./ss.js":401,"./sv":402,"./sv.js":402,"./sw":403,"./sw.js":403,"./ta":404,"./ta.js":404,"./te":405,"./te.js":405,"./tet":406,"./tet.js":406,"./tg":407,"./tg.js":407,"./th":408,"./th.js":408,"./tk":409,"./tk.js":409,"./tl-ph":410,"./tl-ph.js":410,"./tlh":411,"./tlh.js":411,"./tr":412,"./tr.js":412,"./tzl":413,"./tzl.js":413,"./tzm":414,"./tzm-latn":415,"./tzm-latn.js":415,"./tzm.js":414,"./ug-cn":416,"./ug-cn.js":416,"./uk":417,"./uk.js":417,"./ur":418,"./ur.js":418,"./uz":419,"./uz-latn":420,"./uz-latn.js":420,"./uz.js":419,"./vi":421,"./vi.js":421,"./x-pseudo":422,"./x-pseudo.js":422,"./yo":423,"./yo.js":423,"./zh-cn":424,"./zh-cn.js":424,"./zh-hk":425,"./zh-hk.js":425,"./zh-mo":426,"./zh-mo.js":426,"./zh-tw":427,"./zh-tw.js":427};function a(e){e=i(e);return n(e)}function i(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=i,(e.exports=a).id=570},605:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(606)),u=r(n(89)),o=512,s=o/2+1,c=new Array(s).fill(0),f=function(e){return.54-.46*Math.cos(6.283185307179586*e/(o-1))},d=function(e){var t=new l.default(o),n=t.createComplexArray();t.realTransform(n,e);for(var r=0;r<s;++r){var a=n[2*r],i=n[2*r+1],i=Math.pow(Math.pow(a,2)+Math.pow(i,2),.5),i=20*Math.log10(i);isFinite(i)?i<c[r]?c[r]=.08*i+.92*c[r]:c[r]=.8*i+c[r]*(1-.8):c[r]=0}};t.default=function(e){for(var t=e.getChannelData(0),e=(0,u.default)().getCurrentTime()/e.duration*t.length>>0,n=t.slice(e,e+o),r=o-n.length,a=0;a<r;++a)n[n.length]=0;for(a=0;a<o;++a){var i=f(a);n[a]*=i}return d(n),c.map(function(e){return e?.0125*(e+20):0})}},606:function(e,t,n){"use strict";n.r(t);n(444);var r,a,i=(r=[function(e,t,n){function r(e){if(this.size=0|e,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(2*this.size),n=0;n<t.length;n+=2){var r=Math.PI*n/this.size;t[n]=Math.cos(r),t[n+1]=-Math.sin(r)}this.table=t;for(var a=0,i=1;this.size>i;i<<=1)a++;this._width=a%2==0?a-1:a,this._bitrev=new Array(1<<this._width);for(var l=0;l<this._bitrev.length;l++)for(var u=this._bitrev[l]=0;u<this._width;u+=2){var o=this._width-u-2;this._bitrev[l]|=(l>>>u&3)<<o}this._out=null,this._data=null,this._inv=0}(e.exports=r).prototype.fromComplexArray=function(e,t){for(var n=t||new Array(e.length>>>1),r=0;r<e.length;r+=2)n[r>>>1]=e[r];return n},r.prototype.createComplexArray=function(){for(var e=new Array(this._csize),t=0;t<e.length;t++)e[t]=0;return e},r.prototype.toComplexArray=function(e,t){for(var n=t||this.createComplexArray(),r=0;r<n.length;r+=2)n[r]=e[r>>>1],n[r+1]=0;return n},r.prototype.completeSpectrum=function(e){for(var t=this._csize,n=t>>>1,r=2;r<n;r+=2)e[t-r]=e[r],e[t-r+1]=-e[r+1]},r.prototype.transform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},r.prototype.realTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},r.prototype.inverseTransform=function(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._out=e,this._data=t,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null},r.prototype._transform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,i=this._bitrev;if(4===a)for(e=f=0;f<n;f+=a,e++){var l=i[e];this._singleTransform2(f,l,r)}else for(e=f=0;f<n;f+=a,e++){var u=i[e];this._singleTransform4(f,u,r)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>2,f=0;f<n;f+=a)for(var d=f+c,m=f,p=0;m<d;m+=2,p+=r){var v=m,h=v+c,y=h+c,b=y+c,g=t[v],_=t[v+1],E=t[h],w=t[h+1],j=t[y],O=t[y+1],S=t[b],x=t[b+1],k=s[p],P=o*s[p+1],M=E*k-w*P,E=E*P+w*k,P=s[2*p],w=o*s[2*p+1],k=j*P-O*w,j=j*w+O*P,w=s[3*p],O=o*s[3*p+1],P=S*w-x*O,S=S*O+x*w,O=g+k,x=_+j,w=g-k,g=_-j,k=M+P,_=E+S,j=o*(M-P),M=o*(E-S),P=x+_,E=O-k,S=x-_,x=w+M,_=g-j,M=w-M,j=g+j;t[v]=O+k,t[v+1]=P,t[h]=x,t[h+1]=_,t[y]=E,t[y+1]=S,t[b]=M,t[b+1]=j}},r.prototype._singleTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],l=a[t+1],u=a[t+n],a=a[t+n+1],t=l+a,n=i-u,a=l-a;r[e]=i+u,r[e+1]=t,r[e+2]=n,r[e+3]=a},r.prototype._singleTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,l=2*n,u=3*n,o=a[t],s=a[t+1],c=a[t+n],f=a[t+n+1],d=a[t+l],m=a[t+l+1],n=a[t+u],l=a[t+u+1],a=o+d,t=s+m,u=o-d,o=s-m,d=c+n,s=f+l,m=i*(c-n),c=i*(f-l),n=t+s,i=u+c,f=o-m,l=a-d,s=t-s,c=u-c,m=o+m;r[e]=a+d,r[e+1]=n,r[e+2]=i,r[e+3]=f,r[e+4]=l,r[e+5]=s,r[e+6]=c,r[e+7]=m},r.prototype._realTransform4=function(){var e,t=this._out,n=this._csize,r=1<<this._width,a=n/r<<1,i=this._bitrev;if(4===a)for(e=m=0;m<n;m+=a,e++){var l=i[e];this._singleRealTransform2(m,l>>>1,r>>>1)}else for(e=m=0;m<n;m+=a,e++){var u=i[e];this._singleRealTransform4(m,u>>>1,r>>>1)}var o=this._inv?-1:1,s=this.table;for(r>>=2;2<=r;r>>=2)for(var c=(a=n/r<<1)>>>1,f=c>>>1,d=f>>>1,m=0;m<n;m+=a)for(var p=0,v=0;p<=d;p+=2,v+=r){var h=m+p,y=h+f,b=y+f,g=b+f,_=t[h],E=t[h+1],w=t[y],j=t[y+1],O=t[b],S=t[b+1],x=t[g],k=t[g+1],P=s[v],M=o*s[v+1],g=w*P-j*M,w=w*M+j*P,M=s[2*v],j=o*s[2*v+1],P=O*M-S*j,O=O*j+S*M,j=s[3*v],S=o*s[3*v+1],M=x*j-k*S,x=x*S+k*j,S=_+P,k=E+O,j=_-P,_=E-O,P=g+M,E=w+x,O=o*(g-M),g=o*(w-x),M=k+E,w=j+g,x=_-O;t[h]=S+P,t[h+1]=M,t[y]=w,t[y+1]=x,0!==p?p!==d&&(w=-_+-o*O,y=S+-o*P,x=-k- -o*E,_=m+c-p,t[O=m+f-p]=j+-o*g,t[1+O]=w,t[_]=y,t[1+_]=x):(E=k-E,t[b]=S-P,t[b+1]=E)}},r.prototype._singleRealTransform2=function(e,t,n){var r=this._out,a=this._data,i=a[t],t=a[t+n],n=i-t;r[e]=i+t,r[e+1]=0,r[e+2]=n,r[e+3]=0},r.prototype._singleRealTransform4=function(e,t,n){var r=this._out,a=this._data,i=this._inv?-1:1,l=a[t],u=a[t+n],o=a[t+2*n],a=a[t+3*n],t=l+o,n=l-o,l=u+a,o=i*(u-a),i=n,u=-o,a=t-l,n=n,o=o;r[e]=t+l,r[e+1]=0,r[e+2]=i,r[e+3]=u,r[e+4]=a,r[e+5]=0,r[e+6]=n,r[e+7]=o}}],a={},l.m=r,l.c=a,l.i=function(e){return e},l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0));function l(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}t.default=i},61:function(e,t,n){"use strict";n.r(t),t.default={"my-songlist":"my-songlist_3CSEN",title:"title_2ELe3","list-item":"list-item_1EFwt",delete:"delete_1qEdy",image:"image_2q3Un",content:"content_2L3Nd"}},612:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(264)),s=l(n(67)),c=l(n(614)),f=l(n(621)),d=l(n(623));t.default=(0,u.memo)(function(e){return e=e.TargetComponent,u.default.createElement("div",{className:o.default.layout},u.default.createElement("div",{className:o.default.top},u.default.createElement(c.default,null)),u.default.createElement("div",{className:o.default.middle},u.default.createElement("div",{className:o.default.left},u.default.createElement(f.default,null)),u.default.createElement("div",{className:o.default.right},u.default.createElement(u.Suspense,{fallback:u.default.createElement(s.default,null)},u.default.createElement(e,null)))),u.default.createElement("div",{className:o.default.bottom},u.default.createElement(d.default,null)))})},613:function(e,t,n){"use strict";n.r(t)},614:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},p=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},v=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=i(n(0)),y=n(35),b=l(n(615)),g=n(70),_=n(48),E=l(n(616)),w=n(34),j=n(455),O=n(620);t.default=(0,h.memo)(function(){var e=this,t=(c=(0,h.useState)(null))[0],n=c[1],r=(0,h.useState)(!1),a=r[0],i=r[1],l=(d=(0,h.useState)(null))[0],u=d[1],o=(0,y.useHistory)(),s=(0,h.useState)(!1),c=s[0],f=s[1],d=(r=(0,h.useState)({}))[0],m=r[1];return(0,h.useEffect)(function(){var e,t;(0,w.hasToken)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&(n(window.localStorage.getItem("username")),u(window.localStorage.getItem("avatar"))))},[]),s=function(){null===t&&i(!a)},r=(0,w.debounce)(function(n){return p(e,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return""===n?[2]:[4,(0,O.searchSuggest)(n)];case 1:return t=e.sent().result,Array.isArray(t.songs)&&(t.songs=t.songs.map(function(e){return{text:e.name+" - "+e.artists.map(function(e){return e.name}).join("/"),value:"/Song?id="+e.id}})),Array.isArray(t.albums)&&(t.albums=t.albums.map(function(e){return{text:e.name+" - "+e.artist.name,value:"/Album?id="+e.id}})),Array.isArray(t.artists)&&(t.artists=t.artists.map(function(e){return{text:e.name,value:"/Singer?id="+e.id}})),Array.isArray(t.playlists)&&(t.playlists=t.playlists.map(function(e){return{text:e.name,value:"/Playlist?id="+e.id}})),m(t),[2]}})})},800),h.default.createElement("div",{className:b.default.header},h.default.createElement(E.default,{visible:a,onClose:s,onSetName:n,onSetImg:u}),h.default.createElement(g.Avatar,{onClick:s,size:40,icon:h.default.createElement(_.UserOutlined,null),src:l?(0,w.replaceHttpToHttps)(l)+"?param=80y80":""}),h.default.createElement("div",{className:"username"},t||"未登录"),t&&h.default.createElement("div",{className:"logout",onClick:function(){return p(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,(0,j.logout)()];case 1:return 200===e.sent().code&&(window.localStorage.clear(),n(null),u(null)),[2]}})})}},"退出登录"),h.default.createElement(g.Select,{showSearch:!0,className:"search",style:{width:c?320:160},dropdownMatchSelectWidth:320,placeholder:"搜索音乐",value:null,suffixIcon:h.default.createElement(_.SearchOutlined,null),onChange:function(e){m({}),o.push(e)},onSearch:r,filterOption:!1,onFocus:function(){return f(!0)},onBlur:function(){f(!1),m({})}},d.songs&&h.default.createElement(g.Select.OptGroup,{label:"单曲"},d.songs.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.albums&&h.default.createElement(g.Select.OptGroup,{label:"专辑"},d.albums.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.artists&&h.default.createElement(g.Select.OptGroup,{label:"歌手"},d.artists.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.playlists&&h.default.createElement(g.Select.OptGroup,{label:"歌单"},d.playlists.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)}))))})},615:function(e,t,n){"use strict";n.r(t),t.default={header:"header_2ZE5y"}},616:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},u=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},h=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),s=n(70),y=n(455),c={labelCol:{span:4},wrapperCol:{span:20}},b={wrapperCol:{offset:18,span:4}};t.default=function(e){var t=this,n=e.visible,f=e.onClose,d=e.onSetName,m=e.onSetImg,p=(e=(0,o.useState)(!1))[0],v=e[1];return o.default.createElement(s.Modal,{title:"登录",visible:n,onCancel:f,footer:null},o.default.createElement(s.Form,r({},c,{onFinish:function(c){return u(t,void 0,void 0,function(){var t,n,r,a,i,l,u,o,s;return h(this,function(e){switch(e.label){case 0:if(t=c.username,n=c.password,!t||!n)return[2];if(/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t))r="email";else{if(!/^1[3-9]\d{9}$/.test(t))return[2];r="phone"}return p?[2]:(v(!0),"email"!==r?[3,2]:[4,(0,y.emailLogin)(t,n)]);case 1:return a=e.sent(),[3,4];case 2:return[4,(0,y.phoneLogin)(t,n)];case 3:a=e.sent(),e.label=4;case 4:return o=(s=a).profile,i=o.nickname,l=o.avatarUrl,u=s.account.id,o=s.token,s=Number(s.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1]),d(i),m(l),window.localStorage.setItem("username",i),window.localStorage.setItem("avatar",l),window.localStorage.setItem("userid",u),window.localStorage.setItem("token",o),window.localStorage.setItem("timestampBefore",String(Date.now()+1e3*s)),v(!1),f(),[2]}})})}}),o.default.createElement(s.Form.Item,{label:"账号",name:"username"},o.default.createElement(s.Input,{placeholder:"输入手机号或邮箱"})),o.default.createElement(s.Form.Item,{label:"密码",name:"password"},o.default.createElement(s.Input,{type:"password",placeholder:"输入密码",autoComplete:"on"})),o.default.createElement(s.Form.Item,r({},b),o.default.createElement(s.Button,{type:"primary",htmlType:"submit",loading:p},"登录"))))}},617:function(e,t,n){"use strict";n.r(t);n(618);function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t,n,r,a,i){return f((i=f(f(t,e),f(r,i)))<<a|i>>>32-a,n)}function d(e,t,n,r,a,i,l){return u(t&n|~t&r,e,t,a,i,l)}function m(e,t,n,r,a,i,l){return u(t&r|n&~r,e,t,a,i,l)}function p(e,t,n,r,a,i,l){return u(t^n^r,e,t,a,i,l)}function v(e,t,n,r,a,i,l){return u(n^(t|~r),e,t,a,i,l)}function l(e,t){var n,r,a,i;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var l=1732584193,u=-271733879,o=-1732584194,s=271733878,c=0;c<e.length;c+=16)l=d(n=l,r=u,a=o,i=s,e[c],7,-680876936),s=d(s,l,u,o,e[c+1],12,-389564586),o=d(o,s,l,u,e[c+2],17,606105819),u=d(u,o,s,l,e[c+3],22,-1044525330),l=d(l,u,o,s,e[c+4],7,-176418897),s=d(s,l,u,o,e[c+5],12,1200080426),o=d(o,s,l,u,e[c+6],17,-1473231341),u=d(u,o,s,l,e[c+7],22,-45705983),l=d(l,u,o,s,e[c+8],7,1770035416),s=d(s,l,u,o,e[c+9],12,-1958414417),o=d(o,s,l,u,e[c+10],17,-42063),u=d(u,o,s,l,e[c+11],22,-1990404162),l=d(l,u,o,s,e[c+12],7,1804603682),s=d(s,l,u,o,e[c+13],12,-40341101),o=d(o,s,l,u,e[c+14],17,-1502002290),l=m(l,u=d(u,o,s,l,e[c+15],22,1236535329),o,s,e[c+1],5,-165796510),s=m(s,l,u,o,e[c+6],9,-1069501632),o=m(o,s,l,u,e[c+11],14,643717713),u=m(u,o,s,l,e[c],20,-373897302),l=m(l,u,o,s,e[c+5],5,-701558691),s=m(s,l,u,o,e[c+10],9,38016083),o=m(o,s,l,u,e[c+15],14,-660478335),u=m(u,o,s,l,e[c+4],20,-405537848),l=m(l,u,o,s,e[c+9],5,568446438),s=m(s,l,u,o,e[c+14],9,-1019803690),o=m(o,s,l,u,e[c+3],14,-187363961),u=m(u,o,s,l,e[c+8],20,1163531501),l=m(l,u,o,s,e[c+13],5,-1444681467),s=m(s,l,u,o,e[c+2],9,-51403784),o=m(o,s,l,u,e[c+7],14,1735328473),l=p(l,u=m(u,o,s,l,e[c+12],20,-1926607734),o,s,e[c+5],4,-378558),s=p(s,l,u,o,e[c+8],11,-2022574463),o=p(o,s,l,u,e[c+11],16,1839030562),u=p(u,o,s,l,e[c+14],23,-35309556),l=p(l,u,o,s,e[c+1],4,-1530992060),s=p(s,l,u,o,e[c+4],11,1272893353),o=p(o,s,l,u,e[c+7],16,-155497632),u=p(u,o,s,l,e[c+10],23,-1094730640),l=p(l,u,o,s,e[c+13],4,681279174),s=p(s,l,u,o,e[c],11,-358537222),o=p(o,s,l,u,e[c+3],16,-722521979),u=p(u,o,s,l,e[c+6],23,76029189),l=p(l,u,o,s,e[c+9],4,-640364487),s=p(s,l,u,o,e[c+12],11,-421815835),o=p(o,s,l,u,e[c+15],16,530742520),l=v(l,u=p(u,o,s,l,e[c+2],23,-995338651),o,s,e[c],6,-198630844),s=v(s,l,u,o,e[c+7],10,1126891415),o=v(o,s,l,u,e[c+14],15,-1416354905),u=v(u,o,s,l,e[c+5],21,-57434055),l=v(l,u,o,s,e[c+12],6,1700485571),s=v(s,l,u,o,e[c+3],10,-1894986606),o=v(o,s,l,u,e[c+10],15,-1051523),u=v(u,o,s,l,e[c+1],21,-2054922799),l=v(l,u,o,s,e[c+8],6,1873313359),s=v(s,l,u,o,e[c+15],10,-30611744),o=v(o,s,l,u,e[c+6],15,-1560198380),u=v(u,o,s,l,e[c+13],21,1309151649),l=v(l,u,o,s,e[c+4],6,-145523070),s=v(s,l,u,o,e[c+11],10,-1120210379),o=v(o,s,l,u,e[c+2],15,718787259),u=v(u,o,s,l,e[c+9],21,-343485551),l=f(l,n),u=f(u,r),o=f(o,a),s=f(s,i);return[l,u,o,s]}function o(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function s(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function r(e){for(var t,n="0123456789abcdef",r="",a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function a(e){return unescape(encodeURIComponent(e))}function i(e){return o(l(s(e=a(e)),8*e.length))}function c(e,t){return function(e,t){var n,r=s(e),a=[],i=[];for(a[15]=i[15]=void 0,16<r.length&&(r=l(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],i[n]=1549556828^r[n];return t=l(a.concat(s(t)),512+8*t.length),o(l(i.concat(t),640))}(a(e),a(t))}t.default=function(e,t,n){return t?n?c(t,e):r(c(t,e)):n?i(e):r(i(e))}},620:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.searchSuggest=void 0;var a=r(n(75));t.searchSuggest=function(e){return(0,a.default)("/search/suggest?keywords="+e)}},621:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(622)),s=n(35),c=n(48);t.default=(0,u.memo)(function(){var e=(0,u.useState)("Discovery"),r=e[0],t=e[1],n=(0,s.useLocation)().pathname;return(0,u.useEffect)(function(){t(n.slice(1))},[n]),u.default.createElement("div",{className:o.default.container},u.default.createElement("input",{type:"checkbox",id:"toggle",className:"input-toggle"}),u.default.createElement("div",{className:"sidebar"},u.default.createElement("div",{className:"category"},"推荐"),[{text:"发现音乐",Icon:c.SearchOutlined,key:"Discovery"},{text:"私人FM",Icon:c.CustomerServiceOutlined,key:"PersonalFM"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"我的音乐"),[{text:"我的歌单",Icon:c.HeartOutlined,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(s.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"GitHub"),u.default.createElement("a",{className:"item",href:"https://github.com/lisianthus-a/react-music",target:"_blank"},u.default.createElement(c.GithubOutlined,null)," 项目地址"),u.default.createElement("a",{className:"item",href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},u.default.createElement(c.FileTextOutlined,null)," API文档")),u.default.createElement("label",{htmlFor:"toggle"},u.default.createElement("div",{className:"toggle"})))})},622:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3Mt4v"}},623:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(624)),s=n(53),c=n(139),f=l(n(89)),d=l(n(625)),m=l(n(627)),p=l(n(629)),v=l(n(638));t.default=(0,u.memo)(function(){var e=(0,u.useContext)(s.StateContext),t=(i=(0,u.useState)(0))[0],n=i[1],r=e.isPlaying,a=e.playMode,i=e.playlist,e=e.playingItem;return(0,c.useInterval)(function(){var e=(0,f.default)().getCurrentTime();n(e)},300),u.default.createElement("div",{className:o.default["music-player"]},u.default.createElement(d.default,{playingItem:e,currentTime:t}),u.default.createElement(m.default,null),u.default.createElement(p.default,{isPlaying:r,playingItem:e,playlist:i,playMode:a,currentTime:t}),u.default.createElement(v.default,{playingItem:e,currentTime:t,setCurrentTime:n}))})},624:function(e,t,n){"use strict";n.r(t),t.default={"music-player":"music-player_39d43"}},625:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(626)),s=n(35),c=n(34);t.default=function(e){var t=e.playingItem,n=e.currentTime,r=t.id,a=t.name,i=t.cover,l=t.singers,e=t.duration,t=(0,u.useMemo)(function(){return l.map(function(e){return e.name}).join("/")},[l]),e=(0,c.convertTime)(n)+" / "+(0,c.convertTime)(e);return u.default.createElement("div",{className:o.default.container},u.default.createElement("img",{src:i+"?param=50y50"}),u.default.createElement("div",{className:"information"},u.default.createElement("div",{className:"song"},u.default.createElement(s.Link,{to:"/Song?id="+r},a)," - ",u.default.createElement("span",{className:"singer",title:t},t)),u.default.createElement("div",{className:"time"},e)))}},626:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3o_Fk"}},627:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=l(n(628)),c=n(48),f=n(53);t.default=(0,o.memo)(function(){function e(e){e=n(e,i),r(e)}var t=(0,o.useContext)(f.FuncContext),n=t.getSong,r=t.playSong,a=t.pauseSong,i=(0,o.useContext)(f.StateContext),l=i.isPlaying,u=i.playingItem;return o.default.createElement("div",{className:s.default.container},o.default.createElement("div",{className:"prev",title:"上一首",onClick:function(){return e("prev")}},o.default.createElement(c.StepBackwardOutlined,null)),o.default.createElement("div",{className:"play-or-pause",onClick:function(){l?a():r(u)},title:"播放/暂停"},l?o.default.createElement(c.PauseOutlined,null):o.default.createElement(c.CaretRightOutlined,null)),o.default.createElement("div",{className:"next",title:"下一首",onClick:function(){return e("next")}},o.default.createElement(c.StepForwardOutlined,null)))})},628:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3ew1h"}},629:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),l=r(n(630)),u=r(n(631)),o=r(n(633)),s=r(n(636));t.default=function(e){var t=e.isPlaying,n=e.playingItem,r=e.playlist,a=e.playMode,e=e.currentTime;return i.default.createElement("div",{className:l.default["other-button"]},i.default.createElement(u.default,{isPlaying:t,playingItem:n,playlist:r,currentTime:e}),i.default.createElement(o.default,{playMode:a}),i.default.createElement(s.default,null))}},630:function(e,t,n){"use strict";n.r(t),t.default={"other-button":"other-button_1-Ybf"}},631:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},g=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},_=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=i(n(0)),w=l(n(632)),j=n(48),O=n(34),S=n(139),x=l(n(89)),k=l(n(254)),P=n(53);t.default=function(e){var t=this,u=e.isPlaying,o=e.playlist,s=e.playingItem,i=e.currentTime,c=(r=(0,E.useContext)(P.FuncContext)).playSong,n=r.collectSong,f=r.setPlaylist,r=(e=(0,E.useState)(s.lyric))[0],a=e[1],l=(0,E.useRef)(null),d=(0,E.useRef)(null),m=(0,E.useRef)(null),p=(0,E.useRef)(s.id),e=(0,E.useCallback)(function(){(0,k.default)().delAll(),f([])},[]),v=(0,E.useCallback)(function(n){return g(t,void 0,void 0,function(){var t;return _(this,function(e){return t=o[n],c(t),[2]})})},[o]),h=(0,E.useCallback)(function(e,t,n){e.stopPropagation(),(0,x.default)().download(t,n)},[]),y=(0,E.useCallback)(function(i,l){return g(t,void 0,void 0,function(){var t,n,r,a;return _(this,function(e){return i.stopPropagation(),t=o.slice(),n=t.findIndex(function(e){return e.id===s.id}),r=t.splice(l,1),(0,k.default)().del(r[0].id),f(t),n===l&&u&&(a=t[l]||t[t.length-1])&&c(a),[2]})})},[o,u,s]),b=(0,E.useCallback)(function(e,t){e.stopPropagation(),n(t)},[]);return(0,S.useInterval)(function(){if(toggleList.checked){var a=d.current.getElementsByClassName("lyric");if(0!==a.length){var e=Number(a[0].dataset.time);if(Number(a[a.length-1].dataset.time)<=i)t=a[a.length-1];else{if(i<=e)return;var e=function(){for(var e=0,t=a.length-1;e<=t;){var n=e+t>>1,r=Number(a[n].dataset.time);i<r?t=n-1:e=1+n}return e-1}(),t=a[e]}m.current!==t&&(m.current&&m.current.classList.remove("active"),(m.current=t).classList.add("active"),t=m.current.offsetTop+m.current.scrollHeight/2-195,d.current.scrollTop=t<0?0:t)}}},400),(0,E.useEffect)(function(){s.id!==p.current?(m.current&&m.current.classList.remove("active"),d.current.scrollTop=0,p.current=s.id,a(s.lyric)):s.lyric&&a(s.lyric)},[s]),(0,E.useEffect)(function(){var e;l.current&&(e=l.current.getContext("2d"),(0,x.default)().setCanvasContext(e),(0,x.default)().drawStart())},[l]),E.default.createElement("div",{className:w.default.playlist},E.default.createElement("div",{className:"icon",title:"播放列表"},E.default.createElement("label",{htmlFor:"toggleList"},E.default.createElement(j.UnorderedListOutlined,null),o.length)),E.default.createElement("input",{type:"checkbox",id:"toggleList",className:"toggle"}),E.default.createElement("div",{className:"list"},E.default.createElement("canvas",{ref:l,height:"310",width:"900"}),E.default.createElement("div",{className:"list-left"},E.default.createElement("div",{className:"title"},E.default.createElement("span",null,"播放列表 (",o.length,")"),E.default.createElement("span",{className:"clean",onClick:e},E.default.createElement(j.DeleteOutlined,null)," 清空")),E.default.createElement("div",{className:"content"},o.map(function(e,t){var n=e.id,r=e.name,a=e.singers,e=e.duration;return E.default.createElement("div",{className:n===s.id?"item playing":"item",key:n,onClick:function(){return v(t)}},n===s.id&&E.default.createElement(j.CaretRightOutlined,null),E.default.createElement("div",{className:"song-title",title:r},r),E.default.createElement("div",{className:"icons"},E.default.createElement(j.PlusOutlined,{title:"添加到歌单",onClick:function(e){return b(e,n)}}),E.default.createElement(j.DownloadOutlined,{title:"下载",onClick:function(e){return h(e,n,r)}}),E.default.createElement(j.DeleteOutlined,{title:"删除",onClick:function(e){return y(e,t)}})),E.default.createElement("div",{className:"singer",title:a.map(function(e){return e.name}).join("/")},a.map(function(e){return e.name}).join("/")),E.default.createElement("div",{className:"duration"},(0,O.convertTime)(e)))}))),E.default.createElement("div",{className:"list-right"},E.default.createElement("div",{className:"title"},E.default.createElement("span",{title:s.name},s.name)),E.default.createElement("div",{className:"content",ref:d},null===r&&E.default.createElement("p",null,"歌词加载中..."),r&&0===r.length&&E.default.createElement("p",null,"暂无歌词"),r&&r.map(function(e,t){var n=e[0],r=e[1],e=e[2];return E.default.createElement("p",{key:t,"data-time":e,className:"lyric"},n,r&&E.default.createElement(E.default.Fragment,null,E.default.createElement("br",null),r))}))),E.default.createElement("label",{htmlFor:"toggleList"},E.default.createElement("div",{className:"close"},"X"))))}},632:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_3Uhd9"}},633:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(634)),s=n(53),l=l(n(635)),n=n(48),c={"list-loop":u.default.createElement(n.RetweetOutlined,{title:"列表循环"}),random:u.default.createElement(l.default,{type:"icon-random",title:"随机"}),"single-cycle":u.default.createElement(l.default,{type:"icon-Singlecycle",title:"单曲循环"})};t.default=(0,u.memo)(function(e){var t=e.playMode,n=(0,u.useContext)(s.FuncContext).setPlayMode,e=c[t];return u.default.createElement("div",{className:o.default["play-mode"]},u.default.createElement("div",{className:"icon",onClick:function(){var e="list-loop"===t?"random":"random"===t?"single-cycle":"list-loop";n(e)}},e))})},634:function(e,t,n){"use strict";n.r(t),t.default={"play-mode":"play-mode_3wZ9F"}},635:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),l=(0,n(48).createFromIconfontCN)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"});t.default=function(e){return i.default.createElement(l,r({},e))}},636:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(637)),s=n(70),c=n(48),f=l(n(89));t.default=(0,u.memo)(function(){return u.default.createElement("div",{className:o.default.volume},u.default.createElement("div",{className:"icon",title:"音量"},u.default.createElement(c.SoundOutlined,null)),u.default.createElement("div",{className:"slider"},u.default.createElement(s.Slider,{defaultValue:100,onChange:function(e){(0,f.default)().setVolume(.01*e)},tipFormatter:function(e){return e+"%"}})))})},637:function(e,t,n){"use strict";n.r(t),t.default={volume:"volume_3rxth"}},638:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=i(n(0)),p=l(n(639)),v=n(34),h=n(53);t.default=(0,m.memo)(function(e){var n=e.playingItem,t=e.currentTime,r=e.setCurrentTime,a=n.duration,i=(d=(0,m.useState)(!1))[0],l=d[1],u=(0,m.useRef)(null),o=(0,m.useRef)(null),s=(0,m.useContext)(h.FuncContext).playSong,e=(0,m.useCallback)(function(e){var t;0===e.button&&(window.addEventListener("mousemove",f),window.addEventListener("mouseup",c),l(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,u.current.style.width=100*t+"%",o.current.textContent=(0,v.convertTime)(t*a))},[n]),c=(0,m.useCallback)(function(e){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",c),l(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t*a;t<0?t=0:a<t&&(t=a),r(t),s(n,t)},[n]),f=(0,m.useCallback)(function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;1<t?t=1:t<0&&(t=0),u.current.style.width=100*t+"%",o.current.textContent=(0,v.convertTime)(t*a)},[n]),d=(0,m.useMemo)(function(){return i?{width:u.current.style.width}:{width:t/a*100+"%"}},[t,a]);return m.default.createElement("div",{className:p.default.progressbar},m.default.createElement("div",{className:"track",onMouseDown:e}),m.default.createElement("div",{className:"rail",onMouseDown:e,ref:u,style:d},m.default.createElement("div",{className:"handle"}),m.default.createElement("div",{className:"tooltip",ref:o,style:{display:i?"block":"none"}})))})},639:function(e,t,n){"use strict";n.r(t),t.default={progressbar:"progressbar_2Rh8C"}},640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},f=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(n(0)),m=l(n(641)),p=n(70),v=l(n(67)),h=n(92);t.default=function(e){var t=this,n=e.id,r=(0,d.useState)(null),a=r[0],i=r[1],l=(e=(0,d.useState)(null))[0],u=e[1],e=(r=(0,d.useState)(!1))[0],o=r[1],s=window.localStorage.getItem("userid");return s?((0,d.useEffect)(function(){c(t,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,(0,h.userPlaylist)(s)];case 1:return n=e.sent(),t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单 ("+t.length+")",value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单 ("+n.length+")",value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],i(n),[2]}})})},[]),a?d.default.createElement("div",{className:m.default["collect-song"]},d.default.createElement(p.TreeSelect,{treeData:a,style:{width:"100%"},onChange:function(e){return u(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"}),d.default.createElement(p.Button,{onClick:function(){l&&(o(!0),(0,h.songlistTracks)("add",l,n).then(function(){p.Modal.destroyAll(),p.message.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:30}},"确认")):d.default.createElement(v.default,null)):d.default.createElement("div",null,"未找到 userid，请重新登录")}},641:function(e,t,n){"use strict";n.r(t),t.default={"collect-song":"collect-song_1DAiM"}},643:function(e,t,n){var r={"./routes":121,"./routes/":121,"./routes/Album":160,"./routes/Album/":160,"./routes/Album/components/View":267,"./routes/Album/components/View.module.scss":456,"./routes/Album/components/View.tsx":267,"./routes/Album/index":160,"./routes/Album/index.tsx":160,"./routes/Discovery":161,"./routes/Discovery/":161,"./routes/Discovery/components/Carousel":125,"./routes/Discovery/components/Carousel/":125,"./routes/Discovery/components/Carousel/index":125,"./routes/Discovery/components/Carousel/index.module.scss":458,"./routes/Discovery/components/Carousel/index.tsx":125,"./routes/Discovery/components/RecentSonglist":127,"./routes/Discovery/components/RecentSonglist/":127,"./routes/Discovery/components/RecentSonglist/index":127,"./routes/Discovery/components/RecentSonglist/index.module.scss":460,"./routes/Discovery/components/RecentSonglist/index.tsx":127,"./routes/Discovery/components/RecommentPlaylist":126,"./routes/Discovery/components/RecommentPlaylist/":126,"./routes/Discovery/components/RecommentPlaylist/index":126,"./routes/Discovery/components/RecommentPlaylist/index.module.scss":459,"./routes/Discovery/components/RecommentPlaylist/index.tsx":126,"./routes/Discovery/components/View":271,"./routes/Discovery/components/View.module.scss":457,"./routes/Discovery/components/View.tsx":271,"./routes/Discovery/index":161,"./routes/Discovery/index.tsx":161,"./routes/MySongList":162,"./routes/MySongList/":162,"./routes/MySongList/components/View":171,"./routes/MySongList/components/View.js":171,"./routes/MySongList/components/View.module.scss":61,"./routes/MySongList/index":162,"./routes/MySongList/index.js":162,"./routes/PersonalFM":165,"./routes/PersonalFM/":165,"./routes/PersonalFM/index":165,"./routes/PersonalFM/index.module.scss":482,"./routes/PersonalFM/index.tsx":165,"./routes/Playlist":166,"./routes/Playlist/":166,"./routes/Playlist/components/View":275,"./routes/Playlist/components/View.module.scss":483,"./routes/Playlist/components/View.tsx":275,"./routes/Playlist/index":166,"./routes/Playlist/index.tsx":166,"./routes/Singer":167,"./routes/Singer/":167,"./routes/Singer/components/Header":132,"./routes/Singer/components/Header/":132,"./routes/Singer/components/Header/index":132,"./routes/Singer/components/Header/index.module.scss":485,"./routes/Singer/components/Header/index.tsx":132,"./routes/Singer/components/Introduction":133,"./routes/Singer/components/Introduction/":133,"./routes/Singer/components/Introduction/index":133,"./routes/Singer/components/Introduction/index.module.scss":486,"./routes/Singer/components/Introduction/index.tsx":133,"./routes/Singer/components/View":276,"./routes/Singer/components/View.module.scss":484,"./routes/Singer/components/View.tsx":276,"./routes/Singer/index":167,"./routes/Singer/index.tsx":167,"./routes/Song":168,"./routes/Song/":168,"./routes/Song/components/View":277,"./routes/Song/components/View.module.scss":487,"./routes/Song/components/View.tsx":277,"./routes/Song/index":168,"./routes/Song/index.tsx":168,"./routes/User":169,"./routes/User/":169,"./routes/User/components/View":172,"./routes/User/components/View.js":172,"./routes/User/index":169,"./routes/User/index.js":169,"./routes/Video":170,"./routes/Video/":170,"./routes/Video/components/View":173,"./routes/Video/components/View.js":173,"./routes/Video/index":170,"./routes/Video/index.js":170,"./routes/index":121,"./routes/index.ts":121};function a(e){e=i(e);return n(e)}function i(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=i,(e.exports=a).id=643},644:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.album=t.albumComment=void 0;var l=i(n(75));t.albumComment=function(e){return(0,l.default)("/comment/album?id="+e)};t.album=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,l.default)("/album?id="+t)]})})}},645:function(e,t,n){"use strict";n.r(t),t.default={detail:"detail_25jrL"}},646:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},f=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},d=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=i(n(0)),p=n(53),v=n(35),h=n(70),y=n(48),b=n(116),g=n(76),_=l(n(254));t.default=function(e){var t=this,n=e.detailData,i=e.songList,l=e.songIds,u=(s=(0,m.useContext)(p.FuncContext)).setPlaylist,o=s.playSong,r=n.title,a=n.cover,e=n.creator,s=n.tags,n=n.description;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"list-left"},m.default.createElement("div",{className:"image"},m.default.createElement("img",{src:a+"?param=240y240"}))),m.default.createElement("div",{className:"list-right"},m.default.createElement("div",{className:"title-playlist"},r),m.default.createElement("div",{className:"creator"},m.default.createElement(v.Link,{to:"/User?id="+e.id},m.default.createElement("img",{src:e.avatar+"?param=40y40"}),e.name),new Date(e.createTime).toLocaleDateString().replace(/\//g,"-"),"创建"),m.default.createElement("div",{className:"btns"},m.default.createElement(h.Button,{icon:m.default.createElement(y.CaretRightOutlined,null),onClick:function(){return c(t,void 0,void 0,function(){var t,n,r,a;return f(this,function(e){switch(e.label){case 0:return(t=[],i)?(t=i.filter(function(e){return e.isFree}),[3,5]):[3,1];case 1:if(!l)return[3,5];n=Math.ceil(.02*l.length),r=0,e.label=2;case 2:return r<n?(a=50*r,a=l.slice(a,50+a),[4,(0,b.songDetail)(a)]):[3,5];case 3:a=e.sent(),a=(0,g.resolveSongs)(a.songs,"detail").filter(function(e){return e.isFree}),t=d(d([],t,!0),a,!0),e.label=4;case 4:return++r,[3,2];case 5:return(0,_.default)().delAll(),u(t),o(t[0]),[2]}})})}},"播放全部")),m.default.createElement("div",{className:"tags"},"标签：",s.map(function(e,t){return m.default.createElement("span",{key:t},e)})),m.default.createElement("div",{className:"description"},n)))}},647:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),s=n(53),c=n(35),f=n(70),d=n(48);t.default=function(e){var t=e.detailData,n=e.songList,r=(u=(0,o.useContext)(s.FuncContext)).playSong,a=u.setPlaylist,i=t.title,l=t.cover,e=t.singers,u=t.publishTime,t=t.description;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"list-left"},o.default.createElement("div",{className:"image"},o.default.createElement("img",{src:l+"?param=240y240"}))),o.default.createElement("div",{className:"list-right"},o.default.createElement("div",{className:"title-album"},i),o.default.createElement("div",{className:"singer"},"歌手：",e.map(function(e,t){var n=e.id,e=e.name;return o.default.createElement(o.default.Fragment,{key:t},o.default.createElement(c.Link,{to:"/Singer?id="+n},e),o.default.createElement("span",null," / "))})),o.default.createElement("div",null,"发行时间：",new Date(u).toLocaleDateString().replace(/\//g,"-")),o.default.createElement("div",{className:"btns"},o.default.createElement(f.Button,{icon:o.default.createElement(d.CaretRightOutlined,null),onClick:function(){var e=n[0];r(e),a(n)}},"播放全部")),o.default.createElement("div",{className:"description"},t)))}},648:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=i(n(0)),y=n(53),b=n(35),g=n(70),_=n(48),E=l(n(89));t.default=function(e){var t=e.detailData,n=e.songData,r=e.lyric,a=t.title,i=t.cover,l=t.singers,u=t.albumId,o=t.albumName,s=n.id,c=n.name,e=n.isFree,f=(t=(0,h.useContext)(y.FuncContext)).playSong,d=t.collectSong,m=t.setPlaylist,p=(t=(0,h.useContext)(y.StateContext)).playingItem,v=t.playlist;return h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:"list-left"},h.default.createElement("div",{className:"image"},h.default.createElement("img",{src:i+"?param=240y240"}))),h.default.createElement("div",{className:"list-right"},h.default.createElement("div",{className:"title-song"},a),h.default.createElement("div",{className:"singer"},"歌手：",l.map(function(e,t){var n=e.id,e=e.name;return h.default.createElement(h.default.Fragment,{key:t},h.default.createElement(b.Link,{to:"/Singer?id="+n},e),h.default.createElement("span",null," / "))})),h.default.createElement("div",null,"所属专辑：",h.default.createElement(b.Link,{to:"/Album?id="+u},o)),h.default.createElement("div",{className:"btns"},h.default.createElement(g.Button,{icon:h.default.createElement(_.CaretRightOutlined,null),onClick:function(){var e;p.id!==n.id&&(v.find(function(e){return e.id===n.id})||((e=v.slice()).push(n),m(e)),f(n))},disabled:!e},"播放"),h.default.createElement(g.Button,{icon:h.default.createElement(_.HeartOutlined,null),onClick:function(){d(s)},disabled:!e},"添加到歌单"),h.default.createElement(g.Button,{icon:h.default.createElement(_.DownloadOutlined,null),onClick:function(){(0,E.default)().download(s,c)},disabled:!e},"下载")),h.default.createElement("input",{type:"checkbox",id:"toggle-lyric",className:"toggle",style:{display:"none"}}),0===r.length&&h.default.createElement("div",null,"暂无歌词"),h.default.createElement("div",{className:"lyric"},r.map(function(e,t){var n=e[0],e=e[1];return h.default.createElement("p",{key:t},n,e&&h.default.createElement(h.default.Fragment,null,h.default.createElement("br",null),e))})),h.default.createElement("label",{htmlFor:"toggle-lyric"})))}},649:function(e,t,n){"use strict";n.r(t),t.default={songlist:"songlist_1AHFN"}},650:function(e,t,n){"use strict";n.r(t),t.default={"comment-list":"comment-list_1x3ow"}},651:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.simiSong=t.topSong=t.recommendPlaylist=t.banner=void 0;var a=r(n(75));t.banner=function(){return(0,a.default)("/banner")};t.recommendPlaylist=function(e){return(0,a.default)("/personalized?limit="+(e=void 0===e?10:e))};t.topSong=function(e){return(0,a.default)("/top/song?type="+(e=void 0===e?0:e))};t.simiSong=function(e){return(0,a.default)("/simi/song?id="+e)}},67:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));n(613);var i=new Array(16).fill(0);t.default=function(){return a.default.createElement("div",{className:"loading-container"},a.default.createElement("div",{className:"loader"},i.map(function(e,t){return a.default.createElement("div",{className:"square",key:t})})),a.default.createElement("div",{className:"loading-text"},"加载中"))}},696:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unlike=t.getFMList=void 0;var a=r(n(75));t.getFMList=function(){return(0,a.default)("/personal_fm?_t="+Date.now())};t.unlike=function(e){return(0,a.default)("/fm_trash?id="+e)}},697:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.singerDesc=t.singerInfo=void 0;var a=r(n(75));t.singerInfo=function(e){return(0,a.default)("/artists?id="+e)};t.singerDesc=function(e){return(0,a.default)("/artist/desc?id="+e)}},698:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),o=l(n(699));function s(e){var t=e.children,n=(0,u.useMemo)(function(){return u.default.Children.toArray(t)},[t]),e=(0,u.useState)(n[0].key),r=e[0],a=e[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:o.default.tabs},n.map(function(e,t){return u.default.createElement("div",{key:t,className:r===e.key?o.default["tab-active"]:o.default.tab,onClick:function(){return a(e.key)}},e.props.text)})),n.filter(function(e){return e.key===r}))}s.Pane=function(e){return e.children},t.default=s},699:function(e,t,n){"use strict";n.r(t),t.default={tabs:"tabs_2nnn9",tab:"tab_1pU_B","tab-active":"tab-active_qjqOx"}},707:function(e,t,n){"use strict";n.r(t);var t=n(0),r=n.n(t),t=n(32),a=n.n(t),i=n(35),t=n(53),l=n.n(t);a.a.render(r.a.createElement(function(){return r.a.createElement(i.HashRouter,null,r.a.createElement(l.a,null))},null),document.getElementById("root"))},75:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},i=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(435)),o={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.default=function(t,n){return void 0===n&&(n={}),a(void 0,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,(0,u.default)(r(r({url:"https://server0309.herokuapp.com"+t},o),n))];case 1:return[2,e.sent().data]}})})}},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDetail=t.resolveSongs=t.resolveLyric=void 0;var f=n(34);t.resolveLyric=function(e){var t=e.uncollected,n=e.nolyric,r=e.lrc,e=e.tlyric;if(t||n)return[];function a(e,r){var t=e.lastIndexOf("]"),a=e.slice(t+1);e.match(/\d+\:\d+[\.\:]\d+/g).forEach(function(e){var t,n,n=(n=(t=e).match(/\d+/g),e=n[0],t=n[1],n=n[2],60*Number(e)+Number(t)+.001*Number(n));r?i[n]=[a,"",n]:i[n]&&(i[n][1]=a)})}var r=r.lyric.split("\n").filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}),e=(null===(e=null===(e=null==e?void 0:e.lyric)||void 0===e?void 0:e.split("\n"))||void 0===e?void 0:e.filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}))||[],i={};return r.forEach(function(e){return a(e,!0)}),e.forEach(function(e){return a(e,!1)}),Object.values(i).sort(function(e,t){return e[2]-t[2]})};t.resolveSongs=function(e,l){return e.map(function(e){var t=e.id,n=e.name,r=["topSong","fm"].includes(l)?e.album:e.al,a="detail"===l?e.ar:e.artists,i=["simiSong","fm"].includes(l)?e.duration:e.dt;return{id:t,name:n,isFree:1!==e.fee,duration:.001*i,singers:a.map(function(e){return{id:e.id,name:e.name}}),albumId:r.id,albumName:r.name,cover:(0,f.replaceHttpToHttps)(r.picUrl)}})};t.resolveDetail=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var a=e.playlist,i=a.name,l=a.tags,u=a.description,o=a.createTime,a=(0,f.replaceHttpToHttps)(e.playlist.coverImgUrl),o={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:(0,f.replaceHttpToHttps)(e.playlist.creator.avatarUrl),createTime:o};return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a,creator:o,isCreator:Number(localStorage.getItem("userid"))===o.id,tags:l,description:u}}if(n){var s=e.album,i=s.name,c=s.publishTime,u=s.description,s=e.album.artists.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a=(0,f.replaceHttpToHttps)(e.album.picUrl),singers:s,publishTime:c,description:u}}c=e.songs[0],i=c.name,u=c.al,c=u.id,u=u.name,s=e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:i,cover:a=(0,f.replaceHttpToHttps)(e.songs[0].al.picUrl),singers:s,albumId:c,albumName:u}}},89:function(e,t,n){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},f=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(n(75)),s=r(n(435)),c=r(n(254)),d=n(116),m=n(76),p=n(34),l=r(n(605)),v=(h.prototype.drawCanvas=function(){this.reqId=requestAnimationFrame(this.drawCanvas);var e=this.canvasContext,t=this.playingItem;if(t){var n=(0,l.default)(t.abuffer);e.clearRect(0,0,900,310);for(var r=900/n.length,a=0;a<n.length;++a){var i=310*n[a];e.fillRect(a*r,310-i,r,i)}}},h.prototype.getMusic=function(l){var n=this;return new Promise(function(a,e){var t,i=n.audioContext;n.rejectFn=e,l!==(null===(e=null===(e=n.playingItem)||void 0===e?void 0:e.info)||void 0===e?void 0:e.id)?(t=(0,c.default)().get(l))?i.decodeAudioData(t.buffer.slice(0)).then(function(e){a(u(u({},t),{abuffer:e}))}):(0,o.default)("/getMusicUrl?id="+l).then(function(e){var t;e.error||null!==(t=e.url)&&void 0!==t&&t.includes("music.163.com/404")?a(null):(e=e.url,e=(0,s.default)({url:(0,p.replaceHttpToHttps)(e),responseType:"arraybuffer"}).then(function(e){return e.data}).catch(function(e){return null}),Promise.all([e,(0,d.songDetail)([l]),(0,d.getLyric)(l)]).then(function(e){var t=e[0],n=e[1],e=e[2];if(null===t)return console.log("get music fail, id:",l),void a(null);var n=(0,m.resolveSongs)(n.songs,"detail")[0],e=(0,m.resolveLyric)(e),r={buffer:t,info:u(u({},n),{lyric:e})};(0,c.default)().save(l,r),i.decodeAudioData(t.slice(0)).then(function(e){r.info.duration=e.duration,a(u(u({},r),{abuffer:e}))})}))}):a(n.playingItem)})},h.prototype.restart=function(){return i(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.audioContext.resume()];case 1:return e.sent(),this.status="playing",[2,!0]}})})},h.prototype.play=function(o,s){var c;return i(this,void 0,void 0,function(){var t,n,r,a,i,l,u=this;return f(this,function(e){switch(e.label){case 0:return(l=(t=this).currentSource,n=t.audioContext,r=t.gainNode,a=t.playingItem,i=t.status,(0,t.rejectFn)(),o===(null===(c=null==a?void 0:a.info)||void 0===c?void 0:c.id)&&"pause"===i&&(this.restart(),void 0===s))?[2,!0]:(this.startTime=!1,l&&(l.onended=null,l.stop(0),l.disconnect()),[4,this.getMusic(o).catch(function(e){return null})]);case 1:return(i=e.sent())?((l=n.createBufferSource()).buffer=i.abuffer,l.connect(r),this.currentSource=l,this.startTime=n.currentTime-(s||0),l.start(n.currentTime,s||0),this.status="playing",this.playingItem=i,l.onended=function(){u.startTime=!1,u.status="pendding",u.onEnded&&u.onEnded()},[2,!0]):[2,!1]}})})},h.prototype.pause=function(){return i(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.audioContext.suspend()];case 1:return e.sent(),this.status="pause",[2,!0]}})})},h.prototype.setVolume=function(e){this.gainNode.gain.value=e},h.prototype.drawStart=function(){cancelAnimationFrame(this.reqId),this.reqId=requestAnimationFrame(this.drawCanvas)},h.prototype.drawStop=function(){this.canvasContext.clearRect(0,0,900,310),cancelAnimationFrame(this.reqId)},h.prototype.setCanvasContext=function(e){e.fillStyle="#6dccff",this.canvasContext=e},h.prototype.download=function(r,a){return i(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,this.getMusic(r)];case 1:return(t=e.sent())?(n=new Blob([t.buffer]),t=URL.createObjectURL(n),(n=document.createElement("a")).href=t,n.download=a+".mp3",n.click(),URL.revokeObjectURL(t),[2,!0]):[2,!1]}})})},h.prototype.setOnEnded=function(e){this.onEnded=e},h.prototype.getCurrentTime=function(){var e=this.audioContext,t=this.startTime;return!1!==t?e.currentTime-t:0},h.prototype.getPlayingItem=function(){return this.playingItem.info},h);function h(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.canvasContext=null,this.currentSource=null,this.onEnded=null,this.startTime=!1,this.playingItem=null,this.status="pendding",this.rejectFn=function(){},this.drawCanvas=this.drawCanvas.bind(this)}t.default=function(){return a=a||new v}},92:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,l,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function a(e){try{i(o.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}i((o=o.apply(e,l||[])).next())})},a=this&&this.__generator||function(n,r){var a,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(l=2&t[0]?i.return:t[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,t[1])).done)return l;switch(i=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){u.label=t[1];break}if(6===t[0]&&u.label<l[1]){u.label=l[1],l=t;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(t);break}l[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{a=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userPlaylist=t.deleteSonglist=t.songlistSubscribe=t.songlistTracks=t.playlistComment=t.playlistDetail=void 0;var l=i(n(75));t.playlistDetail=function(e){return(0,l.default)("/playlist/detail?id="+e)};t.playlistComment=function(e){return(0,l.default)("/comment/playlist?id="+e)};t.songlistTracks=function(e,t,n){return(0,l.default)("/playlist/tracks?op="+e+"&pid="+t+"&tracks="+n)};t.songlistSubscribe=function(t,n){return void 0===n&&(n=1),r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,l.default)("/playlist/subscribe?t="+n+"&id="+t)];case 1:return[2,e.sent()]}})})};t.deleteSonglist=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,l.default)("/playlist/delete?id="+t)];case 1:return[2,e.sent()]}})})};t.userPlaylist=function(e){return(0,l.default)("/user/playlist?uid="+e)}}});