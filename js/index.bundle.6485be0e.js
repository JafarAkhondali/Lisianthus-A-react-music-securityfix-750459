!function(o){function e(e){for(var t,n,r=e[0],a=e[1],l=e[2],i=0,u=[];i<r.length;i++)n=r[i],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);u.length;)u.shift()();return f.push.apply(f,l||[]),c()}function c(){for(var e,t=0;t<f.length;t++){for(var n=f[t],r=!0,a=1;a<n.length;a++){var l=n[a];0!==s[l]&&(r=!1)}r&&(f.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},s={1:0},f=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),a=0;a<r.length;a++)e(r[a]);var d=t;f.push([706,0,2]),c()}({117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["/Album","/Discovery","/MySongList","/PersonalFM","/Playlist","/Singer","/Song","/User","/Video"]},128:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=l(n(0)),d=n(35),m=i(n(468)),p=n(27),v=n(140);t.default=function(e){var t=e.data,u=t.length,o=(0,d.useHistory)(),c=(r=(0,f.useState)(0))[0],n=r[1],r=(e=(0,f.useState)(!0))[0],a=e[1],l=(0,p.debounce)(a,5e3);(0,v.useInterval)(function(){n((c+1)%u)},r?5e3:null);var s=function(e){n(e),a(!1),l(!0)};return f.default.createElement("div",{className:m.default.carousel},f.default.createElement("div",{className:"card-container"},t.map(function(e,t){var n,r=e.imageUrl,a=e.targetId,l=e.targetType,i=e.url;return f.default.createElement("div",{className:"card",key:t,onClick:function(){return function(e,t,n,r){if(c===e)switch(n){case 1:o.push("/Song?id="+t);break;case 10:o.push("/Album?id="+t);break;case 1e3:o.push("SongList?id="+t);break;case 1004:o.push("/Video?id="+t);break;case 3e3:window.open(r);break;default:return}else s(e)}(t,a,l,i)},style:(n=0<(e=(n=t)-c)?e-u:e+u,n=Math.abs(e)>Math.abs(n)?n:e,e={},0===n?(e.left="33.3%",e.zIndex=999,e.opacity=1,e.transform="scale(1)"):e.left=0<n?16.7+40*n+"%":50+40*n+"%",2<=Math.abs(n)&&(e.opacity=0,e.transform="scale(0)"),e)},f.default.createElement("img",{src:(0,p.replaceHttpToHttps)(r)+"?param=500y200"}))})),f.default.createElement("div",{className:"rects"},t.map(function(e,t){return f.default.createElement("div",{key:t,className:c===t?"rect-active":"rect",onClick:function(){return s(t)}})})))}},129:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=r(n(469)),u=n(35),o=n(47),c=n(27),s=function(e){return 1e4<=e?(1e-4*e>>0)+" 万":e};t.default=function(e){var t=e.data,l=e.onPlayAll,e=function(e){return i.default.createElement("div",{className:"playlist"},e.map(function(e){var n=e.id,t=e.name,r=e.copywriter,a=e.picUrl,e=e.playCount;return i.default.createElement("div",{className:"listitem",key:n},i.default.createElement(u.Link,{className:"image",to:"/Playlist?id="+n},i.default.createElement("img",{src:(0,c.replaceHttpToHttps)(a)+"?param=240y240",loading:"lazy"}),i.default.createElement("div",{className:"copywriter"},r),i.default.createElement("div",{className:"play-count"},i.default.createElement(o.CustomerServiceOutlined,null),s(e)),i.default.createElement("div",{className:"play-button",onClick:function(e){return t=n,e.preventDefault(),void l(t);var t}},i.default.createElement(o.CaretRightOutlined,null))),i.default.createElement(u.Link,{className:"description",to:"/Playlist?id="+n},t))}))};return i.default.createElement("div",{className:a.default["recommend-playlist"]},e(t.slice(0,5)),e(t.slice(5,10)))}},130:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),c=i(n(470)),s=n(48),f=n(35),d=n(47);t.default=function(e){var i=e.data,u=(0,o.useContext)(s.FuncContext).playSong,e=function(e,l){return e.map(function(e,n){var t=e.id,r=e.name,a=e.cover,e=e.singers;return o.default.createElement("div",{className:"item",key:t},o.default.createElement("div",{className:"order"},(n+1+l).toString().padStart(2,"0")),o.default.createElement(f.Link,{className:"image",to:"/Song?id="+t},o.default.createElement("img",{src:a+"?param=50y50",loading:"lazy"}),o.default.createElement("div",{className:"play-button",onClick:function(e){return t=n+l,e.preventDefault(),void u(i[t]);var t}},o.default.createElement(d.CaretRightOutlined,null))),o.default.createElement("div",{className:"information"},o.default.createElement(f.Link,{className:"song-title",to:"/Song?id="+t},r),o.default.createElement("div",{className:"singer"},e.map(function(e){return e.name}).join("/"))))})};return o.default.createElement("div",{className:c.default["recent-songlist"]},o.default.createElement("div",{className:c.default.left},e(i.slice(0,5),0)),o.default.createElement("div",{className:c.default.right},e(i.slice(5,10),5)))}},133:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(492)),i=n(27);t.default=function(e){var t=(n=e.data).name,e=n.alias,n=n.cover;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:l.default.title},t,a.default.createElement("span",null,e.join(";"))),a.default.createElement("div",{className:l.default.image},a.default.createElement("img",{src:(0,i.replaceHttpToHttps)(n)+"?param=640y300"})))}},134:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(493));t.default=function(e){var e=(t=e.data).briefDesc,t=t.intro;return a.default.createElement("div",{className:l.default.intro},a.default.createElement("div",{className:"block"},a.default.createElement("h2",null,"歌手简介"),a.default.createElement("span",null,e)),t.map(function(e,t){var n=e.ti,e=e.txt;return a.default.createElement("div",{className:"block",key:t},a.default.createElement("h2",null,n),a.default.createElement("span",null,e))}))}},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetState=t.useInterval=void 0;var r=n(0);t.useInterval=function(e,t){var n=(0,r.useRef)(function(){});(0,r.useEffect)(function(){n.current=e}),(0,r.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(e)}}},[t])};t.useSetState=function(e){var t=(0,r.useState)(e=void 0===e?{}:e),e=t[0],n=t[1];return[e,(0,r.useCallback)(function(t){n(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]}},148:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},a=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLyric=t.songDetail=t.songComment=void 0;var i=l(n(51));t.songComment=function(e){return(0,i.default)("/comment/music?id="+e)};t.songDetail=function(e){return(0,i.default)("/song/detail?ids="+e.join())};t.getLyric=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,i.default)("/lyric?id="+t)]})})}},160:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),s=n(35),f=n(667),d=n(27),m=n(88),p=o(n(269));t.default=function(){var e=this,t=(0,s.useLocation)().search,a=(0,d.searchItem)(t,"id");if(!a)return c.default.createElement("div",null,"id错误");var n=(t=(0,c.useState)(null))[0],l=t[1];return(0,c.useEffect)(function(){l(null),i(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,f.album)(a)];case 1:return r=e.sent(),t=(0,m.resolveDetail)(r),n=(0,m.resolveSongs)(r.songs,"detail"),[4,(0,f.albumComment)(a)];case 2:return r=e.sent(),l({detail:t,songList:n,comment:r}),[2]}})})},[a]),(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),c.default.createElement(p.default,{pageState:n})}},161:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},o=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),s=i(n(273)),f=n(48),d=n(88),m=n(674),p=n(148),v=n(91);t.default=function(){var e=this,t=(0,c.useState)(null),n=t[0],a=t[1],l=(t=(0,c.useContext)(f.FuncContext)).setPlaylist,i=t.playSong;return(0,c.useEffect)(function(){document.title="发现音乐"},[]),(0,c.useEffect)(function(){u(e,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.banner)()];case 1:return t=e.sent(),[4,(0,m.recommendPlaylist)()];case 2:return n=e.sent(),[4,(0,m.topSong)()];case 3:return r=e.sent(),a({banner:t.banners,recommendPlaylist:n.result,recentSong:(0,d.resolveSongs)(r.data,"topSong")}),[2]}})})},[]),c.default.createElement(s.default,{pageState:n,onPlayAll:function(r){return u(e,void 0,void 0,function(){var t,n;return o(this,function(e){switch(e.label){case 0:return[4,(0,v.playlistDetail)(r)];case 1:return n=e.sent(),t=n.playlist.trackIds.map(function(e){return e.id}),[4,(0,p.songDetail)(t)];case 2:return n=e.sent(),t=(0,d.resolveSongs)(n.songs,"detail"),n=t.filter(function(e){return e.isFree}),l(n),i(t[0]),[2]}})})}})}},162:function(e,t,n){"use strict";n.r(t);n(97),n(675),n(676),n(473),n(677),n(474),n(475),n(478),n(125),n(479),n(275),n(483),n(484),n(276),n(486),n(126),n(685),n(686),n(687),n(688),n(689),n(690),n(691);var a=n(0),u=n.n(a),o=n(91),c=n(244),s=n(171),f=n(27);function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function m(e,t,n,r,a,l,i){try{var u=e[l](i),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var r=window.localStorage.getItem("userid");if(!r||!Object(f.hasToken)())return u.a.createElement("div",null,"需要登录使用");var e=p(Object(a.useState)(null),2),l=e[0],i=e[1];Object(a.useEffect)(function(){document.title="我的歌单"}),Object(a.useEffect)(function(){(function(){var u,e=(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.userPlaylist)(r);case 2:n=e.sent,t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),i({create:t,subscribe:n});case 6:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){m(r,t,n,a,l,"next",e)}function l(e){m(r,t,n,a,l,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()()},[]);return u.a.createElement(s.default,{state:l,onDelete:function(r,a){c.a.confirm({maskClosable:!0,title:"删除歌单",content:"是否要删除该歌单？",okText:"是",cancelText:"否",onOk:function(){var e,t,n=1===a?(e=l.create.findIndex(function(e){return e.id===r}),(t=l.create.slice()).splice(e,1),d(d({},l),{},{create:t})):(t=l.subscribe.findIndex(function(e){return e.id===r}),(n=l.subscribe.slice()).splice(t,1),d(d({},l),{},{subscribe:n}));return i(n),Object(o.deleteSonglist)(r)},onCancel:function(){c.a.destroyAll()}})}})}},164:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},u=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),s=n(35),f=n(27),d=n(88),m=n(91),p=o(n(277));t.default=function(){var e=this,t=(0,s.useLocation)().search,a=Number((0,f.searchItem)(t,"id"));if(!a||isNaN(a))return c.default.createElement("div",null,"id 错误");var n=(t=(0,c.useState)(null))[0],l=t[1];return(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),(0,c.useEffect)(function(){l(null),i(e,void 0,void 0,function(){var t,n,r;return u(this,function(e){switch(e.label){case 0:return[4,(0,m.playlistDetail)(a)];case 1:return r=e.sent(),t=(0,d.resolveDetail)(r),n=r.playlist.trackIds.map(function(e){return e.id}),[4,(0,m.playlistComment)(a)];case 2:return r=e.sent(),l({detail:t,songIds:n,comment:r}),[2]}})})},[a]),c.default.createElement(p.default,{pageState:n})}},165:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},o=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),s=n(35),f=n(27),d=n(88),m=n(696),p=i(n(278));t.default=function(){var e=this,t=(0,s.useLocation)().search,l=(0,f.searchItem)(t,"id"),n=(t=(0,c.useState)(null))[0],i=t[1];return(0,c.useEffect)(function(){i(null),u(e,void 0,void 0,function(){var t,n,r,a;return o(this,function(e){switch(e.label){case 0:return[4,(0,m.singerInfo)(l)];case 1:return t=e.sent(),[4,(0,m.singerDesc)(l)];case 2:return a=e.sent(),n={name:t.artist.name,alias:t.artist.alias,cover:t.artist.picUrl},r=(0,d.resolveSongs)(t.hotSongs,"detail"),a={intro:a.introduction,briefDesc:a.briefDesc},i({header:n,songList:r,intro:a}),[2]}})})},[l]),(0,c.useEffect)(function(){var e=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.name;e&&(document.title=e+"的音乐")},[n]),c.default.createElement(p.default,{pageState:n})}},166:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},c=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(0)),f=n(35),d=n(148),m=n(27),p=n(88),v=i(n(279));t.default=function(){var e=this,t=(0,f.useLocation)().search,i=(0,m.searchItem)(t,"id");if(!i)return s.default.createElement("div",null,"歌曲id错误");var n=(t=(0,s.useState)(null))[0],u=t[1];return(0,s.useEffect)(function(){u(null),o(e,void 0,void 0,function(){var t,n,r,a,l;return c(this,function(e){switch(e.label){case 0:return[4,(0,d.songDetail)([i])];case 1:return t=e.sent(),[4,(0,d.getLyric)(i)];case 2:return l=e.sent(),n=(0,p.resolveDetail)(t),r=(0,p.resolveSongs)(t.songs,"detail"),a=(0,p.resolveLyric)(l),[4,(0,d.songComment)(i)];case 3:return l=e.sent(),u({detail:n,songList:r,lyric:a,comment:l}),[2]}})})},[i]),(0,s.useEffect)(function(){var e=null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.title;e&&(document.title=e)},[n]),s.default.createElement(v.default,{pageState:n})}},167:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(172);t.default=function(){return a.a.createElement(l.default,null)}},168:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(173);t.default=function(){return a.a.createElement(l.default,null)}},169:function(e,t,n){"use strict";n.r(t);n(97),n(692),n(489),n(276),n(473),n(693),n(474),n(475),n(478),n(125),n(479),n(275),n(483),n(484),n(486),n(126);var h=n(0),y=n.n(h),b=n(50),g=n(242),_=n(35),E=n(500),j=n(497),w=n(498),O=n(499),S=n(243),k=n(501),r=n(66),x=n.n(r),P=n(48),r=(n(694),n(695),n(51)),a=n.n(r);function o(e,t,n,r,a,l,i){try{var u=e[l](i),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function l(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){o(r,t,n,a,l,"next",e)}function l(e){o(r,t,n,a,l,"throw",e)}a(void 0)})}}var N=function(){var e=l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()("/personal_fm?timestamp=".concat(Date.now()));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var t=l(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()("/fm_trash?id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),C=n(27);function D(e,t,n,r,a,l,i){try{var u=e[l](i),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){if(!Object(C.hasToken)())return y.a.createElement("div",null,"私人FM需要登录使用");var i=P.globalMethods.audioRef,u=P.globalMethods.setPlaying;Object(h.useEffect)(function(){document.title="私人FM"}),Object(h.useEffect)(function(){var e=document.getElementsByClassName(g.default.middle)[0],t=document.getElementsByClassName(g.default.bottom)[0];e.style.height="calc(100% - 64px)",e.style.transition="height 1s",t.style.display="none";var n=i.current,r=n.src,a=n.currentTime;toggleList.checked&&toggleList.click(),u(!1),i.current.currentTime=0,i.current.src="#";var l=null;return navigator.mediaSession&&(l=navigator.mediaSession.metadata),function(){e.style.height="calc(100% - 128px)",t.style.display="block",setTimeout(function(){return e.style.transition=""},1e3),i.current.src=r,i.current.currentTime=a,l&&(navigator.mediaSession.metadata=l)}},[]);var e=I(Object(h.useState)(!1),2),t=e[0],n=e[1],r=I(Object(h.useState)(null),2),a=r[0],l=r[1],e=I(Object(h.useState)([]),2),o=e[0],c=e[1],r=I(Object(h.useState)(!1),2),s=r[0],f=r[1],d=Object(h.useRef)(null),m=Object(h.useRef)(null),p=Object(h.useRef)(null);Object(h.useEffect)(function(){0<o.length||function(){var u,e=(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:n=e.sent,t=n.data.map(function(e){var t=e.id,n=e.name,r=e.duration,a=e.artists,l=e.album,e=l.picUrl;return{id:t,albumName:l.name,title:n,singers:a,duration:r/1e3,cover:e}}),a||(n=t.pop(),l(n)),c(t);case 6:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){D(r,t,n,a,l,"next",e)}function l(e){D(r,t,n,a,l,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}()()},[o]);var e=function(){s?d.current.pause():d.current.play(),f(!s)},r=function(){n(!0)},v=function(){var e,t;0!==o.length&&(t=(e=o.slice()).pop(),l(t),c(e),n(!1))};return Object(h.useEffect)(function(){var e,t,n,r;a&&navigator.mediaSession&&MediaMetadata&&(e=a.name,t=a.singers,n=a.cover,r=a.albumName,navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t.map(function(e){return e.name}).join("/"),album:r,artwork:[{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=96y96"),sizes:"96x96",type:"image/jpeg"},{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=128y128"),sizes:"128x128",type:"image/jpeg"},{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=192y192"),sizes:"192x192",type:"image/jpeg"},{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=256y256"),sizes:"256x256",type:"image/jpeg"},{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=384y384"),sizes:"384x384",type:"image/jpeg"},{src:"".concat(Object(C.replaceHttpToHttps)(n),"?param=512y512"),sizes:"512x512",type:"image/jpeg"}]}))},[a]),Object(h.useEffect)(function(){a&&navigator.mediaSession&&MediaMetadata&&(navigator.mediaSession.setActionHandler("play",function(){d.current.play(),f(!0)}),navigator.mediaSession.setActionHandler("pause",function(){d.current.pause(),f(!1)}),navigator.mediaSession.setActionHandler("stop",function(){d.current.pause(),f(!1)}),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",v))},[a,v]),a?y.a.createElement("div",{className:b.default["personal-fm"]},y.a.createElement("div",{className:b.default.title},"私人FM"),y.a.createElement("div",{className:b.default["music-box"]},y.a.createElement("div",{className:b.default.image},y.a.createElement("img",{src:"".concat(Object(C.replaceHttpToHttps)(a.cover),"?param=300y300")})),y.a.createElement(_.Link,{className:b.default.song,to:"/Song?id=".concat(a.id),target:"_blank",title:a.title},a.title),y.a.createElement("div",{className:b.default["progress-container"],ref:m},y.a.createElement("div",{className:b.default.progress,ref:p,onClick:function(e){var t=p.current,t=(e.pageX-t.offsetLeft)/t.clientWidth;d.current.currentTime=t*a.duration}})),y.a.createElement("div",{className:b.default["btn-container"]},s?y.a.createElement("div",{className:b.default.icon,title:"暂停",onClick:e},y.a.createElement(E.a,null)):y.a.createElement("div",{className:b.default.icon,title:"播放",onClick:e},y.a.createElement(j.a,null)),t?y.a.createElement("div",{className:b.default.icon,title:"喜欢",onClick:r},y.a.createElement(w.a,{style:{color:"#C62F2F"}})):y.a.createElement("div",{className:b.default.icon,title:"喜欢",onClick:r},y.a.createElement(O.a,null)),y.a.createElement("div",{className:b.default.icon,title:"不喜欢",onClick:function(){M(a.id),v()}},y.a.createElement(S.a,null)),y.a.createElement("div",{className:b.default.icon,title:"下一首",onClick:v},y.a.createElement(k.a,null)))),y.a.createElement("audio",{ref:d,src:"https://music.163.com/song/media/outer/url?id=".concat(a.id),onEnded:v,onCanPlay:function(e){s&&e.target.play()},onTimeUpdate:function(e){var t=e.target.currentTime/a.duration*100+"%",e="-"+Object(C.convertTime)(a.duration-e.target.currentTime);m.current.style.setProperty("--time","'".concat(e,"'")),p.current.style.setProperty("--progress",t)}})):y.a.createElement(x.a,null)}},171:function(e,t,n){"use strict";n.r(t);n(489),n(276);var r=n(0),u=n.n(r),o=n(63),c=n(35),s=n(243),r=n(66),a=n.n(r),f=n(27);t.default=function(e){var t=e.state,r=e.onDelete;if(!t)return u.a.createElement(a.a,null);function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;e.preventDefault(),r(t,n)}return u.a.createElement("div",{className:o.default["my-songlist"]},u.a.createElement("div",{className:o.default.title},"我创建的歌单"),t.create.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,l=e.id;return u.a.createElement(c.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(l)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(s.a,{className:o.default.delete,onClick:function(e){return i(e,l)}}))}),u.a.createElement("div",{className:o.default.title},"我收藏的歌单"),t.subscribe.map(function(e,t){var n=e.name,r=e.coverImgUrl,a=e.trackCount,l=e.id;return u.a.createElement(c.Link,{className:o.default["list-item"],key:t,to:"/Playlist?id=".concat(l)},u.a.createElement("div",{className:o.default.image},u.a.createElement("img",{src:"".concat(Object(f.replaceHttpToHttps)(r),"?param=100y100"),loading:"lazy"})),u.a.createElement("div",{className:o.default.content},u.a.createElement("span",null,n),u.a.createElement("span",null,a,"首")),u.a.createElement(s.a,{className:o.default.delete,onClick:function(e){return i(e,l,2)}}))}))}},172:function(e,t,n){"use strict";n.r(t);n(280),n(495);var r=n(0),a=n.n(r),l=n(36),i=n(27);t.default=function(){var e=Object(l.l)().search,e=Object(i.searchItem)(e,"id");return a.a.createElement("div",{className:"user"},"User Id=",e)}},173:function(e,t,n){"use strict";n.r(t);n(280),n(495);var r=n(0),a=n.n(r),l=n(36),i=n(27);t.default=function(){var e=Object(l.l)().search,e=Object(i.searchItem)(e,"id");return a.a.createElement("div",{className:"video"},"Video Id=",e)}},242:function(e,t,n){"use strict";n.r(t),t.default={layout:"layout_1KzTO",top:"top_3DOGJ",middle:"middle_1NwEH",left:"left_2I65s",right:"right_2m6Vs",bottom:"bottom_lOkvR"}},269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(466)),i=r(n(270)),u=r(n(271)),o=r(n(272)),c=r(n(66));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(c.default,null);var t=n.detail,e=n.songList,n=n.comment;return a.default.createElement("div",{className:l.default.album},a.default.createElement(i.default,{data:{detail:t,songList:e}}),a.default.createElement(u.default,{songList:e}),a.default.createElement(o.default,{data:n}))}},27:function(e,t,n){"use strict";var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,l=t.length;a<l;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.replaceHttpToHttps=t.debounce=t.throttle=t.convertDate=t.searchItem=t.convertTime=t.hasToken=void 0;t.hasToken=function(){var e=Number(localStorage.getItem("timestampBefore"));return Date.now()>=e?(localStorage.removeItem("timestampBefore"),localStorage.removeItem("token"),!1):!!localStorage.getItem("token")};t.convertTime=function(e){var t=e%60>>0;return(e/60>>0).toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")};t.searchItem=function(e,t){var t=e.match(new RegExp("[?&]"+t+"=\\w+"));return(null===(t=null===(t=null==t?void 0:t[0])||void 0===t?void 0:t.split("="))||void 0===t?void 0:t[1])||null};t.convertDate=function(e){var t=Date.now()-e,e=new Date(t);return t<=6e4?"刚刚":t<=36e5?(t/6e4>>0)+" 分钟前":t<=864e5?(t/36e5>>0)+" 小时前":1970<e.getFullYear()?e.getFullYear()-1970+" 年前":e.getMonth()?e.getMonth()+" 月前":e.getDate()-1+" 天前"};t.throttle=function(n,r){var a=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&(a=!1,n.call.apply(n,i([this],e,!1)),setTimeout(function(){a=!0},r))}};t.debounce=function(r,a){var l;return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(l),l=setTimeout(function(){r.call.apply(r,i([e],t,!1))},a)}};t.replaceHttpToHttps=function(e){return e.replace(/http\:/,"https:")}},270:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),u=r(n(668)),o=r(n(669)),c=r(n(670)),s=r(n(671));t.default=function(e){var t=(l=e.data).detail,n=l.songList,r=l.lyric,a=t.isPlaylist,e=t.isAlbum,l=t.isSong;return i.default.createElement("div",{className:u.default.detail},a&&i.default.createElement(o.default,{detailData:t,songList:n}),e&&i.default.createElement(c.default,{detailData:t,songList:n}),l&&i.default.createElement(s.default,{detailData:t,songData:n[0],lyric:r}))}},271:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},E=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},j=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var w=l(n(0)),O=i(n(672)),S=i(n(66)),k=n(35),x=n(48),P=n(72),N=n(47),M=n(91),C=n(27),D=n(148),I=n(88),T=i(n(98));t.default=function(e){var t=this,n=e.songList,r=e.songIds,c=e.isCreator,a=(0,w.useContext)(x.StateContext),l=(e=(0,w.useContext)(x.FuncContext)).playSong,i=e.collectSong,u=e.setPlaylist,s=a.playingItem,o=a.playlist,f=(a=(0,w.useState)(n||[]))[0],d=a[1],m=(a=(0,w.useState)(1))[0],p=a[1],v=(0,w.useCallback)(function(t){var e;o.find(function(e){return e.id===t.id})||((e=o.slice()).push(t),u(e))},[o]),h=(0,w.useCallback)(function(e){var t=e.id,e=e.name;(0,T.default)().download(t,e)},[]),y=(0,w.useCallback)(function(t){var e;o.find(function(e){return e.id===t.id})||((e=o.slice()).push(t),u(e),l(t))},[o]),b=(0,w.useCallback)(function(e){i(e)},[]),g=(0,w.useCallback)(function(r){P.Modal.confirm({title:"删除歌曲",content:"是否要删除歌曲 "+r.name+" ？",okText:"是",cancelText:"否",onOk:function(){return E(this,void 0,void 0,function(){var t,n;return j(this,function(e){switch(e.label){case 0:return n=Number((0,C.searchItem)(window.location.hash,"id")),[4,(0,M.songlistTracks)("del",n,r.id)];case 1:return e.sent(),P.message.success("已删除"),t=f.slice(),n=f.findIndex(function(e){return e.id===r.id}),t.splice(n,1),d(t),[2]}})})}})},[f]),_=(0,w.useCallback)(function(e){var t=Math.ceil(.02*r.length),t="prev"===e?m-1||1:m+1<t?m+1:t;p(t)},[r,m]);return(0,w.useEffect)(function(){r&&E(t,void 0,void 0,function(){var t;return j(this,function(e){switch(e.label){case 0:return d([]),t=50*(m-1),t=r.slice(t,50+t),[4,(0,D.songDetail)(t)];case 1:return t=e.sent(),d((0,I.resolveSongs)(t.songs,"detail")),[2]}})})},[r,m]),0===f.length?w.default.createElement(S.default,null):w.default.createElement("div",{className:O.default.songlist},w.default.createElement("div",{className:"title"},"歌曲列表",w.default.createElement("span",null,(n||r).length,"首歌")),w.default.createElement("table",null,w.default.createElement("thead",null,w.default.createElement("tr",null,w.default.createElement("th",{scope:"col"}),w.default.createElement("th",{scope:"col"},"歌曲标题"),w.default.createElement("th",{scope:"col"},"时长"),w.default.createElement("th",{scope:"col"},"歌手"),w.default.createElement("th",{scope:"col"},"专辑"))),w.default.createElement("tbody",null,f.map(function(e,t){var n=e.id,r=e.name,a=e.singers,l=e.duration,i=e.isFree,u=e.albumId,o=e.albumName;return w.default.createElement("tr",{key:n,className:i?"":"fee"},w.default.createElement("td",null,w.default.createElement("span",null,50*(m-1)+t+1),w.default.createElement(N.CaretRightOutlined,{className:s.id===n?"play-btn-playing":"play-btn",onClick:function(){return y(e)}})),w.default.createElement("td",null,w.default.createElement(k.Link,{to:"/Song?id="+n,title:r},r),w.default.createElement("div",{className:"icons"},i&&w.default.createElement(w.default.Fragment,null,w.default.createElement(N.PlusOutlined,{title:"添加到播放列表",onClick:function(){return v(e)}}),w.default.createElement(N.HeartOutlined,{title:"收藏到歌单",onClick:function(){return b(n)}}),w.default.createElement(N.DownloadOutlined,{title:"下载",onClick:function(){return h(e)}})),c&&w.default.createElement(N.DeleteOutlined,{title:"删除",onClick:function(){return g(e)}}))),w.default.createElement("td",null,(0,C.convertTime)(l)),w.default.createElement("td",null,a.map(function(e,t){var n=e.id,e=e.name;return w.default.createElement(w.default.Fragment,{key:t},w.default.createElement(k.Link,{to:"/Singer?id="+n,title:e,className:O.default.singer},e),t!==a.length-1&&w.default.createElement("span",null," / "))})),w.default.createElement("td",null,w.default.createElement(k.Link,{to:"/Album?id="+u,title:o},o)))}))),r&&w.default.createElement("div",{className:"pagination"},w.default.createElement("div",{className:"page-btn",onClick:function(){return _("prev")}},"<"),w.default.createElement("div",{className:"page"},m),w.default.createElement("div",{className:"page-btn",onClick:function(){return _("next")}},">")))}},272:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(673)),c=n(35),s=n(47),f=n(27);t.default=function(e){var t=(r=e.data).hotComments,n=r.comments,e=r.total,r=(0,u.useCallback)(function(e,t){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"sub-title"},e),t.map(function(e,t){var n=e.beReplied,r=e.content,a=e.user,l=e.time,e=e.likedCount;return u.default.createElement("div",{className:"comment",key:t},u.default.createElement("div",{className:"image"},u.default.createElement("img",{src:(0,f.replaceHttpToHttps)(a.avatarUrl)+"?param=50y50",loading:"lazy"})),u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"content"},u.default.createElement("span",null,u.default.createElement(c.Link,{to:"User?id="+a.userId},a.nickname,"："),r),n[0]&&u.default.createElement("div",{className:"reply"},u.default.createElement("span",null,u.default.createElement(c.Link,{to:"User?id="+n[0].user.userId},n[0].user.nickname,"："),n[0].content))),u.default.createElement("div",{className:"footer"},u.default.createElement("span",{className:"date"},(0,f.convertDate)(l)),u.default.createElement("span",{className:"like"},u.default.createElement(s.LikeOutlined,{style:{color:"#1890ff"}}),"(",e,")"))))}))},[]);return u.default.createElement("div",{className:o.default["comment-list"]},u.default.createElement("div",{className:"title"},"评论列表",u.default.createElement("span",{className:"total"},"共 ",e," 条")),0<t.length&&r("精彩评论",t),0<n.length&&r("最新评论",n))}},273:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(467)),i=r(n(66)),u=r(n(128)),o=r(n(129)),c=r(n(130));t.default=function(e){var t=e.pageState,n=e.onPlayAll;if(!t)return a.default.createElement(i.default,null);var r=t.banner,e=t.recommendPlaylist,t=t.recentSong;return a.default.createElement("div",{className:l.default.discovery},a.default.createElement("div",{className:"banner"},a.default.createElement(u.default,{data:r})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"推荐歌单"),a.default.createElement(o.default,{data:e,onPlayAll:n})),a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"最新音乐"),a.default.createElement(c.default,{data:t})))}},277:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(490)),i=r(n(270)),u=r(n(271)),o=r(n(272)),c=r(n(66));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(c.default,null);var t=r.detail,n=r.songIds,e=r.comment,r=t.isCreator;return a.default.createElement("div",{className:l.default.playlist},a.default.createElement(i.default,{data:{detail:t}}),a.default.createElement(u.default,{songIds:n,isCreator:r}),a.default.createElement(o.default,{data:e}))}},278:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(491)),i=r(n(66)),u=r(n(271)),o=r(n(133)),c=r(n(697)),s=r(n(134));t.default=function(e){if(!(n=e.pageState))return a.default.createElement(i.default,null);var t=n.header,e=n.songList,n=n.intro;return a.default.createElement("div",{className:l.default.singer},a.default.createElement(o.default,{data:t}),a.default.createElement(c.default,null,a.default.createElement(c.default.Pane,{key:"0",text:"热门作品"},a.default.createElement(u.default,{songList:e})),a.default.createElement(c.default.Pane,{key:"1",text:"歌手介绍"},a.default.createElement(s.default,{data:n}))))}},279:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),l=r(n(494)),i=r(n(270)),u=r(n(272)),o=r(n(66));t.default=function(e){if(!(r=e.pageState))return a.default.createElement(o.default,null);var t=r.detail,n=r.songList,e=r.lyric,r=r.comment;return a.default.createElement("div",{className:l.default.song},a.default.createElement(i.default,{data:{detail:t,songList:n,lyric:e}}),a.default.createElement(u.default,{data:r}))}},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(l.prototype.save=function(e,t){var n,r=this.cache,a=this.cacheIds;30<=a.length&&(n=a.shift(),r.delete(n));e={id:e};r.set(e,t),a.push(e)},l.prototype.get=function(t){var e=this.cacheIds.find(function(e){return e.id===t});return e?this.cache.get(e):null},l.prototype.del=function(t){var e=this.cache,n=this.cacheIds,r=n.findIndex(function(e){return e.id===t});-1!==r&&(r=n.splice(r,1)[0],e.delete(r))},l.prototype.delAll=function(){for(var e=this.cache,t=0,n=this.cacheIds;t<n.length;t++){var r=n[t];e.delete(r)}this.cacheIds=[]},l);function l(){this.cacheIds=[],this.cache=new WeakMap}t.default=function(){return r=r||new a}},466:function(e,t,n){"use strict";n.r(t),t.default={album:"album_1B3P6"}},467:function(e,t,n){"use strict";n.r(t),t.default={discovery:"discovery_3WDUG"}},468:function(e,t,n){"use strict";n.r(t),t.default={carousel:"carousel_zTOnU"}},469:function(e,t,n){"use strict";n.r(t),t.default={"recommend-playlist":"recommend-playlist_oeGbV"}},470:function(e,t,n){"use strict";n.r(t),t.default={"recent-songlist":"recent-songlist_1kSQW"}},48:function(e,i,u){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.FuncContext=i.StateContext=void 0;var s=c(u(0)),f=u(35),d=u(140),m=u(72),p=t(u(98)),v=t(u(117)),h=t(u(618)),y=t(u(663));u(665);var t={id:776039,name:"ONE's hope",singers:[{id:18303,name:"やなぎなぎ"}],duration:369.72,cover:"https://p1.music.126.net/l22TRH7bs4VG6HMT2Iy56w==/2511284557902801.jpg",isFree:!0,albumId:76484,albumName:"Colorful Parade"},b={isPlaying:!1,playlist:[t],playMode:"list-loop",playingItem:o(o({},t),{lyric:null})};i.StateContext=s.default.createContext(null),i.FuncContext=s.default.createContext(null),i.default=function(){var e=(0,f.useLocation)().pathname,t=(0,f.useHistory)(),n=(0,d.useSetState)(b),r=n[0],a=n[1];v.default.includes(e)||t.replace("/Discovery");var t=(0,s.useMemo)(function(){return s.default.lazy(function(){return Promise.resolve().then(function(){return c(u(666)("./routes"+e))})})},[e]),l=(0,s.useMemo)(function(){return{getSong:function(e,t){var n=t.playlist,r=t.playingItem,t=t.playMode,a=n.length;if(a<=1||"single-cycle"===t)return r;var l,i=n.findIndex(function(e){return e.id===r.id});switch(t){case"list-loop":l="next"===e?(i+1)%a:(a+i-1)%a;break;case"random":(l=Math.random()*a>>0)===i&&(l=(i+1)%a)}return n[l]},playSong:function(e,t){var n=e.id;a({isPlaying:!0,playingItem:o(o({},e),{lyric:null})}),(0,p.default)().play(n,t).then(function(e){e?a({playingItem:(0,p.default)().getPlayingItem()}):m.message.error("加载歌曲失败，id:"+n)})},collectSong:function(e){m.Modal.info({title:"收藏歌曲",maskClosable:!0,okButtonProps:{style:{display:"none"}},width:500,content:s.default.createElement(y.default,{id:e})})},pauseSong:function(){(0,p.default)().pause(),a({isPlaying:!1})},setPlaylist:function(e){a({playlist:e})},setPlayMode:function(e){a({playMode:e})}}},[]);return(0,s.useEffect)(function(){(0,p.default)().setOnEnded(function(){var e=l.getSong;(0,l.playSong)(e("next",r))})},[r]),s.default.createElement(i.FuncContext.Provider,{value:l},s.default.createElement(i.StateContext.Provider,{value:r},s.default.createElement(h.default,{TargetComponent:t})))}},490:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_1gevM"}},491:function(e,t,n){"use strict";n.r(t),t.default={singer:"singer_C4mAo"}},492:function(e,t,n){"use strict";n.r(t),t.default={title:"title_-x2Xp",image:"image_vfSBc"}},493:function(e,t,n){"use strict";n.r(t),t.default={intro:"intro_3cW6L"}},494:function(e,t,n){"use strict";n.r(t),t.default={song:"song_3h_lc"}},496:function(e,t,n){"use strict";n.r(t),n.d(t,"emailLogin",function(){return _}),n.d(t,"phoneLogin",function(){return E}),n.d(t,"logout",function(){return j});n(97),n(447),n(125),n(126);var t=n(51),a=n.n(t);function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t,n,r,a,l){return f((l=f(f(t,e),f(r,l)))<<a|l>>>32-a,n)}function d(e,t,n,r,a,l,i){return u(t&n|~t&r,e,t,a,l,i)}function m(e,t,n,r,a,l,i){return u(t&r|n&~r,e,t,a,l,i)}function p(e,t,n,r,a,l,i){return u(t^n^r,e,t,a,l,i)}function v(e,t,n,r,a,l,i){return u(n^(t|~r),e,t,a,l,i)}function i(e,t){var n,r,a,l;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,u=-271733879,o=-1732584194,c=271733878,s=0;s<e.length;s+=16)i=d(n=i,r=u,a=o,l=c,e[s],7,-680876936),c=d(c,i,u,o,e[s+1],12,-389564586),o=d(o,c,i,u,e[s+2],17,606105819),u=d(u,o,c,i,e[s+3],22,-1044525330),i=d(i,u,o,c,e[s+4],7,-176418897),c=d(c,i,u,o,e[s+5],12,1200080426),o=d(o,c,i,u,e[s+6],17,-1473231341),u=d(u,o,c,i,e[s+7],22,-45705983),i=d(i,u,o,c,e[s+8],7,1770035416),c=d(c,i,u,o,e[s+9],12,-1958414417),o=d(o,c,i,u,e[s+10],17,-42063),u=d(u,o,c,i,e[s+11],22,-1990404162),i=d(i,u,o,c,e[s+12],7,1804603682),c=d(c,i,u,o,e[s+13],12,-40341101),o=d(o,c,i,u,e[s+14],17,-1502002290),i=m(i,u=d(u,o,c,i,e[s+15],22,1236535329),o,c,e[s+1],5,-165796510),c=m(c,i,u,o,e[s+6],9,-1069501632),o=m(o,c,i,u,e[s+11],14,643717713),u=m(u,o,c,i,e[s],20,-373897302),i=m(i,u,o,c,e[s+5],5,-701558691),c=m(c,i,u,o,e[s+10],9,38016083),o=m(o,c,i,u,e[s+15],14,-660478335),u=m(u,o,c,i,e[s+4],20,-405537848),i=m(i,u,o,c,e[s+9],5,568446438),c=m(c,i,u,o,e[s+14],9,-1019803690),o=m(o,c,i,u,e[s+3],14,-187363961),u=m(u,o,c,i,e[s+8],20,1163531501),i=m(i,u,o,c,e[s+13],5,-1444681467),c=m(c,i,u,o,e[s+2],9,-51403784),o=m(o,c,i,u,e[s+7],14,1735328473),i=p(i,u=m(u,o,c,i,e[s+12],20,-1926607734),o,c,e[s+5],4,-378558),c=p(c,i,u,o,e[s+8],11,-2022574463),o=p(o,c,i,u,e[s+11],16,1839030562),u=p(u,o,c,i,e[s+14],23,-35309556),i=p(i,u,o,c,e[s+1],4,-1530992060),c=p(c,i,u,o,e[s+4],11,1272893353),o=p(o,c,i,u,e[s+7],16,-155497632),u=p(u,o,c,i,e[s+10],23,-1094730640),i=p(i,u,o,c,e[s+13],4,681279174),c=p(c,i,u,o,e[s],11,-358537222),o=p(o,c,i,u,e[s+3],16,-722521979),u=p(u,o,c,i,e[s+6],23,76029189),i=p(i,u,o,c,e[s+9],4,-640364487),c=p(c,i,u,o,e[s+12],11,-421815835),o=p(o,c,i,u,e[s+15],16,530742520),i=v(i,u=p(u,o,c,i,e[s+2],23,-995338651),o,c,e[s],6,-198630844),c=v(c,i,u,o,e[s+7],10,1126891415),o=v(o,c,i,u,e[s+14],15,-1416354905),u=v(u,o,c,i,e[s+5],21,-57434055),i=v(i,u,o,c,e[s+12],6,1700485571),c=v(c,i,u,o,e[s+3],10,-1894986606),o=v(o,c,i,u,e[s+10],15,-1051523),u=v(u,o,c,i,e[s+1],21,-2054922799),i=v(i,u,o,c,e[s+8],6,1873313359),c=v(c,i,u,o,e[s+15],10,-30611744),o=v(o,c,i,u,e[s+6],15,-1560198380),u=v(u,o,c,i,e[s+13],21,1309151649),i=v(i,u,o,c,e[s+4],6,-145523070),c=v(c,i,u,o,e[s+11],10,-1120210379),o=v(o,c,i,u,e[s+2],15,718787259),u=v(u,o,c,i,e[s+9],21,-343485551),i=f(i,n),u=f(u,r),o=f(o,a),c=f(c,l);return[i,u,o,c]}function o(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function c(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function r(e){for(var t,n="0123456789abcdef",r="",a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function l(e){return unescape(encodeURIComponent(e))}function s(e){return o(i(c(e=l(e)),8*e.length))}function h(e,t){return function(e,t){var n,r=c(e),a=[],l=[];for(a[15]=l[15]=void 0,16<r.length&&(r=i(r,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^r[n],l[n]=1549556828^r[n];return t=i(a.concat(c(t)),512+8*t.length),o(i(l.concat(t),640))}(l(e),l(t))}var y=function(e,t,n){return t?n?h(t,e):r(h(t,e)):n?s(e):r(s(e))};function b(e,t,n,r,a,l,i){try{var u=e[l](i),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function g(u){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){b(r,t,n,a,l,"next",e)}function l(e){b(r,t,n,a,l,"throw",e)}a(void 0)})}}var _=function(){var n=g(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()("/login?email=".concat(t,"&md5_password=").concat(y(n)),{method:"POST"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),E=function(){var n=g(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()("/login/cellphone?phone=".concat(t,"&md5_password=").concat(y(n)),{method:"POST"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),j=function(){var e=g(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()("/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},50:function(e,t,n){"use strict";n.r(t),t.default={"personal-fm":"personal-fm_27kHT",title:"title_DN0r-","music-box":"music-box_1c1Fm",image:"image_3P-kP",song:"song_G9sNu","progress-container":"progress-container_3KUWt",progress:"progress_1fvvk","btn-container":"btn-container_xwmLI",icon:"icon_2apsd"}},51:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},l=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(437)),o={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0};t.default=function(t,n){return void 0===n&&(n={}),a(void 0,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,(0,u.default)(r(r({url:"https://server0309.herokuapp.com"+t},o),n))];case 1:return[2,e.sent().data]}})})}},583:function(e,t,n){var r={"./af":295,"./af.js":295,"./ar":296,"./ar-dz":297,"./ar-dz.js":297,"./ar-kw":298,"./ar-kw.js":298,"./ar-ly":299,"./ar-ly.js":299,"./ar-ma":300,"./ar-ma.js":300,"./ar-sa":301,"./ar-sa.js":301,"./ar-tn":302,"./ar-tn.js":302,"./ar.js":296,"./az":303,"./az.js":303,"./be":304,"./be.js":304,"./bg":305,"./bg.js":305,"./bm":306,"./bm.js":306,"./bn":307,"./bn-bd":308,"./bn-bd.js":308,"./bn.js":307,"./bo":309,"./bo.js":309,"./br":310,"./br.js":310,"./bs":311,"./bs.js":311,"./ca":312,"./ca.js":312,"./cs":313,"./cs.js":313,"./cv":314,"./cv.js":314,"./cy":315,"./cy.js":315,"./da":316,"./da.js":316,"./de":317,"./de-at":318,"./de-at.js":318,"./de-ch":319,"./de-ch.js":319,"./de.js":317,"./dv":320,"./dv.js":320,"./el":321,"./el.js":321,"./en-au":322,"./en-au.js":322,"./en-ca":323,"./en-ca.js":323,"./en-gb":324,"./en-gb.js":324,"./en-ie":325,"./en-ie.js":325,"./en-il":326,"./en-il.js":326,"./en-in":327,"./en-in.js":327,"./en-nz":328,"./en-nz.js":328,"./en-sg":329,"./en-sg.js":329,"./eo":330,"./eo.js":330,"./es":331,"./es-do":332,"./es-do.js":332,"./es-mx":333,"./es-mx.js":333,"./es-us":334,"./es-us.js":334,"./es.js":331,"./et":335,"./et.js":335,"./eu":336,"./eu.js":336,"./fa":337,"./fa.js":337,"./fi":338,"./fi.js":338,"./fil":339,"./fil.js":339,"./fo":340,"./fo.js":340,"./fr":341,"./fr-ca":342,"./fr-ca.js":342,"./fr-ch":343,"./fr-ch.js":343,"./fr.js":341,"./fy":344,"./fy.js":344,"./ga":345,"./ga.js":345,"./gd":346,"./gd.js":346,"./gl":347,"./gl.js":347,"./gom-deva":348,"./gom-deva.js":348,"./gom-latn":349,"./gom-latn.js":349,"./gu":350,"./gu.js":350,"./he":351,"./he.js":351,"./hi":352,"./hi.js":352,"./hr":353,"./hr.js":353,"./hu":354,"./hu.js":354,"./hy-am":355,"./hy-am.js":355,"./id":356,"./id.js":356,"./is":357,"./is.js":357,"./it":358,"./it-ch":359,"./it-ch.js":359,"./it.js":358,"./ja":360,"./ja.js":360,"./jv":361,"./jv.js":361,"./ka":362,"./ka.js":362,"./kk":363,"./kk.js":363,"./km":364,"./km.js":364,"./kn":365,"./kn.js":365,"./ko":366,"./ko.js":366,"./ku":367,"./ku.js":367,"./ky":368,"./ky.js":368,"./lb":369,"./lb.js":369,"./lo":370,"./lo.js":370,"./lt":371,"./lt.js":371,"./lv":372,"./lv.js":372,"./me":373,"./me.js":373,"./mi":374,"./mi.js":374,"./mk":375,"./mk.js":375,"./ml":376,"./ml.js":376,"./mn":377,"./mn.js":377,"./mr":378,"./mr.js":378,"./ms":379,"./ms-my":380,"./ms-my.js":380,"./ms.js":379,"./mt":381,"./mt.js":381,"./my":382,"./my.js":382,"./nb":383,"./nb.js":383,"./ne":384,"./ne.js":384,"./nl":385,"./nl-be":386,"./nl-be.js":386,"./nl.js":385,"./nn":387,"./nn.js":387,"./oc-lnc":388,"./oc-lnc.js":388,"./pa-in":389,"./pa-in.js":389,"./pl":390,"./pl.js":390,"./pt":391,"./pt-br":392,"./pt-br.js":392,"./pt.js":391,"./ro":393,"./ro.js":393,"./ru":394,"./ru.js":394,"./sd":395,"./sd.js":395,"./se":396,"./se.js":396,"./si":397,"./si.js":397,"./sk":398,"./sk.js":398,"./sl":399,"./sl.js":399,"./sq":400,"./sq.js":400,"./sr":401,"./sr-cyrl":402,"./sr-cyrl.js":402,"./sr.js":401,"./ss":403,"./ss.js":403,"./sv":404,"./sv.js":404,"./sw":405,"./sw.js":405,"./ta":406,"./ta.js":406,"./te":407,"./te.js":407,"./tet":408,"./tet.js":408,"./tg":409,"./tg.js":409,"./th":410,"./th.js":410,"./tk":411,"./tk.js":411,"./tl-ph":412,"./tl-ph.js":412,"./tlh":413,"./tlh.js":413,"./tr":414,"./tr.js":414,"./tzl":415,"./tzl.js":415,"./tzm":416,"./tzm-latn":417,"./tzm-latn.js":417,"./tzm.js":416,"./ug-cn":418,"./ug-cn.js":418,"./uk":419,"./uk.js":419,"./ur":420,"./ur.js":420,"./uz":421,"./uz-latn":422,"./uz-latn.js":422,"./uz.js":421,"./vi":423,"./vi.js":423,"./x-pseudo":424,"./x-pseudo.js":424,"./yo":425,"./yo.js":425,"./zh-cn":426,"./zh-cn.js":426,"./zh-hk":427,"./zh-hk.js":427,"./zh-mo":428,"./zh-mo.js":428,"./zh-tw":429,"./zh-tw.js":429};function a(e){e=l(e);return n(e)}function l(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=l,(e.exports=a).id=583},618:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(242)),c=i(n(66)),s=i(n(620)),f=i(n(644)),d=i(n(646));t.default=(0,u.memo)(function(e){return e=e.TargetComponent,u.default.createElement("div",{className:o.default.layout},u.default.createElement("div",{className:o.default.top},u.default.createElement(s.default,null)),u.default.createElement("div",{className:o.default.middle},u.default.createElement("div",{className:o.default.left},u.default.createElement(f.default,null)),u.default.createElement("div",{className:o.default.right},u.default.createElement(u.Suspense,{fallback:u.default.createElement(c.default,null)},u.default.createElement(e,null)))),u.default.createElement("div",{className:o.default.bottom},u.default.createElement(d.default,null)))})},619:function(e,t,n){"use strict";n.r(t)},620:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},p=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},v=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=l(n(0)),y=n(35),b=i(n(621)),g=n(72),_=n(47),E=i(n(622)),j=n(27),w=n(496),O=n(643);t.default=(0,h.memo)(function(){var e=this,t=(s=(0,h.useState)(null))[0],n=s[1],r=(0,h.useState)(!1),a=r[0],l=r[1],i=(d=(0,h.useState)(null))[0],u=d[1],o=(0,y.useHistory)(),c=(0,h.useState)(!1),s=c[0],f=c[1],d=(r=(0,h.useState)({}))[0],m=r[1];return(0,h.useEffect)(function(){var e,t;(0,j.hasToken)()&&(e=window.localStorage.getItem("username"),t=window.localStorage.getItem("avatar"),e&&t&&(n(window.localStorage.getItem("username")),u(window.localStorage.getItem("avatar"))))},[]),c=function(){null===t&&l(!a)},r=(0,j.debounce)(function(n){return p(e,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return""===n?[2]:[4,(0,O.searchSuggest)(n)];case 1:return t=e.sent().result,Array.isArray(t.songs)&&(t.songs=t.songs.map(function(e){return{text:e.name+" - "+e.artists.map(function(e){return e.name}).join("/"),value:"/Song?id="+e.id}})),Array.isArray(t.albums)&&(t.albums=t.albums.map(function(e){return{text:e.name+" - "+e.artist.name,value:"/Album?id="+e.id}})),Array.isArray(t.artists)&&(t.artists=t.artists.map(function(e){return{text:e.name,value:"/Singer?id="+e.id}})),Array.isArray(t.playlists)&&(t.playlists=t.playlists.map(function(e){return{text:e.name,value:"/Playlist?id="+e.id}})),m(t),[2]}})})},800),h.default.createElement("div",{className:b.default.header},h.default.createElement(E.default,{visible:a,onClose:c,onSetName:n,onSetImg:u}),h.default.createElement(g.Avatar,{onClick:c,size:40,icon:h.default.createElement(_.UserOutlined,null),src:i?(0,j.replaceHttpToHttps)(i)+"?param=80y80":""}),h.default.createElement("div",{className:"username"},t||"未登录"),t&&h.default.createElement("div",{className:"logout",onClick:function(){return p(e,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,(0,w.logout)()];case 1:return 200===e.sent().code&&(window.localStorage.clear(),n(null),u(null)),[2]}})})}},"退出登录"),h.default.createElement(g.Select,{showSearch:!0,className:"search",style:{width:s?320:160},dropdownMatchSelectWidth:320,placeholder:"搜索音乐",value:null,suffixIcon:h.default.createElement(_.SearchOutlined,null),onChange:function(e){m({}),o.push(e)},onSearch:r,filterOption:!1,onFocus:function(){return f(!0)},onBlur:function(){f(!1),m({})}},d.songs&&h.default.createElement(g.Select.OptGroup,{label:"单曲"},d.songs.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.albums&&h.default.createElement(g.Select.OptGroup,{label:"专辑"},d.albums.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.artists&&h.default.createElement(g.Select.OptGroup,{label:"歌手"},d.artists.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)})),d.playlists&&h.default.createElement(g.Select.OptGroup,{label:"歌单"},d.playlists.map(function(e){var t=e.value,e=e.text;return h.default.createElement(g.Select.Option,{key:t,value:t},e)}))))})},621:function(e,t,n){"use strict";n.r(t),t.default={header:"header_2ZE5y"}},622:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return l(t,e),t},u=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},h=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),c=n(72),y=n(496),s={labelCol:{span:4},wrapperCol:{span:20}},b={wrapperCol:{offset:18,span:4}};t.default=function(e){var t=this,n=e.visible,f=e.onClose,d=e.onSetName,m=e.onSetImg,p=(e=(0,o.useState)(!1))[0],v=e[1];return o.default.createElement(c.Modal,{title:"登录",visible:n,onCancel:f,footer:null},o.default.createElement(c.Form,r({},s,{onFinish:function(s){return u(t,void 0,void 0,function(){var t,n,r,a,l,i,u,o,c;return h(this,function(e){switch(e.label){case 0:if(t=s.username,n=s.password,!t||!n)return[2];if(/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t))r="email";else{if(!/^1[3-9]\d{9}$/.test(t))return[2];r="phone"}return p?[2]:(v(!0),"email"!==r?[3,2]:[4,(0,y.emailLogin)(t,n)]);case 1:return a=e.sent(),[3,4];case 2:return[4,(0,y.phoneLogin)(t,n)];case 3:a=e.sent(),e.label=4;case 4:return o=(c=a).profile,l=o.nickname,i=o.avatarUrl,u=c.account.id,o=c.token,c=Number(c.cookie.match(/MUSIC_U=\w+;\s?Max-Age=(\d+)/)[1]),d(l),m(i),window.localStorage.setItem("username",l),window.localStorage.setItem("avatar",i),window.localStorage.setItem("userid",u),window.localStorage.setItem("token",o),window.localStorage.setItem("timestampBefore",String(Date.now()+1e3*c)),v(!1),f(),[2]}})})}}),o.default.createElement(c.Form.Item,{label:"账号",name:"username"},o.default.createElement(c.Input,{placeholder:"输入手机号或邮箱"})),o.default.createElement(c.Form.Item,{label:"密码",name:"password"},o.default.createElement(c.Input,{type:"password",placeholder:"输入密码",autoComplete:"on"})),o.default.createElement(c.Form.Item,r({},b),o.default.createElement(c.Button,{type:"primary",htmlType:"submit",loading:p},"登录"))))}},63:function(e,t,n){"use strict";n.r(t),t.default={"my-songlist":"my-songlist_3CSEN",title:"title_2ELe3","list-item":"list-item_1EFwt",delete:"delete_1qEdy",image:"image_2q3Un",content:"content_2L3Nd"}},643:function(e,t,n){"use strict";n.r(t),n.d(t,"searchSuggest",function(){return a});var t=n(125),t=n(126),t=n(97),t=n(51),r=n.n(t);function o(e,t,n,r,a,l,i){try{var u=e[l](i),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}var a=function(){var u,t=(u=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()("/search/suggest?keywords=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function a(e){o(r,t,n,a,l,"next",e)}function l(e){o(r,t,n,a,l,"throw",e)}a(void 0)})});return function(e){return t.apply(this,arguments)}}()},644:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(645)),c=n(35),s=n(47);t.default=(0,u.memo)(function(){var e=(0,u.useState)("Discovery"),r=e[0],t=e[1],n=(0,c.useLocation)().pathname;return(0,u.useEffect)(function(){t(n.slice(1))},[n]),u.default.createElement("div",{className:o.default.container},u.default.createElement("input",{type:"checkbox",id:"toggle",className:"input-toggle"}),u.default.createElement("div",{className:"sidebar"},u.default.createElement("div",{className:"category"},"推荐"),[{text:"发现音乐",Icon:s.SearchOutlined,key:"Discovery"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(c.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"我的音乐"),[{text:"我的歌单",Icon:s.HeartOutlined,key:"MySongList"}].map(function(e){var t=e.key,n=e.text,e=e.Icon;return u.default.createElement(c.Link,{className:r===t?"item active":"item",key:t,to:"/"+t},u.default.createElement(e,null)," ",n)}),u.default.createElement("div",{className:"category"},"GitHub"),u.default.createElement("a",{className:"item",href:"https://github.com/lisianthus-a/react-music",target:"_blank"},u.default.createElement(s.GithubOutlined,null)," 项目地址"),u.default.createElement("a",{className:"item",href:"https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=neteasecloudmusicapi",target:"_blank"},u.default.createElement(s.FileTextOutlined,null)," API文档")),u.default.createElement("label",{htmlFor:"toggle"},u.default.createElement("div",{className:"toggle"})))})},645:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3Mt4v"}},646:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(647)),c=n(48),s=n(140),f=i(n(98)),d=i(n(648)),m=i(n(650)),p=i(n(652)),v=i(n(661));t.default=(0,u.memo)(function(){var e=(0,u.useContext)(c.StateContext),t=(l=(0,u.useState)(0))[0],n=l[1],r=e.isPlaying,a=e.playMode,l=e.playlist,e=e.playingItem;return(0,s.useInterval)(function(){var e=(0,f.default)().getCurrentTime();n(e)},300),u.default.createElement("div",{className:o.default["music-player"]},u.default.createElement(d.default,{playingItem:e,currentTime:t}),u.default.createElement(m.default,null),u.default.createElement(p.default,{isPlaying:r,playingItem:e,playlist:l,playMode:a,currentTime:t}),u.default.createElement(v.default,{playingItem:e,currentTime:t,setCurrentTime:n}))})},647:function(e,t,n){"use strict";n.r(t),t.default={"music-player":"music-player_39d43"}},648:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(649)),c=n(35),s=n(27);t.default=function(e){var t=e.playingItem,n=e.currentTime,r=t.id,a=t.name,l=t.cover,i=t.singers,e=t.duration,t=(0,u.useMemo)(function(){return i.map(function(e){return e.name}).join("/")},[i]),e=(0,s.convertTime)(n)+" / "+(0,s.convertTime)(e);return u.default.createElement("div",{className:o.default.container},u.default.createElement("img",{src:l+"?param=50y50"}),u.default.createElement("div",{className:"information"},u.default.createElement("div",{className:"song"},u.default.createElement(c.Link,{to:"/Song?id="+r},a)," - ",u.default.createElement("span",{className:"singer",title:t},t)),u.default.createElement("div",{className:"time"},e)))}},649:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3o_Fk"}},650:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),c=i(n(651)),s=n(47),f=n(48);t.default=(0,o.memo)(function(){function e(e){e=n(e,l),r(e)}var t=(0,o.useContext)(f.FuncContext),n=t.getSong,r=t.playSong,a=t.pauseSong,l=(0,o.useContext)(f.StateContext),i=l.isPlaying,u=l.playingItem;return o.default.createElement("div",{className:c.default.container},o.default.createElement("div",{className:"prev",title:"上一首",onClick:function(){return e("prev")}},o.default.createElement(s.StepBackwardOutlined,null)),o.default.createElement("div",{className:"play-or-pause",onClick:function(){i?a():r(u)},title:"播放/暂停"},i?o.default.createElement(s.PauseOutlined,null):o.default.createElement(s.CaretRightOutlined,null)),o.default.createElement("div",{className:"next",title:"下一首",onClick:function(){return e("next")}},o.default.createElement(s.StepForwardOutlined,null)))})},651:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3ew1h"}},652:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(0)),i=r(n(653)),u=r(n(654)),o=r(n(656)),c=r(n(659));t.default=function(e){var t=e.isPlaying,n=e.playingItem,r=e.playlist,a=e.playMode,e=e.currentTime;return l.default.createElement("div",{className:i.default["other-button"]},l.default.createElement(u.default,{isPlaying:t,playingItem:n,playlist:r,currentTime:e}),l.default.createElement(o.default,{playMode:a}),l.default.createElement(c.default,null))}},653:function(e,t,n){"use strict";n.r(t),t.default={"other-button":"other-button_1-Ybf"}},654:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},j=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},w=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var O=l(n(0)),S=i(n(655)),k=n(47),x=n(27),P=n(140),N=i(n(98)),M=i(n(446)),C=n(48);t.default=function(e){var t=this,u=e.isPlaying,o=e.playlist,c=e.playingItem,l=e.currentTime,s=(i=(0,O.useContext)(C.FuncContext)).playSong,n=i.collectSong,f=i.setPlaylist,r=(y=(0,O.useState)(c.lyric))[0],a=y[1],i=(e=(0,O.useState)(!0))[0],d=e[1],m=(0,O.useRef)(null),p=(0,O.useRef)(null),v=(0,O.useRef)(null),h=(0,O.useRef)(c.id),y=(0,O.useCallback)(function(e){e=e.target.checked;e&&(0,N.default)().drawStart(),e||(0,N.default)().drawStop(),d(e)},[]),e=(0,O.useCallback)(function(){(0,M.default)().delAll(),f([])},[]),b=(0,O.useCallback)(function(n){return j(t,void 0,void 0,function(){var t;return w(this,function(e){return t=o[n],s(t),[2]})})},[o]),g=(0,O.useCallback)(function(e,t,n){e.stopPropagation(),(0,N.default)().download(t,n)},[]),_=(0,O.useCallback)(function(l,i){return j(t,void 0,void 0,function(){var t,n,r,a;return w(this,function(e){return l.stopPropagation(),t=o.slice(),n=t.findIndex(function(e){return e.id===c.id}),r=t.splice(i,1),(0,M.default)().del(r[0].id),f(t),n===i&&u&&(a=t[i]||t[t.length-1])&&s(a),[2]})})},[o,u,c]),E=(0,O.useCallback)(function(e,t){e.stopPropagation(),n(t)},[]);return(0,P.useInterval)(function(){if(toggleList.checked){var a=p.current.getElementsByClassName("lyric");if(0!==a.length){var e=Number(a[0].dataset.time);if(Number(a[a.length-1].dataset.time)<=l)t=a[a.length-1];else{if(l<=e)return;var e=function(){for(var e=0,t=a.length-1;e<=t;){var n=e+t>>1,r=Number(a[n].dataset.time);l<r?t=n-1:e=1+n}return e-1}(),t=a[e]}v.current!==t&&(v.current&&v.current.classList.remove("active"),(v.current=t).classList.add("active"),t=v.current.offsetTop+v.current.scrollHeight/2-195,p.current.scrollTop=t<0?0:t)}}},400),(0,O.useEffect)(function(){c.id!==h.current?(v.current&&v.current.classList.remove("active"),p.current.scrollTop=0,h.current=c.id,a(c.lyric)):c.lyric&&a(c.lyric)},[c]),(0,O.useEffect)(function(){var e;m.current&&(e=m.current.getContext("2d"),(0,N.default)().setCanvasContext(e),(0,N.default)().drawStart())},[m]),O.default.createElement("div",{className:S.default.playlist},O.default.createElement("div",{className:"icon",title:"播放列表"},O.default.createElement("label",{htmlFor:"toggleList"},O.default.createElement(k.UnorderedListOutlined,null),o.length)),O.default.createElement("input",{type:"checkbox",id:"toggleList",className:"toggle"}),O.default.createElement("div",{className:"list"},O.default.createElement("canvas",{ref:m,height:"310",width:"900"}),O.default.createElement("div",{className:"list-left"},O.default.createElement("div",{className:"title"},O.default.createElement("span",null,"播放列表 (",o.length,")"),O.default.createElement("label",{className:"ml16"},"音乐可视化",O.default.createElement("input",{className:"ml4",type:"checkbox",checked:i,onChange:y})),O.default.createElement("span",{className:"clean",onClick:e},O.default.createElement(k.DeleteOutlined,null)," 清空")),O.default.createElement("div",{className:"content"},o.map(function(e,t){var n=e.id,r=e.name,a=e.singers,e=e.duration;return O.default.createElement("div",{className:n===c.id?"item playing":"item",key:n,onClick:function(){return b(t)}},n===c.id&&O.default.createElement(k.CaretRightOutlined,null),O.default.createElement("div",{className:"song-title",title:r},r),O.default.createElement("div",{className:"icons"},O.default.createElement(k.PlusOutlined,{title:"添加到歌单",onClick:function(e){return E(e,n)}}),O.default.createElement(k.DownloadOutlined,{title:"下载",onClick:function(e){return g(e,n,r)}}),O.default.createElement(k.DeleteOutlined,{title:"删除",onClick:function(e){return _(e,t)}})),O.default.createElement("div",{className:"singer",title:a.map(function(e){return e.name}).join("/")},a.map(function(e){return e.name}).join("/")),O.default.createElement("div",{className:"duration"},(0,x.convertTime)(e)))}))),O.default.createElement("div",{className:"list-right"},O.default.createElement("div",{className:"title"},O.default.createElement("span",{title:c.name},c.name)),O.default.createElement("div",{className:"content",ref:p},null===r&&O.default.createElement("p",null,"歌词加载中..."),r&&0===r.length&&O.default.createElement("p",null,"暂无歌词"),r&&r.map(function(e,t){var n=e[0],r=e[1],e=e[2];return O.default.createElement("p",{key:t,"data-time":e,className:"lyric"},n,r&&O.default.createElement(O.default.Fragment,null,O.default.createElement("br",null),r))}))),O.default.createElement("label",{htmlFor:"toggleList"},O.default.createElement("div",{className:"close"},"X"))))}},655:function(e,t,n){"use strict";n.r(t),t.default={playlist:"playlist_3Uhd9"}},656:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(657)),c=n(48),i=i(n(658)),n=n(47),s={"list-loop":u.default.createElement(n.RetweetOutlined,{title:"列表循环"}),random:u.default.createElement(i.default,{type:"icon-random",title:"随机"}),"single-cycle":u.default.createElement(i.default,{type:"icon-Singlecycle",title:"单曲循环"})};t.default=(0,u.memo)(function(e){var t=e.playMode,n=(0,u.useContext)(c.FuncContext).setPlayMode,e=s[t];return u.default.createElement("div",{className:o.default["play-mode"]},u.default.createElement("div",{className:"icon",onClick:function(){var e="list-loop"===t?"random":"random"===t?"single-cycle":"list-loop";n(e)}},e))})},657:function(e,t,n){"use strict";n.r(t),t.default={"play-mode":"play-mode_3wZ9F"}},658:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),n=n(282),l=Object(n.a)({scriptUrl:"//at.alicdn.com/t/font_2138442_yp24oyx9jzn.js"});t.default=function(e){return a.a.createElement(l,e)}},659:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(660)),c=n(72),s=n(47),f=i(n(98));t.default=(0,u.memo)(function(){return u.default.createElement("div",{className:o.default.volume},u.default.createElement("div",{className:"icon",title:"音量"},u.default.createElement(s.SoundOutlined,null)),u.default.createElement("div",{className:"slider"},u.default.createElement(c.Slider,{defaultValue:100,onChange:function(e){(0,f.default)().setVolume(.01*e)},tipFormatter:function(e){return e+"%"}})))})},66:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));n(619);var l=new Array(16).fill(0);t.default=function(){return a.default.createElement("div",{className:"loading-container"},a.default.createElement("div",{className:"loader"},l.map(function(e,t){return a.default.createElement("div",{className:"square",key:t})})),a.default.createElement("div",{className:"loading-text"},"加载中"))}},660:function(e,t,n){"use strict";n.r(t),t.default={volume:"volume_3rxth"}},661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=l(n(0)),p=i(n(662)),v=n(27),h=n(48);t.default=(0,m.memo)(function(e){var n=e.playingItem,t=e.currentTime,r=e.setCurrentTime,a=n.duration,l=(d=(0,m.useState)(!1))[0],i=d[1],u=(0,m.useRef)(null),o=(0,m.useRef)(null),c=(0,m.useContext)(h.FuncContext).playSong,e=(0,m.useCallback)(function(e){var t;0===e.button&&(window.addEventListener("mousemove",f),window.addEventListener("mouseup",s),i(!0),t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t,u.current.style.width=100*t+"%",o.current.textContent=(0,v.convertTime)(t*a))},[n]),s=(0,m.useCallback)(function(e){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",s),i(!1);var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t*a;r(t),c(n,t)},[n]),f=(0,m.useCallback)(function(e){var t=window.innerWidth<1e3?1e3:window.innerWidth,t=e.clientX/t;u.current.style.width=100*t+"%",o.current.textContent=(0,v.convertTime)(t*a)},[n]),d=(0,m.useMemo)(function(){return l?{width:u.current.style.width}:{width:t/a*100+"%"}},[t,a]);return m.default.createElement("div",{className:p.default.progressbar},m.default.createElement("div",{className:"track",onMouseDown:e}),m.default.createElement("div",{className:"rail",onMouseDown:e,ref:u,style:d},m.default.createElement("div",{className:"handle"}),m.default.createElement("div",{className:"tooltip",ref:o,style:{display:l?"block":"none"}})))})},662:function(e,t,n){"use strict";n.r(t),t.default={progressbar:"progressbar_2Rh8C"}},663:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},s=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},f=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(0)),m=i(n(664)),p=n(72),v=i(n(66)),h=n(91);t.default=function(e){var t=this,n=e.id,r=(0,d.useState)(null),a=r[0],l=r[1],i=(e=(0,d.useState)(null))[0],u=e[1],e=(r=(0,d.useState)(!1))[0],o=r[1],c=window.localStorage.getItem("userid");return c?((0,d.useEffect)(function(){s(t,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,(0,h.userPlaylist)(c)];case 1:return n=e.sent(),t=n.playlist.filter(function(e){return!e.subscribed}),n=n.playlist.filter(function(e){return e.subscribed}),n=[{title:"我创建的歌单 ("+t.length+")",value:"0-0",selectable:!1,children:t.map(function(e){return{title:e.name,value:e.id}})},{title:"我收藏的歌单 ("+n.length+")",value:"0-1",selectable:!1,children:n.map(function(e){return{title:e.name,value:e.id}})}],l(n),[2]}})})},[]),a?d.default.createElement("div",{className:m.default["collect-song"]},d.default.createElement(p.TreeSelect,{treeData:a,style:{width:"100%"},onChange:function(e){return u(e)},treeDefaultExpandAll:!0,placeholder:"请选择歌单"}),d.default.createElement(p.Button,{onClick:function(){i&&(o(!0),(0,h.songlistTracks)("add",i,n).then(function(){p.Modal.destroyAll(),p.message.success("已收藏歌曲")}))},type:"primary",loading:e,style:{marginTop:30}},"确认")):d.default.createElement(v.default,null)):d.default.createElement("div",null,"未找到 userid，请重新登录")}},664:function(e,t,n){"use strict";n.r(t),t.default={"collect-song":"collect-song_1DAiM"}},666:function(e,t,n){var r={"./routes":117,"./routes/":117,"./routes/Album":160,"./routes/Album/":160,"./routes/Album/components/View":269,"./routes/Album/components/View.module.scss":466,"./routes/Album/components/View.tsx":269,"./routes/Album/index":160,"./routes/Album/index.tsx":160,"./routes/Discovery":161,"./routes/Discovery/":161,"./routes/Discovery/components/Carousel":128,"./routes/Discovery/components/Carousel/":128,"./routes/Discovery/components/Carousel/index":128,"./routes/Discovery/components/Carousel/index.module.scss":468,"./routes/Discovery/components/Carousel/index.tsx":128,"./routes/Discovery/components/RecentSonglist":130,"./routes/Discovery/components/RecentSonglist/":130,"./routes/Discovery/components/RecentSonglist/index":130,"./routes/Discovery/components/RecentSonglist/index.module.scss":470,"./routes/Discovery/components/RecentSonglist/index.tsx":130,"./routes/Discovery/components/RecommentPlaylist":129,"./routes/Discovery/components/RecommentPlaylist/":129,"./routes/Discovery/components/RecommentPlaylist/index":129,"./routes/Discovery/components/RecommentPlaylist/index.module.scss":469,"./routes/Discovery/components/RecommentPlaylist/index.tsx":129,"./routes/Discovery/components/View":273,"./routes/Discovery/components/View.module.scss":467,"./routes/Discovery/components/View.tsx":273,"./routes/Discovery/index":161,"./routes/Discovery/index.tsx":161,"./routes/MySongList":162,"./routes/MySongList/":162,"./routes/MySongList/components/View":171,"./routes/MySongList/components/View.js":171,"./routes/MySongList/components/View.module.scss":63,"./routes/MySongList/index":162,"./routes/MySongList/index.js":162,"./routes/PersonalFM":169,"./routes/PersonalFM/":169,"./routes/PersonalFM/index":169,"./routes/PersonalFM/index.js":169,"./routes/PersonalFM/index.module.scss":50,"./routes/Playlist":164,"./routes/Playlist/":164,"./routes/Playlist/components/View":277,"./routes/Playlist/components/View.module.scss":490,"./routes/Playlist/components/View.tsx":277,"./routes/Playlist/index":164,"./routes/Playlist/index.tsx":164,"./routes/Singer":165,"./routes/Singer/":165,"./routes/Singer/components/Header":133,"./routes/Singer/components/Header/":133,"./routes/Singer/components/Header/index":133,"./routes/Singer/components/Header/index.module.scss":492,"./routes/Singer/components/Header/index.tsx":133,"./routes/Singer/components/Introduction":134,"./routes/Singer/components/Introduction/":134,"./routes/Singer/components/Introduction/index":134,"./routes/Singer/components/Introduction/index.module.scss":493,"./routes/Singer/components/Introduction/index.tsx":134,"./routes/Singer/components/View":278,"./routes/Singer/components/View.module.scss":491,"./routes/Singer/components/View.tsx":278,"./routes/Singer/index":165,"./routes/Singer/index.tsx":165,"./routes/Song":166,"./routes/Song/":166,"./routes/Song/components/View":279,"./routes/Song/components/View.module.scss":494,"./routes/Song/components/View.tsx":279,"./routes/Song/index":166,"./routes/Song/index.tsx":166,"./routes/User":167,"./routes/User/":167,"./routes/User/components/View":172,"./routes/User/components/View.js":172,"./routes/User/index":167,"./routes/User/index.js":167,"./routes/Video":168,"./routes/Video/":168,"./routes/Video/components/View":173,"./routes/Video/components/View.js":173,"./routes/Video/index":168,"./routes/Video/index.js":168,"./routes/index":117,"./routes/index.ts":117};function a(e){e=l(e);return n(e)}function l(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return Object.keys(r)},a.resolve=l,(e.exports=a).id=666},667:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},a=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.album=t.albumComment=void 0;var i=l(n(51));t.albumComment=function(e){return(0,i.default)("/comment/album?id="+e)};t.album=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){return[2,(0,i.default)("/album?id="+t)]})})}},668:function(e,t,n){"use strict";n.r(t),t.default={detail:"detail_25jrL"}},669:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),c=n(48),s=n(35),f=n(72),d=n(47);t.default=function(e){var t=e.detailData,n=e.songList,r=(u=(0,o.useContext)(c.FuncContext)).setPlaylist,a=u.playSong,l=t.title,i=t.cover,e=t.creator,u=t.tags,t=t.description;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"list-left"},o.default.createElement("div",{className:"image"},o.default.createElement("img",{src:i+"?param=240y240"}))),o.default.createElement("div",{className:"list-right"},o.default.createElement("div",{className:"title-playlist"},l),o.default.createElement("div",{className:"creator"},o.default.createElement(s.Link,{to:"/User?id="+e.id},o.default.createElement("img",{src:e.avatar+"?param=40y40"}),e.name),new Date(e.createTime).toLocaleDateString().replace(/\//g,"-"),"创建"),o.default.createElement("div",{className:"btns"},o.default.createElement(f.Button,{icon:o.default.createElement(d.CaretRightOutlined,null),onClick:function(){var e=n.filter(function(e){return e.isFree});r(e),a(e[0])}},"播放全部")),o.default.createElement("div",{className:"tags"},"标签：",u.map(function(e,t){return o.default.createElement("span",{key:t},e)})),o.default.createElement("div",{className:"description"},t)))}},670:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(0)),c=n(48),s=n(35),f=n(72),d=n(47);t.default=function(e){var t=e.detailData,n=e.songList,r=(u=(0,o.useContext)(c.FuncContext)).playSong,a=u.setPlaylist,l=t.title,i=t.cover,e=t.singers,u=t.publishTime,t=t.description;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"list-left"},o.default.createElement("div",{className:"image"},o.default.createElement("img",{src:i+"?param=240y240"}))),o.default.createElement("div",{className:"list-right"},o.default.createElement("div",{className:"title-album"},l),o.default.createElement("div",{className:"singer"},"歌手：",e.map(function(e,t){var n=e.id,e=e.name;return o.default.createElement(o.default.Fragment,{key:t},o.default.createElement(s.Link,{to:"/Singer?id="+n},e),o.default.createElement("span",null," / "))})),o.default.createElement("div",null,"发行时间：",new Date(u).toLocaleDateString().replace(/\//g,"-")),o.default.createElement("div",{className:"btns"},o.default.createElement(f.Button,{icon:o.default.createElement(d.CaretRightOutlined,null),onClick:function(){var e=n[0];r(e),a(n)}},"播放全部")),o.default.createElement("div",{className:"description"},t)))}},671:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=l(n(0)),y=n(48),b=n(35),g=n(72),_=n(47),E=i(n(98));t.default=function(e){var t=e.detailData,n=e.songData,r=e.lyric,a=t.title,l=t.cover,i=t.singers,u=t.albumId,o=t.albumName,c=n.id,s=n.name,e=n.isFree,f=(t=(0,h.useContext)(y.FuncContext)).playSong,d=t.collectSong,m=t.setPlaylist,p=(t=(0,h.useContext)(y.StateContext)).playingItem,v=t.playlist;return h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:"list-left"},h.default.createElement("div",{className:"image"},h.default.createElement("img",{src:l+"?param=240y240"}))),h.default.createElement("div",{className:"list-right"},h.default.createElement("div",{className:"title-song"},a),h.default.createElement("div",{className:"singer"},"歌手：",i.map(function(e,t){var n=e.id,e=e.name;return h.default.createElement(h.default.Fragment,{key:t},h.default.createElement(b.Link,{to:"/Singer?id="+n},e),h.default.createElement("span",null," / "))})),h.default.createElement("div",null,"所属专辑：",h.default.createElement(b.Link,{to:"/Album?id="+u},o)),h.default.createElement("div",{className:"btns"},h.default.createElement(g.Button,{icon:h.default.createElement(_.CaretRightOutlined,null),onClick:function(){var e;p.id!==n.id&&(v.find(function(e){return e.id===n.id})||((e=v.slice()).push(n),m(e)),f(n))},disabled:!e},"播放"),h.default.createElement(g.Button,{icon:h.default.createElement(_.HeartOutlined,null),onClick:function(){d(c)},disabled:!e},"添加到歌单"),h.default.createElement(g.Button,{icon:h.default.createElement(_.DownloadOutlined,null),onClick:function(){(0,E.default)().download(c,s)},disabled:!e},"下载")),h.default.createElement("input",{type:"checkbox",id:"toggle-lyric",className:"toggle",style:{display:"none"}}),0===r.length&&h.default.createElement("div",null,"暂无歌词"),h.default.createElement("div",{className:"lyric"},r.map(function(e,t){var n=e[0],e=e[1];return h.default.createElement("p",{key:t},n,e&&h.default.createElement(h.default.Fragment,null,h.default.createElement("br",null),e))})),h.default.createElement("label",{htmlFor:"toggle-lyric"})))}},672:function(e,t,n){"use strict";n.r(t),t.default={songlist:"songlist_1AHFN"}},673:function(e,t,n){"use strict";n.r(t),t.default={"comment-list":"comment-list_1x3ow"}},674:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.simiSong=t.topSong=t.recommendPlaylist=t.banner=void 0;var a=r(n(51));t.banner=function(){return(0,a.default)("/banner")};t.recommendPlaylist=function(e){return(0,a.default)("/personalized?limit="+(e=void 0===e?10:e))};t.topSong=function(e){return(0,a.default)("/top/song?type="+(e=void 0===e?0:e))};t.simiSong=function(e){return(0,a.default)("/simi/song?id="+e)}},696:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.singerDesc=t.singerInfo=void 0;var a=r(n(51));t.singerInfo=function(e){return(0,a.default)("/artists?id="+e)};t.singerDesc=function(e){return(0,a.default)("/artist/desc?id="+e)}},697:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(0)),o=i(n(698));function c(e){var t=e.children,n=(0,u.useMemo)(function(){return u.default.Children.toArray(t)},[t]),e=(0,u.useState)(n[0].key),r=e[0],a=e[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:o.default.tabs},n.map(function(e,t){return u.default.createElement("div",{key:t,className:r===e.key?o.default["tab-active"]:o.default.tab,onClick:function(){return a(e.key)}},e.props.text)})),n.filter(function(e){return e.key===r}))}c.Pane=function(e){return e.children},t.default=c},698:function(e,t,n){"use strict";n.r(t),t.default={tabs:"tabs_2nnn9",tab:"tab_1pU_B","tab-active":"tab-active_qjqOx"}},706:function(e,t,n){"use strict";n.r(t);var t=n(0),r=n.n(t),t=n(34),a=n.n(t),l=n(35),t=n(48),i=n.n(t);a.a.render(r.a.createElement(function(){return r.a.createElement(l.HashRouter,null,r.a.createElement(i.a,null))},null),document.getElementById("root"))},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDetail=t.resolveSongs=t.resolveLyric=void 0;var f=n(27);t.resolveLyric=function(e){var t=e.uncollected,n=e.nolyric,r=e.lrc,e=e.tlyric;if(t||n)return[];function a(e,r){var t=e.lastIndexOf("]"),a=e.slice(t+1);e.match(/\d+\:\d+[\.\:]\d+/g).forEach(function(e){var t,n,n=(n=(t=e).match(/\d+/g),e=n[0],t=n[1],n=n[2],60*Number(e)+Number(t)+.001*Number(n));r?l[n]=[a,"",n]:l[n]&&(l[n][1]=a)})}var r=r.lyric.split("\n").filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}),e=(null===(e=null===(e=null==e?void 0:e.lyric)||void 0===e?void 0:e.split("\n"))||void 0===e?void 0:e.filter(function(e){return/\d+\:\d+[\.\:]\d+/.test(e)}))||[],l={};return r.forEach(function(e){return a(e,!0)}),e.forEach(function(e){return a(e,!1)}),Object.values(l).sort(function(e,t){return e[2]-t[2]})};t.resolveSongs=function(e,i){return e.map(function(e){var t=e.id,n=e.name,r="topSong"===i?e.album:e.al,a="detail"===i?e.ar:e.artists,l="simiSong"===i?e.duration:e.dt;return{id:t,name:n,isFree:1!==e.fee,duration:.001*l,singers:a.map(function(e){return{id:e.id,name:e.name}}),albumId:r.id,albumName:r.name,cover:(0,f.replaceHttpToHttps)(r.picUrl)}})};t.resolveDetail=function(e){var t=e.hasOwnProperty("playlist"),n=e.hasOwnProperty("album"),r=!t&&!n;if(t){var a=e.playlist,l=a.name,i=a.tags,u=a.description,o=a.createTime,a=(0,f.replaceHttpToHttps)(e.playlist.coverImgUrl),o={id:e.playlist.creator.userId,name:e.playlist.creator.nickname,avatar:(0,f.replaceHttpToHttps)(e.playlist.creator.avatarUrl),createTime:o};return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a,creator:o,isCreator:Number(localStorage.getItem("userid"))===o.id,tags:i,description:u}}if(n){var c=e.album,l=c.name,s=c.publishTime,u=c.description,c=e.album.artists.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a=(0,f.replaceHttpToHttps)(e.album.picUrl),singers:c,publishTime:s,description:u}}s=e.songs[0],l=s.name,u=s.al,s=u.id,u=u.name,c=e.songs[0].ar.map(function(e){return{id:e.id,name:e.name}});return{isPlaylist:t,isAlbum:n,isSong:r,title:l,cover:a=(0,f.replaceHttpToHttps)(e.songs[0].al.picUrl),singers:c,albumId:s,albumName:u}}},91:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},a=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userPlaylist=t.deleteSonglist=t.songlistSubscribe=t.songlistTracks=t.playlistComment=t.playlistDetail=void 0;var i=l(n(51));t.playlistDetail=function(e){return(0,i.default)("/playlist/detail?id="+e)};t.playlistComment=function(e){return(0,i.default)("/comment/playlist?id="+e)};t.songlistTracks=function(e,t,n){return(0,i.default)("/playlist/tracks?op="+e+"&pid="+t+"&tracks="+n)};t.songlistSubscribe=function(t,n){return void 0===n&&(n=1),r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,i.default)("/playlist/subscribe?t="+n+"&id="+t)];case 1:return[2,e.sent()]}})})};t.deleteSonglist=function(t){return r(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,i.default)("/playlist/delete?id="+t)];case 1:return[2,e.sent()]}})})};t.userPlaylist=function(e){return(0,i.default)("/user/playlist?uid="+e)}},98:function(e,t,n){"use strict";var u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=this&&this.__awaiter||function(e,i,u,o){return new(u=u||Promise)(function(n,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,a)}l((o=o.apply(e,i||[])).next())})},f=this&&this.__generator||function(n,r){var a,l,i,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,l&&(i=2&t[0]?l.return:t[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,t[1])).done)return i;switch(l=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,l=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(i=0<(i=u.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){u.label=t[1];break}if(6===t[0]&&u.label<i[1]){u.label=i[1],i=t;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(t);break}i[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],l=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(n(51)),c=r(n(437)),s=r(n(446)),d=n(148),m=n(88),p=n(27),i=(v.prototype.drawCanvas=function(){this.reqId=requestAnimationFrame(this.drawCanvas);var e=this.analyser,t=this.freqs,n=this.canvasContext;e.getFloatFrequencyData(t);var r=t.map(function(e){return e/140+1});n.clearRect(0,0,900,310);for(var a=900/r.length,l=0;l<r.length;++l){var i=310*r[l];n.fillRect(l*a,310-i,a,i)}},v.prototype.getMusic=function(i){var n=this;return new Promise(function(a,e){var t,l=n.audioContext;n.rejectFn=e,i!==(null===(e=null===(e=n.playingItem)||void 0===e?void 0:e.info)||void 0===e?void 0:e.id)?(t=(0,s.default)().get(i))?l.decodeAudioData(t.buffer.slice(0)).then(function(e){a(u(u({},t),{abuffer:e}))}):(0,o.default)("/getMusicUrl?id="+i).then(function(e){var t;e.error||null!==(t=e.url)&&void 0!==t&&t.includes("music.163.com/404")?a(null):(e=e.url,e=(0,c.default)({url:(0,p.replaceHttpToHttps)(e),responseType:"arraybuffer"}).then(function(e){return e.data}).catch(function(e){return null}),Promise.all([e,(0,d.songDetail)([i]),(0,d.getLyric)(i)]).then(function(e){var t=e[0],n=e[1],e=e[2];if(null===t)return console.log("get music fail, id:",i),void a(null);var n=(0,m.resolveSongs)(n.songs,"detail")[0],e=(0,m.resolveLyric)(e),r={buffer:t,info:u(u({},n),{lyric:e})};(0,s.default)().save(i,r),l.decodeAudioData(t.slice(0)).then(function(e){r.info.duration=e.duration,a(u(u({},r),{abuffer:e}))})}))}):a(n.playingItem)})},v.prototype.restart=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.audioContext.resume()];case 1:return e.sent(),this.status="playing",[2,!0]}})})},v.prototype.play=function(o,c){var s;return l(this,void 0,void 0,function(){var t,n,r,a,l,i,u=this;return f(this,function(e){switch(e.label){case 0:return(i=(t=this).currentSource,n=t.audioContext,r=t.analyser,a=t.playingItem,l=t.status,t.reqId,(0,t.rejectFn)(),o===(null===(s=null==a?void 0:a.info)||void 0===s?void 0:s.id)&&"pause"===l&&(this.restart(),void 0===c))?[2,!0]:(this.startTime=0,i&&(i.onended=null,i.stop(0),i.disconnect(),this.currentSource=null),[4,this.getMusic(o).catch(function(e){return null})]);case 1:return(l=e.sent())?((i=n.createBufferSource()).buffer=l.abuffer,i.connect(r),this.currentSource=i,this.startTime=n.currentTime-(c||0),i.start(n.currentTime,c||0),this.status="playing",this.playingItem=l,i.onended=function(){u.startTime=0,u.status="pendding",u.onEnded&&u.onEnded()},[2,!0]):[2,!1]}})})},v.prototype.pause=function(){return l(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,this.audioContext.suspend()];case 1:return e.sent(),this.status="pause",[2,!0]}})})},v.prototype.setVolume=function(e){this.gainNode.gain.value=e},v.prototype.drawStart=function(){cancelAnimationFrame(this.reqId),this.reqId=requestAnimationFrame(this.drawCanvas)},v.prototype.drawStop=function(){this.canvasContext.clearRect(0,0,900,310),cancelAnimationFrame(this.reqId)},v.prototype.setCanvasContext=function(e){e.fillStyle="#6dccff",this.canvasContext=e},v.prototype.download=function(r,a){return l(this,void 0,void 0,function(){var t,n;return f(this,function(e){switch(e.label){case 0:return[4,this.getMusic(r)];case 1:return(t=e.sent())?(n=new Blob([t.buffer]),t=URL.createObjectURL(n),(n=document.createElement("a")).href=t,n.download=a+".mp3",n.click(),URL.revokeObjectURL(t),[2,!0]):[2,!1]}})})},v.prototype.setOnEnded=function(e){this.onEnded=e},v.prototype.getCurrentTime=function(){var e=this.audioContext,t=this.startTime;return t?e.currentTime-t:0},v.prototype.getPlayingItem=function(){return this.playingItem.info},v);function v(){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=512,this.analyser.smoothingTimeConstant=.8,this.gainNode.connect(this.audioContext.destination),this.analyser.connect(this.gainNode),this.freqs=new Float32Array(this.analyser.frequencyBinCount),this.canvasContext=null,this.currentSource=null,this.onEnded=null,this.startTime=0,this.playingItem=null,this.status="pendding",this.rejectFn=function(){},this.drawCanvas=this.drawCanvas.bind(this),this.getMusic(776039)}t.default=function(){return a=a||new i}}});